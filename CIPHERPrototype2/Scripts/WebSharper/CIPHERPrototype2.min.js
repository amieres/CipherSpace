(function(){var $$=this,$=this.IntelliFactory.Runtime,a,b,c,d,e,f,g,h,i,j,k,l,m,n,o,p,q,r,s,t,u,v,w,x,y,z,A,B,C,D,E,F,G,H,I,J,K,L,M,N,O,P,Q,R,S,T,U,V,W,X,Y,Z,_0,_1,_2,_3,_4,_5,_6,_7,_8,_9,_,ba,bb,bc,bd,be,bf,bg,bh,bi,bj,bk,bl,bm,bn,bo,bp,bq,br,bs,bt,bu,bv,bw,bx,by,bz,bA,bB,bC,bD,bE,bF,bG;$.Define($$,{CIPHERPrototype1:{AboutForm:{createForm_:function(bH,bI){var bJ;bJ=function(){return function(){return a.createElement("div",{className:"col-md-6"},a.createElement("a",{href:"emails.html"},a.createElement("img",{src:"/EPFile/image/inky-template.svg"}),a.createElement("h6",{},"Foundation for"),a.createElement("h2",{},"Emails"),a.createElement("p",{},"Our email framework helps you craft responsive HTML emails that can be read anywhere on any device. Foundation for Emails helps navigate the how different email clients handle HTML and provide tested patterns that work with Outlook as well as all the other major email clients."),a.createElement("p",{className:"link"},"Learn more about Foundation for Emails")));};};return c.reactRoot2(bH,bI.Dom,bJ);},showForm_:function(){return d.withContainerDo("container flex flexgrow",function(bL){return e.createForm_($.New(g,{$:0}),bL);});}},App:{app:function(bM,bN,bO){return{Model:bM,Update:bN,View:bO};},run:function(bP,bQ){var bR;bR=function(bS){return function(bT){var bU,bX;bU=function(bV){return bT(function(bW){return(bQ.Update.call(null,bV))(bW);});};bX=(bQ.View.call(null,bS))(bU);return h.toReact(bX);};};return c.reactRoot(bQ.Model,bP,bR);}},Browser:{LoginBox:function(bY){var bZ,b0,b1,b2,b3,b4,b5,b6,b7,b8;bZ=f.ofArray([k.Attr().NewAttr("placeholder","User email")]);b0=l.Tags().NewTag("input",bZ);b1=f.ofArray([k.Attr().NewAttr("placeholder","Password"),k.Attr().NewAttr("type","password")]);b2=l.Tags().NewTag("input",b1);b3=$.New(g,{$:0});b4=l.Tags().NewTag("p",b3);b6=f.ofArray([k.Attr().NewAttr("type","button"),k.Attr().NewAttr("value","Enter")]);b7=l.Tags().NewTag("input",b6);b8=function(){return function(){var b$,ca;ca=function(cb){return function(cc){var cd,ce,cf,cg,ch,ci,cj,ck,cl;if(cb){ce=function(cm){return cm.$==29?"ErrGuestUserNotActivated":cm.$==28?"ErrAleaError ("+n.prettyPrint(cm.$0)+", "+n.prettyPrint(cm.$1)+")":cm.$==27?"ErrNoRecordsProcessed":cm.$==26?"ErrUnsuportedDataStorage":cm.$==25?"ErrWebSharperCompiler "+n.prettyPrint(cm.$0):cm.$==24?"ErrFSharpCompiler "+n.prettyPrint(cm.$0):cm.$==23?"ErrFeatureNotImplemented "+n.prettyPrint(cm.$0):cm.$==22?"ErrRecordNotFound ("+n.prettyPrint(cm.$0)+", "+n.prettyPrint(cm.$1)+")":cm.$==21?"ErrRecordWasNotUpdated "+n.prettyPrint(cm.$0):cm.$==20?"ErrDockerIsNotPresent "+ci(cm.$0):cm.$==19?"ErrObjectNotFound "+cl(cm.$0):cm.$==18?"ErrNoProvisionedClientAvailable":cm.$==17?"ErrClientNotFound "+ck(cm.$0):cm.$==16?"ErrUserIsNotDefined "+n.prettyPrint(cm.$0):cm.$==15?"ErrUserIsNotAssociatedToClient "+cj(cm.$0):cm.$==14?"ErrDockerDataNotFound "+ci(cm.$0):cm.$==13?"ErrUniqueIdNotDefinedForReport "+cf(cm.$0):cm.$==12?"ErrDockerDefinitionNotFound "+ci(cm.$0):cm.$==11?"ErrTableDefinitionNotFound "+cg(cm.$0):cm.$==10?"ErrReportDefinitionNotFound "+cf(cm.$0):cm.$==9?"ErrInvalidContentPageForClient "+n.prettyPrint(cm.$0):cm.$==8?"ErrInvalidToken "+n.prettyPrint(cm.$0):cm.$==7?"ErrLoginFailed "+n.prettyPrint(cm.$0):cm.$==6?"ErrUserIsNotLoggedIn":cm.$==5?"ErrValueIsNull ("+n.prettyPrint(cm.$0)+", "+n.prettyPrint(cm.$1)+")":cm.$==4?"ErrParameterMissing "+n.prettyPrint(cm.$0):cm.$==3?"ErrDuplicatedKeys ("+n.prettyPrint(cm.$0)+", "+n.printArray(function(cn){return n.prettyPrint(cn);},cm.$1)+")":cm.$==2?"ErrUndefinedKeys ("+n.prettyPrint(cm.$0)+", "+n.printArray(function(co){return n.prettyPrint(co);},cm.$1)+")":cm.$==1?"ErrExceptionThrown "+n.prettyPrint(cm.$0):"WarnNotification "+n.prettyPrint(cm.$0);};cf=function(cp){return"Report "+n.prettyPrint(cp.$0);};cg=function(cq){return cq.$==2?"ExternalTable ("+n.prettyPrint(cq.$0)+", "+n.prettyPrint(cq.$1)+")":cq.$==1?"SystemTable "+n.prettyPrint(cq.$0):"DimensionTable "+ch(cq.$0);};ch=function(cr){return"Dimension "+n.prettyPrint(cr.$0);};ci=function(cs){return cs.$==5?"DckDockSpawn":cs.$==4?"DckPhosphor":cs.$==3?"DckWCDocker":cs.$==2?"DckGoldenLayout":cs.$==1?"DckSingle":"DckEmpty";};cj=function(ct){return"User "+n.prettyPrint(ct.$0);};ck=function(cu){return"Client "+n.prettyPrint(cu.$0);};cl=function(cv){return"OWorkspace "+n.prettyPrint(cv.$0);};cd=b4.set_Text(n.printList(function(cw){return ce(cw);},cc));}else{cd=null;}return cd;};};b$=m.callR(function(cx){return p.messagesDo(ca,cx);});return b$.Delay(function(){return b$.Bind(r.Async("CIPHERPrototype2:15",[b0.get_Value(),b2.get_Value()]),function(cz){d.globalToken=function(){return cz;};s.location.href=bY;return b$.Zero();});});};};t.Events().OnClick(b8,b7);b5=f.ofArray([b4,b0,b2,b7]);return l.Tags().NewTag("div",b5);},allPanels:function(cA,cB){var cC;cC=function(cD){return d.getPanelRegister(cA,cD);};return f.map(cC,cB);},createCanvasNone:function(){return d.withContainerDo("flex flexgrow",function(){return null;});},createDockEnvironment:function(cF){return d.withContainerDo("flex flexgrow",function(cG){var cH;cH=m.call();return cH.Delay(function(){return cH.Bind(r.Async("CIPHERPrototype2:17",[]),function(cJ){return cH.Bind(r.Async("CIPHERPrototype2:18",[]),function(cK){var cL,cM,cN,cO,cP,cQ,cR,cS,cT,cU;cL=f.ofArray([l.Tags().text("save")]);cM=l.Tags().NewTag("button",cL);cN=f.ofArray([l.Tags().text("restore")]);cO=l.Tags().NewTag("button",cN);cP=d.allPanels(cJ,cK);cR=f.ofArray([cM,cO]);cS=f.ofArray([k.Attr().NewAttr("class","flex flexgrow"),k.Attr().NewAttr("id","SinglePane")]);cT=l.Tags().NewTag("div",cS);cU=((cF(cP))(cM))(cO);u.OnAfterRender(cU,cT);cQ=u.add(cG,f.ofArray([l.Tags().NewTag("div",cR),cT]));return cH.Zero();});});});});},createPanelReport:function(cV,cW,cX){var cY,cZ,c0,c1,c2,c3,c4,c5,c9,c_,c$,da,dd,de,df;cY=[cV,cW,cX];cZ=cY[2];c0=cY[0];c1=cY[1];c2=d.instance()+1;d.instance=function(){return c2;};c3=f.ofArray([k.Attr().NewAttr("class","iframe-cover-on")]);c4=l.Tags().NewTag("div",c3);c5=function(c6){return function(){var c8;if(v.body.style.cursor===""?d.mouseStatus()===0:false){c6["HtmlProvider@33"].RemoveClass(c6.get_Body(),"iframe-cover-on");c8=c6["HtmlProvider@33"].AddClass(c6.get_Body(),"iframe-cover-off");}else{c8=null;}return c8;};};t.Events().OnMouseEnter(c5,c4);c9=c4;c_=f.ofArray([k.Attr().NewAttr("class","flex flexgrow"),k.Attr().NewAttr("src",cZ+w(d.instance())),k.Attr().NewAttr("frameborder","0"),k.Attr().NewAttr("height","100%"),k.Attr().NewAttr("width","100%")]);c$=l.Tags().NewTag("iframe",c_);da=function(){return function(){c9["HtmlProvider@33"].RemoveClass(c9.get_Body(),"iframe-cover-off");return c9["HtmlProvider@33"].AddClass(c9.get_Body(),"iframe-cover-on");};};t.Events().OnMouseLeave(da,c$);dd=c$;df=f.ofArray([k.Attr().NewAttr("class","flex flexgrow"),k.Attr().NewAttr("style","position: relative; height: 100%; width: 100%; ")]);de=u.add(l.Tags().NewTag("div",df),f.ofArray([c9,dd]));return[c1,de,function(){return null;}];},createPanelTable:function(dh,di,dj){var dk,dl,dm,dn,_do;dk=x.GridSync(dh,dj);dl=dk[0];dm=dk[1];dn=dk[2];_do=u.add(l.Tags().NewTag("div",dl),f.ofArray([k.Attr().NewAttr("class","flex flexgrow"),k.Attr().NewAttr("style","position: relative; height: 100%; width: 100%; ")]));return[di,_do,function(){return dn(dm.Dom);}];},findPanelFromEndPoint:function(dq,dr){var ds,dx,dy,dz,dA,dB,dC,dD,dE,dF,dG,dH,dI,dJ,dV;ds=function(dt){var du,dv,dw;if(dt.$==1){dt.$1;dv=dt.$0;du={$:3,$0:dv};}else{dt.$1;dw=dt.$0;du={$:2,$0:dw};}return y.Equals(dq,du);};dx=z.tryFind(ds,dr);dz=function(dK){return dK.$==15?"CPHomePage":dK.$==14?"CPLogout":dK.$==13?"CPUploadForm":dK.$==12?"CPUserForm":dK.$==11?"CPClientForm":dK.$==10?"CPFancyTreeTest":dK.$==9?"CPSiteMap":dK.$==8?"CPAbout":dK.$==7?"CPInputForm "+dJ(dK.$0):dK.$==6?"CPInclude ("+n.prettyPrint(dK.$0)+", "+n.prettyPrint(dK.$1)+", "+n.prettyPrint(dK.$2)+")":dK.$==5?"CPCubeOlap "+dH(dK.$0):dK.$==4?"CPDimension "+dE(dK.$0):dK.$==3?"CPReport "+dF(dK.$0):dK.$==2?"CPTable "+dD(dK.$0):dK.$==1?"CPDocker ("+dA(dK.$0)+", "+dB(dK.$1)+")":"CPTestJM";};dA=function(dL){return dL.$==5?"DckDockSpawn":dL.$==4?"DckPhosphor":dL.$==3?"DckWCDocker":dL.$==2?"DckGoldenLayout":dL.$==1?"DckSingle":"DckEmpty";};dB=function(dM){return dM.$==2?"LoadWorkspace "+dG(dM.$0):dM.$==1?"LoadPanel "+dC(dM.$0):"NoRequest";};dC=function(dN){return dN.$==1?"PanelReport ("+dF(dN.$0)+", "+n.prettyPrint(dN.$1)+", "+n.prettyPrint(dN.$2)+")":"PanelTable ("+dD(dN.$0)+", "+n.prettyPrint(dN.$1)+")";};dD=function(dO){return dO.$==2?"ExternalTable ("+n.prettyPrint(dO.$0)+", "+n.prettyPrint(dO.$1)+")":dO.$==1?"SystemTable "+n.prettyPrint(dO.$0):"DimensionTable "+dE(dO.$0);};dE=function(dP){return"Dimension "+n.prettyPrint(dP.$0);};dF=function(dQ){return"Report "+n.prettyPrint(dQ.$0);};dG=function(dR){return"Workspace "+n.prettyPrint(dR.$0);};dH=function(dS){return"CubeOlap ("+n.prettyPrint(dS.$0)+", "+dI(dS.$1)+")";};dI=function(dT){return"ServerOlap "+n.prettyPrint(dT.$0);};dJ=function(dU){return dU.$==2?"IFDimension "+dE(dU.$0):dU.$==1?"IFUser":"IFClient";};dy=dz(dq);dV={$:9,$0:dy};return p.fromOption(dV,dx);},getPanelRegister:function(dW,dX){var dY,dZ,d0,d1,d2,d4,d5,d6,d7;if(dX.$==1){dZ=dX.$2;d0=dX.$1;d1=dX.$0;d2=[];d2[1]=d1;d2[0]=1;while(d2[0]){d2[0]=0;d2[1]="Report "+n.prettyPrint(d2[1].$0);}dY=[d2[1],function(){return d.createPanelReport(dW,d0,dZ);}];}else{d4=dX.$1;d5=dX.$0;d6=function(d8){return d8.$==2?"ExternalTable ("+n.prettyPrint(d8.$0)+", "+n.prettyPrint(d8.$1)+")":d8.$==1?"SystemTable "+n.prettyPrint(d8.$0):"DimensionTable "+d7(d8.$0);};d7=function(d9){return"Dimension "+n.prettyPrint(d9.$0);};dY=[d6(d5),function(){return d.createPanelTable(dW,d4,d5);}];}return dY;},globalToken:$.Field(function(){return{Name:"00000000-0000-0000-0000-000000000000",Hash:""};}),instance:$.Field(function(){return 1;}),mouseStatus:$.Field(function(){return 0;}),onMouseDown:function(){var ea;ea=d.mouseStatus()+1;d.mouseStatus=function(){return ea;};return;},onMouseUp:function(){var ec;ec=d.mouseStatus()-1;d.mouseStatus=function(){return ec;};return;},registerMouseEvents:$.Field(function(){v.body.addEventListener("mousedown",function(ed){return d.onMouseDown(ed);});return v.body.addEventListener("mouseup",function(ee){return d.onMouseUp(ee);});}),showPanel:function(ef){return d.withContainerDo("flex flexgrow",function(eg){var eh;eh=m.call();return eh.Delay(function(){return eh.Bind(r.Async("CIPHERPrototype2:17",[]),function(ej){return eh.Bind(r.Async("CIPHERPrototype2:18",[]),function(ek){return eh.Bind1(d.findPanelFromEndPoint(ef,ek),function(el){var em,en,eo,ep,eq,er;em=d.getPanelRegister(ej,el);em[0];en=em[1];eo=en(null);ep=eo[1];eq=eo[2];er=u.add(eg,f.ofArray([ep]));eq(null);return eh.Zero();});});});});});},withContainerDo:function(es,et){var eu,ev,ew,ey;eu=f.ofArray([k.Attr().NewAttr("class",es)]);ev=l.Tags().NewTag("div",eu);ew=function(ex){return et(ex);};u.OnAfterRender(ew,ev);ey=ev;return ey;}},ClientForm:{dataStorageToDataValue:function(ez){var eA,eB;if(ez.$==0){eB=ez.$0;eA=eB;}else{eA={$:4};}return eA;},dataValueToString:function(eC){var eD,eE,eF;if(eC.$==0){eE=eC.$0;eD=eE;}else{if(eC.$==3){eD="";}else{eF=[];eF[1]=eC;eF[0]=1;while(eF[0]){if(eF[1].$==4){eF[0]=0;eF[1]="DUnsupported";}else{if(eF[1].$==3){eF[0]=0;eF[1]="DNull";}else{if(eF[1].$==2){eF[0]=0;eF[1]="DFloat "+n.prettyPrint(eF[1].$0);}else{if(eF[1].$==1){eF[0]=0;eF[1]="DInt "+n.prettyPrint(eF[1].$0);}else{eF[0]=0;eF[1]="DText "+n.prettyPrint(eF[1].$0);}}}}}eD="<"+eF[1]+">";}}return eD;},fieldsFromColumns:function(eG){var eH,e7,e8,fh;eH=function(eI){return function(eJ){var eK,eO,e0,e1,e2,e3,e4,e5,e6;eK=function(eL){var eM,eN;if(eL.$==1){eN=eL.$0;eM=A.get(eN,eI);}else{eM={$:4};}return eM;};eO=function(eP){return function(eQ){var eR,eS,eT,eV,eW,eX,eY,eZ;if(eQ.$==1){eS=eQ.$0;eT=function(eU){return{$:1,$0:eU};};eV=[eJ.ColumnName,eI,eP];eW=eV[0];eX=eV[1];eY=eV[2];eZ=c.newDataArray(eS,eW,eX,eY);eR=B.map(eT,eZ);}else{eR={$:0};}return eR;};};e0=C.defField(eK);e1=eJ.ColumnName;e2=eJ.Caption;e3=eJ.MaxLength;e4=eJ.AllowDBNull;e5=eJ.AllowDBNull;e6=eJ.DataTypeName;return $.New(D,{fieldName:e1,getter:e0.getter,setter:eO,labelO:e2,placeholderO:e0.placeholderO,typeF:e6,maxLen:e3,hidden:e0.hidden,canBeNull:e4,canBeEmpty:e5,isReadOnly:e0.isReadOnly,trimText:e0.trimText,blankspaces:e0.blankspaces,validation:e0.validation,preButton:e0.preButton,postButton:e0.postButton,inputType:e0.inputType});};};e7=z.mapi(eH,eG);e8=function(e9){var e_,e$,fa,fb,fc;e_=e9.fieldName;if(e_==="industry_type"){fa={$:1,$0:"Industry"};e$=$.New(D,{fieldName:e9.fieldName,getter:e9.getter,setter:e9.setter,labelO:fa,placeholderO:e9.placeholderO,typeF:e9.typeF,maxLen:e9.maxLen,hidden:e9.hidden,canBeNull:e9.canBeNull,canBeEmpty:e9.canBeEmpty,isReadOnly:e9.isReadOnly,trimText:e9.trimText,blankspaces:e9.blankspaces,validation:e9.validation,preButton:e9.preButton,postButton:e9.postButton,inputType:e9.inputType});}else{if(E.EndsWith(e_,"_email")){fc={$:1,$0:function(fd){var fe,ff,fg;if((e9.canBeNull?true:e9.canBeEmpty)?y.Equals(fd,{$:3})?true:y.Equals(fd,{$:0,$0:""}):false){fe=G.New($.New(g,{$:0}));}else{ff=e9.basicValidations(fd);fg=c.validateEmailP(fd);fe=G.New1(H.OfSeq(z.append(fg,ff)));}return fe;}};fb=$.New(D,{fieldName:e9.fieldName,getter:e9.getter,setter:e9.setter,labelO:e9.labelO,placeholderO:e9.placeholderO,typeF:e9.typeF,maxLen:e9.maxLen,hidden:e9.hidden,canBeNull:e9.canBeNull,canBeEmpty:e9.canBeEmpty,isReadOnly:e9.isReadOnly,trimText:e9.trimText,blankspaces:e9.blankspaces,validation:fc,preButton:e9.preButton,postButton:"Verify",inputType:"email"});}else{fb=e9;}e$=fb;}return e$;};fh=z.map(e8,e7);return z.toList(fh);},inputForm:function(fi){var fj,fk,fl,fC;fj=f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]);fk=l.Tags().NewTag("div",fj);fl=function(fm){var fn;fn=m.call();return fn.Delay(function(){return fn.Bind(r.Async("CIPHERPrototype2:20",[fi]),function(fp){var fq,fr,fs,ft,fu,fv,fw,fz;fq=fp[0];fr=fp[2];fs=fp[1];ft=c.fieldsFromColumns(fs);fu={data:fr,validations:G.New($.New(g,{$:0}))};fv=fm.Dom;fw=function(fx){return function(fy){return c.renderFormFields(ft,fx,fy);};};fz=function(fA){return function(fB){return c.renderInputForm(fi,fq,fw,fA,fB);};};c.reactRoot(fu,fv,fz);return fn.Zero();});});};u.OnAfterRender(fl,fk);fC=fk;return fC;},newDataArray:function(fD,fE,fF,fG){var fH,fI,fJ,fK,fN;fH=[fE,fF,fG];fI=fH[2];fJ=fH[1];fH[0];fK=function(fL){return function(fM){return fJ===fL?fI:fM;};};fN=A.mapi(fK,fD);return{$:1,$0:fN};},reactContainerClass:function(fO,fP){return a.createClass({displayName:"containerClass",componentDidMount:function(){return(fP(this))(I.findDOMNode(this));},shouldComponentUpdate:function(){return false;},render:function(){return a.createElement("div",{className:fO});}});},reactRoot:function(fQ,fR,fS){var fT,f0;fT=function(){var fU,fV,fY=this,fZ;fU=this.setState;fV=function(fW){var fX;fX=fU.apply(fY,[fW]);return;};fZ=fY.state;return(fS(fZ))(fV);};f0=a.createClass({displayName:"rootClass",getInitialState:function(){return fQ;},render:fT});return I.render(a.createElement(f0),fR);},reactRoot2:function(f2,f3,f4){var f5,ga;f5=function(){var f6,f7,f_=this,f$;f6=this.setState;f7=function(f8){var f9;f9=f6.apply(f_,[f8]);return;};f$=f_.state;return(f4(f$))(f7);};ga=a.createClass({displayName:"rootClass",getInitialState:function(){return f2;},render:f5});return I.render(a.createElement(ga),f3);},renderFormFields:function(gc,gd,ge){var gf,gp,gv,gM,gN;gf=function(gg){return function(gh){var gi,gn,go;gi=function(gj){var gk,gl,gm;if(gj.$==1){if(gj.$0.$==1){gm=gj.$0.$0;gl=gm!==gg;}else{gl=true;}gk=gl;}else{gk=true;}return gk;};gn=gd.validations;go=J.Filter(gi,gn);return G.New1(H.OfSeq(z.append(gh,go)));};};gp=function(gq){var gr,gt,gu;gr=function(gs){return gs.headPathIs(gq)?{$:1,$0:gs.reducePath()}:{$:0};};gt=gd.validations;gu=z.choose(gr,gt);return G.New(gu);};gv=function(gw){var gx,gy;if(gw.hidden){gx={$:0};}else{gy=c.renderStringInputDM(gw,{data:{$:0,$0:gw.getter.call(null,gd.data)},validations:gp(gw.fieldName)},function(gz){var gA,gB,gC,gD,gE;gA=gz.data;if(gA.$==0){gC=gA.$0;gD=(gw.setter.call(null,gC))(gd.data);gE=function(gF){return ge(function(){var gH,gJ,gK;gH=function(gI){return gI.addPath(gw.fieldName);};gJ=gz.validations;gK=G.New1(H.OfSeq(z.map(gH,gJ)));return{data:gF,validations:(gf(gw.fieldName))(gK)};});};gB=B.iter(gE,gD);}else{gB=ge(function(gL){return{data:gL.data,validations:G.New(f.ofArray([$.New(K,{$:0,$0:{$:3,$0:"Expected SingleValue"}})]))};});}return gB;});gx={$:1,$0:gy};}return gx;};gM=f.choose(gv,gc);gN=f.ofArray([L.className("panel-body flex flexgrow")]);return L.div(gN,gM);},renderInputForm:function(gO,gP,gQ,gR,gS){var gT,gZ,g0,g7,g8,g9;gT=function(gU){var gV,gW;if(gR.validations.get_Count()===0){gW=m.call();gV=gW.Delay(function(){return gW.Bind(r.Async("CIPHERPrototype2:21",[gO,gR.data]),function(){s.location.reload();return gW.Zero();});});}else{gV=null;}return gU.preventDefault();};gZ=gR.validations;g0=function(g1){var g2,g3;g2=function(g4){return g4.$==1?"PathValidation ("+n.printList(function(g5){return n.prettyPrint(g5);},g4.$0)+", "+g3(g4.$1)+")":"InputValidation "+g3(g4.$0);};g3=function(g6){return g6.$==4?"VPatternNotMatch ("+n.prettyPrint(g6.$0)+", "+n.prettyPrint(g6.$1)+")":g6.$==3?"VUnsupportedData "+n.prettyPrint(g6.$0):g6.$==2?"VCannotModify":g6.$==1?"VNotLongerThan "+n.prettyPrint(g6.$0):"VEmpty";};return g2(g1);};g7=z.map(g0,gZ);g8=E.concat(",  ",g7);g9=c.validationMsg(g8);return a.createElement("form",{className:"panel panel-info",onSubmit:gT},a.createElement("div",{className:"panel-heading"},a.createElement("label",{className:"panel-title text-center"},gP)),a.createElement("div",{className:"panel-body"},(gQ(gR))(gS)),a.createElement("div",{className:"panel-footer"},a.createElement("input",{type:"submit",placeholder:"Post",className:"btn btn-primary",disabled:gR.validations.get_Count()>0}),g9));},renderStringInput:function(g_,g$,ha,hb){var hc,hd,he,hf,hg,hi,hj,hm;hc=(g_.preButton===""?g_.postButton==="":false)?"":"input-group ";hd=g_.preButton===""?"":a.createElement("span",{className:"input-group-btn"},a.createElement("button",{type:"button",className:"btn btn-default"},g_.preButton));he=g_.postButton===""?"":a.createElement("span",{className:"input-group-btn"},a.createElement("button",{type:"button",className:"btn btn-default"},g_.postButton));hf=ha.get_Count()===0?"":" alert-danger";hg=function(hh){return hb(hh.target.value);};hi={type:g_.inputType,placeholder:g_.get_placeholder(),value:g$,onChange:hg,className:"form-control"+hf};g_.maxLen>0?void(hi.maxLength=g_.maxLen):null;hj=function(hk){var hl;hl=[];hl[1]=hk;hl[0]=1;while(hl[0]){if(hl[1].$==4){hl[0]=0;hl[1]="VPatternNotMatch ("+n.prettyPrint(hl[1].$0)+", "+n.prettyPrint(hl[1].$1)+")";}else{if(hl[1].$==3){hl[0]=0;hl[1]="VUnsupportedData "+n.prettyPrint(hl[1].$0);}else{if(hl[1].$==2){hl[0]=0;hl[1]="VCannotModify";}else{if(hl[1].$==1){hl[0]=0;hl[1]="VNotLongerThan "+n.prettyPrint(hl[1].$0);}else{hl[0]=0;hl[1]="VEmpty";}}}}}return hl[1];};hm=G.New1(H.OfSeq(z.map(hj,ha)));return a.createElement("div",{className:"form-group",key:g_.fieldName},a.createElement("label",{className:"textInputLabel"},g_.get_label()),c.validationMsg(E.concat(", ",hm)),a.createElement("div",{className:hc},hd,a.createElement("input",hi),he));},renderStringInputDM:function(hn,ho,hp){var hq,hr,hs,ht,hv,hz,hA,hB,hC,hD;hq=ho.data;hr=c.dataStorageToDataValue(hq);hs=c.dataValueToString(hr);ht=function(hu){return hu.reducePath();};hv=function(hw){var hx,hy;if(hw.$==0){hy=hw.$0;hx={$:1,$0:hy};}else{hx={$:0};}return hx;};hz=ho.validations;hA=z.map(ht,hz);hB=z.choose(hv,hA);hC=G.New(hB);hD=function(hE){var hF,hG,hI;hF=(hn.canBeNull?hE==="":false)?{$:3}:{$:0,$0:hE};hG=function(hH){return $.New(K,{$:0,$0:hH});};hI=hn.validations(hF);return hp({data:{$:0,$0:hF},validations:G.New1(H.OfSeq(z.map(hG,hI)))});};return c.renderStringInput(hn,hs,hC,hD);},validateEmailP:function(hJ){var hK,hL;hK=new M("^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$");hL=c.dataValueToString(hJ);return hK.test(hL)?G.New($.New(g,{$:0})):G.New(f.ofArray([{$:4,$0:"not a valid email",$1:hL}]));},validationMsg:function(hM){return hM===""?"":a.createElement("span",{className:"alert validation"},hM);}},ClientFormClient:{init:function(hN,hO){return{form:N.init(hN),dialog:O.init(),popup:P.init(),client:hO,serverGridProcessorO:{$:0},reportGridProcessorO:{$:0},paramGridProcessorO:{$:0},itemsCallback:{$:0}};},runApp_:function(hP,hQ,hR){var hS,hT,hV,h1,h7,ib,iu,iA,iC,iN,iP,i0,i2,jb,jx,jA;hS=[{$:0}];hT=function(hU){return hS[0].$==0?void(hS[0]=hU):null;};hV=function(hW){var hX,hZ,h0;hX=function(hY){return hY(hW);};hZ=hS[0];h0=B.map(hX,hZ);return;};h1=function(h2){var h3,h4,h5,h6;h3=[h2,true];h4=h3[0];h5=h3[1];h6={$:0,$0:h4,$1:h5};return hV({$:0,$0:h6});};h7=function(h8){var h9,h_,h$,ia;h9=[h8,false];h_=h9[0];h$=h9[1];ia={$:0,$0:h_,$1:h$};return hV({$:0,$0:ia});};ib=function(ic){return function(){var ie,_if,ig,im,_in,io,ip;ie=ic.form.validations;if(ie.get_Count()===0){ig=m.call();_if=ig.Delay(function(){h1("saving...");return ig.Bind(r.Async("CIPHERPrototype2:1",[hP,ic.client]),function(ii){var ij,ik,il;ij=ii[1];ik=ii[0];h7(ij);if(ik){s.location.reload();il=ig.Zero();}else{il=ig.Zero();}return il;});});}else{im=ic.form.validations;_in=z.toArray(im);io=function(iq){return iq.$==1?"PathValidation ("+n.printList(function(ir){return n.prettyPrint(ir);},iq.$0)+", "+ip(iq.$1)+")":"InputValidation "+ip(iq.$0);};ip=function(is){return is.$==4?"VPatternNotMatch ("+n.prettyPrint(is.$0)+", "+n.prettyPrint(is.$1)+")":is.$==3?"VUnsupportedData "+n.prettyPrint(is.$0):is.$==2?"VCannotModify":is.$==1?"VNotLongerThan "+n.prettyPrint(is.$0):"VEmpty";};_if=h7("cannot save: "+n.printArray(function(it){return io(it);},_in));}return _if;};};iu=function(){var iw;iw=m.call();return iw.Delay(function(){h1("replicating customer...");return iw.Bind(r.Async("CIPHERPrototype2:28",[hP]),function(iy){var iz;iz=[];iz[1]=iy;iz[0]=1;while(iz[0]){iz[0]=0;iz[1]="Client "+n.prettyPrint(iz[1].$0);}h7("replicated "+iz[1]);return iw.Zero();});});};iA=function(iB){return hV({$:6,$0:iB});};iC=c.reactContainerClass("flex flexgrow",function(){return function(iE){var iF,iG,iJ,iL,iM;iF=[{id:"name",name:"Alias",field:"name"},{id:"Server",name:"Server",field:"server",editor:Q.Editors.Text},{id:"Model",name:"Model",field:"model",editor:Q.Editors.Text}];iG=function(){return function(iI){return[iI,null];};};iJ=function(iK){return iK;};iL=hR.client.serverOlaps;iM=A.map(iJ,iL);x.SimpleGrid(iF,iM,iG,{$:1,$0:iA},iE);return null;};});iN=function(iO){return hV({$:8,$0:iO});};iP=c.reactContainerClass("flex flexgrow",function(){return function(iR){var iS,iT,iW,iY,iZ;iS=[{id:"Name",name:"Name",field:"name"},{id:"Type",name:"Report Type",field:"typeR"},{id:"uniqueId",name:"Unique Id",field:"uniqueId",editor:Q.Editors.Text},{id:"options",name:"Options",field:"options",editor:Q.Editors.Text}];iT=function(){return function(iV){return[iV,{code:"",name:"",value:""}];};};iW=function(iX){return iX;};iY=hR.client.reports;iZ=A.map(iW,iY);x.SimpleGrid(iS,iZ,iT,{$:1,$0:iN},iR);return null;};});i0=function(i1){return hV({$:10,$0:i1});};i2=c.reactContainerClass("flex flexgrow",function(){return function(i4){var i5,i6,i9,i$,ja;i5=[{id:"Parameter",name:"Parameter",field:"name"},{id:"Value",name:"Value",field:"value",editor:Q.Editors.Text}];i6=function(){return function(i8){return[i8,{code:"",name:"",value:""}];};};i9=function(i_){return i_;};i$=hR.client.parameters;ja=A.map(i9,i$);x.SimpleGrid(i5,ja,i6,{$:1,$0:i0},i4);return null;};});jb=function(jc){return function(jd){var je,jf,jg,jh,ji,jj,jl,jn,jo,js,ju,jv;hT({$:1,$0:jd});je=f.ofArray([["x","btn-xs btn-default  pull-right",iu],["Save","btn    btn-default  pull-right",ib(jc)]]);jg=$.New(g,{$:0});jh=$.New(g,{$:0});ji=jc.dialog;jj=function(jk){return jd({$:1,$0:jk});};jl=f.ofArray([["-",function(jm){return jm;}]]);jn=jc.popup;jo=function(jp){return jd({$:2,$0:jp});};js=jc.client.industry;jf=f.ofArray([O.view("title",jg,jh,ji,jj),P.view(jl,jn,jo),h.Div(f.ofArray([h.Class("flex flexgrow"),R.textNotEmpty("Name",jc.client.name,function(jq){return jd({$:4,$0:jq});},f.ofArray([h.Placeholder("enter name"),h.MaxLength(150)]),jc.form.validations,function(jr){return jd({$:0,$0:jr});}),R.textWoValidator("Industry",S.defaultV("",js),function(jt){return jd({$:5,$0:jt});},f.ofArray([h.Placeholder("enter industry"),h.MaxLength(200)]))])),h.Div(f.ofArray([h.Class("flex flexgrow flex1"),{$:5,$0:iP}])),h.Div(f.ofArray([h.Class("flex flexgrow flex1"),{$:5,$0:i2}])),h.Div(f.ofArray([h.Class("flex flexgrow flex1"),{$:5,$0:iC}]))]);ju=jc.form;jv=function(jw){return jd({$:0,$0:jw});};return N.view(je,jf,ju,jv);};};jx=function(jy){return function(jz){return T.update(jy,jz);};};jA=U.app(hR,jx,jb);return U.run(hQ,jA);},showForm_:function(jB){return d.withContainerDo("flex flexgrow",function(jC){var jD;jD=m.call();return jD.Delay(function(){return jD.Bind(r.Async("CIPHERPrototype2:17",[]),function(jF){return jD.Bind(r.Async("CIPHERPrototype2:0",[jF]),function(jG){var jH,jI;jH=jC.Dom;jI=T.init(jB,jG);T.runApp_(jF,jH,jI);return jD.Zero();});});});});},update:function(jJ,jK){var jL,jM,j4,j5,j6,j7,j8,j9,j_,j$,ka,kb,kc,kd,ke,kf,kg,ki,kj,kk,km,kn,ko,kq,kr,ks,kt,ku,kv,kw,kx,ky,kz,kA,kC,kD,kE,kF,kG,kH,kI,kJ,kK,kL,kM,kN,kP,kQ,kR,kS,kT,kU,kV,kW,kX,kY,kZ,k0,k2,k3,k4,k5,k6;if(jK.form.debug){jM=function(jN){var jO,jP,jQ,jR,jS,jT,jU;jP=function(jV){return jV.$==12?"WhenReceiveItems "+n.prettyPrint(jV.$0):jV.$==11?"ToParamGrid "+jU(jV.$0):jV.$==10?"FromParamGrid "+jT(jV.$0):jV.$==9?"ToReportGrid "+jU(jV.$0):jV.$==8?"FromReportGrid "+jT(jV.$0):jV.$==7?"ToServerGrid "+jU(jV.$0):jV.$==6?"FromServerGrid "+jT(jV.$0):jV.$==5?"IndustryChange "+n.prettyPrint(jV.$0):jV.$==4?"NameChange "+n.prettyPrint(jV.$0):jV.$==3?"DoAction "+n.prettyPrint(jV.$0):jV.$==2?"ToPopupMsg "+jS(jV.$0):jV.$==1?"ToDialogMsg "+jR(jV.$0):"ToFormMsg "+jQ(jV.$0);};jQ=function(jW){return jW.$==3?"SetDebug "+n.prettyPrint(jW.$0):jW.$==2?"SetModified "+n.prettyPrint(jW.$0):jW.$==1?"AddValidation ("+n.prettyPrint(jW.$0)+", "+n.prettyPrint(jW.$1)+")":"ShowInfo ("+n.prettyPrint(jW.$0)+", "+n.prettyPrint(jW.$1)+")";};jR=function(jX){return"ShowDialog "+n.prettyPrint(jX.$0);};jS=function(jY){return jY.$==2?"HidePopUp":jY.$==1?"AdjustBase ("+n.prettyPrint(jY.$0)+", "+n.prettyPrint(jY.$1)+")":"ShowPopUp ("+n.prettyPrint(jY.$0)+", "+n.prettyPrint(jY.$1)+")";};jT=function(jZ){return jZ.$==3?"Columns "+n.printArray(function(j0){return n.prettyPrint(j0);},jZ.$0):jZ.$==2?"Items "+n.printArray(function(j1){return n.prettyPrint(j1);},jZ.$0):jZ.$==1?"MessageProcessor "+n.prettyPrint(jZ.$0):"ShowInfo ("+n.prettyPrint(jZ.$0)+", "+n.prettyPrint(jZ.$1)+")";};jU=function(j2){return j2.$==3?"SetItems "+n.printArray(function(j3){return n.prettyPrint(j3);},j2.$0):j2.$==2?"SendColumns":j2.$==1?"SendItems":"Clear";};jO=jP(jN);return V?V.log(jO):undefined;};jL=jM(jJ);}else{jL=null;}if(jJ.$==2){j5=jJ.$0;j6=P.update(j5,jK.popup);j4={form:jK.form,dialog:jK.dialog,popup:j6,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}else{if(jJ.$==1){j7=jJ.$0;j8=O.update(j7,jK.dialog);j4={form:jK.form,dialog:j8,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}else{if(jJ.$==3){j9=jJ.$0;j4=j9(jK);}else{if(jJ.$==4){j_=jJ.$0;j$=jK.client;ka={code:j$.code,name:j_,industry:j$.industry,serverOlaps:j$.serverOlaps,reports:j$.reports,parameters:j$.parameters};j4={form:N.update({$:2,$0:true},jK.form),dialog:jK.dialog,popup:jK.popup,client:ka,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}else{if(jJ.$==5){kb=jJ.$0;kc=jK.client;kd={$:1,$0:kb};ke={code:kc.code,name:kc.name,industry:kd,serverOlaps:kc.serverOlaps,reports:kc.reports,parameters:kc.parameters};j4={form:N.update({$:2,$0:true},jK.form),dialog:jK.dialog,popup:jK.popup,client:ke,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}else{if(jJ.$==7){kf=jJ.$0;kg=function(kh){return kh(kf);};ki=jK.serverGridProcessorO;B.iter(kg,ki);j4=jK;}else{if(jJ.$==9){kj=jJ.$0;kk=function(kl){return kl(kj);};km=jK.reportGridProcessorO;B.iter(kk,km);j4=jK;}else{if(jJ.$==11){kn=jJ.$0;ko=function(kp){return kp(kn);};kq=jK.paramGridProcessorO;B.iter(ko,kq);j4=jK;}else{if(jJ.$==6){kr=jJ.$0;if(kr.$==0){kt=kr.$1;ku=kr.$0;kv={$:0,$0:ku,$1:kt};kw={$:0,$0:kv};ks=T.update(kw,jK);}else{if(kr.$==1){kx=kr.$0;ky={$:1,$0:kx};ks={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:ky,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}else{if(kr.$==2){kz=kr.$0;kA=function(kB){return kB(p.succeed(kz));};kC=jK.itemsCallback;B.iter(kA,kC);kD={$:0};ks={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:kD};}else{ks=jK;}}}j4=ks;}else{if(jJ.$==8){kE=jJ.$0;if(kE.$==0){kG=kE.$1;kH=kE.$0;kI={$:0,$0:kH,$1:kG};kJ={$:0,$0:kI};kF=T.update(kJ,jK);}else{if(kE.$==1){kK=kE.$0;kL={$:1,$0:kK};kF={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:kL,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}else{if(kE.$==2){kM=kE.$0;kN=function(kO){return kO(p.succeed(kM));};kP=jK.itemsCallback;B.iter(kN,kP);kQ={$:0};kF={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:kQ};}else{kF=jK;}}}j4=kF;}else{if(jJ.$==10){kR=jJ.$0;if(kR.$==0){kT=kR.$1;kU=kR.$0;kV={$:0,$0:kU,$1:kT};kW={$:0,$0:kV};kS=T.update(kW,jK);}else{if(kR.$==1){kX=kR.$0;kY={$:1,$0:kX};kS={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:kY,itemsCallback:jK.itemsCallback};}else{if(kR.$==2){kZ=kR.$0;k0=function(k1){return k1(p.succeed(kZ));};k2=jK.itemsCallback;B.iter(k0,k2);k3={$:0};kS={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:k3};}else{kS=jK;}}}j4=kS;}else{if(jJ.$==12){k4=jJ.$0;k5={$:1,$0:k4};j4={form:jK.form,dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:k5};}else{k6=jJ.$0;j4={form:N.update(k6,jK.form),dialog:jK.dialog,popup:jK.popup,client:jK.client,serverGridProcessorO:jK.serverGridProcessorO,reportGridProcessorO:jK.reportGridProcessorO,paramGridProcessorO:jK.paramGridProcessorO,itemsCallback:jK.itemsCallback};}}}}}}}}}}}}return j4;}},CubeOlapForm:{cubeOlapForm_:function(k7,k8,k9){return d.withContainerDo("flex flexgrow",function(k_){var k$;k$=m.call();return k$.Delay(function(){return k$.Bind(r.Async("CIPHERPrototype2:17",[]),function(lb){var lc,ld;lc=k_.Dom;ld=W.init(k8,k9);W.runApp_(lb,k7,lc,ld);return k$.Zero();});});});},init:function(le,lf){return{form:N.init(le),dialog:O.init(),popup:P.init(),dimensions:[],defaults:[],isGuestUser:lf,cubeGridProcessorO:{$:0},itemsCallback:{$:0},columnsCallback:{$:0}};},runApp_:function(lg,lh,li,lj){var lk,ll,ln,lt,lz,lF,lI,lN,lS,lY,mv,mJ,mL,m5,nr,nN,nQ;lk=[{$:0}];ll=function(lm){return lk[0].$==0?void(lk[0]=lm):null;};ln=function(lo){var lp,lr,ls;lp=function(lq){return lq(lo);};lr=lk[0];ls=B.map(lp,lr);return;};lt=function(lu){var lv,lw,lx,ly;lv=[lu,true];lw=lv[0];lx=lv[1];ly={$:0,$0:lw,$1:lx};return ln({$:0,$0:ly});};lz=function(lA){var lB,lC,lD,lE;lB=[lA,false];lC=lB[0];lD=lB[1];lE={$:0,$0:lC,$1:lD};return ln({$:0,$0:lE});};lF=function(){var lH;lH={$:0};return ln({$:4,$0:lH});};lI=function(){return X.FromContinuations(function(lK){var lL,lM;lL=lK[0];lK[1];lK[2];ln({$:7,$0:lL});lM={$:1};return ln({$:4,$0:lM});});};lN=function(){return X.FromContinuations(function(lP){var lQ,lR;lQ=lP[0];lP[1];lP[2];ln({$:8,$0:lQ});lR={$:2};return ln({$:4,$0:lR});});};lS=function(lT){var lU,lW,lX;lU=function(lV){return lV.get_name();};lW=A.map(lU,lT);lX=[""];return lW.concat(lX);};lY=function(lZ){return function(){var l1;l1=m.call();return l1.Delay(function(){return l1.Bind(lN(null),function(l3){var l4,l8,l$,ma,mb,mc,md,me,mf;l4=function(l5){return function(l6){var l7;l7=l6.field;return[l5,l7];};};l8=function(l9){var l_;l9[0];l_=l9[1];return l_;};l$=A.mapi(l4,l3);ma=A.sortBy(l8,l$);mb=v.getElementById("filesel").files;if(A.length(mb)>0){md=A.get(mb,0);me=new Y();mf=function(mg){var mh,mi,mj,mq,mr,ms,mt,mu;mh=mg.target.result;mi=E.SplitChars(mh,E.ToCharArray("\r\n"),1);mj=function(mk){var ml,mm,mp;ml=E.SplitChars(mk,E.ToCharArray("\u0009"),0);mm=function(mn){var mo;mo=mn[0];mn[1];return mo>=A.length(ml)?"":A.get(ml,mo);};mp=A.map(mm,ma);return mp;};mq=A.map(mj,mi);ms=lS(lZ.defaults);mr=[ms];mt=mr.concat(mq);mu={$:3,$0:mt};return ln({$:4,$0:mu});};me.onload=mf;me.readAsText(md);mc=l1.Zero();}else{mc=l1.Zero();}return mc;});});};};mv=function(mw){return function(){var my;my=m.call();return my.Delay(function(){lt("Importing data ...");return my.Bind(lI(null),function(mA){var mB,mH;mB=function(mC){var mD,mG;mD=function(mE){return function(){return A.get(mC,mE);};};mG=mw.dimensions;return[A.get(mC,A.length(mw.dimensions)),A.mapi(mD,mG)];};mH=A.map(mB,mA);return my.Bind(r.Async("CIPHERPrototype2:27",[lg,lh,mH]),function(mI){lz(mI);return my.Zero();});});});};};mJ=function(mK){return ln({$:3,$0:mK});};mL=c.reactContainerClass("flex flexgrow",function(){return function(mN){var mO;mO=m.call();return mO.Delay(function(){lt("loading...");return mO.Bind(r.Async("CIPHERPrototype2:25",[lg,lh]),function(mQ){var mR,mS,mT,mW,mX,mY,mZ;mR=mQ[1];mS=mQ[0];ln({$:5,$0:mS});ln({$:6,$0:mR});mT=function(mU){return function(mV){return{id:mV.get_dimOlapId(),name:mV.get_name(),field:mU,editor:Q.Editors.Text};};};mW=A.mapi(mT,mS);mX=[{id:"#",name:"Value",field:A.length(mS),editor:Q.Editors.Text}];mY=mW.concat(mX);mZ=function(m0){return function(m1){var m2,m3;if(!m0?true:m0.length<A.length(mY)+1){m3=A.create(A.length(mY)+1,"");m2=m3;}else{m2=m0;}return[m1,m2];};};return mO.Bind1(x.SimpleGrid(mY,[lS(mR)],mZ,{$:1,$0:mJ},mN),function(){lz("");return mO.Zero();});});});};});m5=function(){var m7;m7=m.call();return m7.Delay(function(){if(V){V.log("loading...");}return m7.Bind(r.Async("CIPHERPrototype2:25",[lg,lh]),function(m9){var m_,m$,na;m_=m9[1];m$=m9[0];na=function(nb){var nc,nd;nc="Dim: "+n.toSafe(nb.get_name());if(V){V.log(nc);}nd=m.call();return nd.Delay(function(){return nd.Bind(r.Async("CIPHERPrototype2:26",[lg,nb]),function(nf){var ng;ng=function(nh){var ni,nj,nk,nl,nm,nn,no;ni=nh[0];nj=nh[1];nk=nb.get_name();nl=ni.get_elemOlapId();nm=ni.get_name();nn="==> Dim: "+n.toSafe(nk)+", Id: "+n.toSafe(nl)+", Elem: "+n.toSafe(nm);V?V.log(nn):undefined;no=function(np){var nq;nq="==>==> Child: "+n.toSafe(np.get_name());return V?V.log(nq):undefined;};return A.iter(no,nj);};A.iter(ng,nf);return nd.Zero();});});};A.iter(na,m$);return m7.Zero();});});};nr=function(ns){return function(nt){var nu,nv,nz,nA,nB,nC,nD,nF,nH,nI,nK,nL;ll({$:1,$0:nt});nu=ns.form.processing?true:ns.isGuestUser;nv=f.ofArray([["Upload data","btn btn-default",nu?function(nw){return nw;}:mv(ns)],["remove all","btn btn-default",nu?function(nx){return nx;}:lF],["read file","btn btn-default",nu?function(ny){return ny;}:lY(ns)],["Test!","btn btn-info",m5]]);nA=$.New(g,{$:0});nB=$.New(g,{$:0});nC=ns.dialog;nD=function(nE){return nt({$:1,$0:nE});};nF=f.ofArray([["-",function(nG){return nG;}]]);nH=ns.popup;nI=function(nJ){return nt({$:2,$0:nJ});};nz=f.ofArray([O.view("title",nA,nB,nC,nD),P.view(nF,nH,nI),h.Input(f.ofArray([h.Type("file"),h.Id("filesel")])),h.Div(f.ofArray([h.Class("flex-row flexgrow"),{$:5,$0:mL}]))]);nK=ns.form;nL=function(nM){return nt({$:0,$0:nM});};return N.view(nv,nz,nK,nL);};};nN=function(nO){return function(nP){return W.update(nO,nP);};};nQ=U.app(lj,nN,nr);return U.run(li,nQ);},update:function(nR,nS){var nT,nU,oi,oj,ok,ol,om,on,oo,oq,or,os,ot,ou,ow,ox,oy,oz,oB,oC,oD,oE,oF,oG,oH,oI,oJ,oK,oL,oM,oN,oO,oP;if(nS.form.debug){nU=function(nV){var nW,nX,nY,nZ,n0,n1,n2,n3,n4,n5;nX=function(n6){return n6.$==8?"WhenReceiveColumns "+n.prettyPrint(n6.$0):n6.$==7?"WhenReceiveItems "+n.prettyPrint(n6.$0):n6.$==6?"Defaults "+n.printArray(function(n7){return n5(n7);},n6.$0):n6.$==5?"Dimensions "+n.printArray(function(n8){return n3(n8);},n6.$0):n6.$==4?"ToCubeGrid "+n2(n6.$0):n6.$==3?"FromCubeGrid "+n1(n6.$0):n6.$==2?"ToPopupMsg "+n0(n6.$0):n6.$==1?"ToDialogMsg "+nZ(n6.$0):"ToFormMsg "+nY(n6.$0);};nY=function(n9){return n9.$==3?"SetDebug "+n.prettyPrint(n9.$0):n9.$==2?"SetModified "+n.prettyPrint(n9.$0):n9.$==1?"AddValidation ("+n.prettyPrint(n9.$0)+", "+n.prettyPrint(n9.$1)+")":"ShowInfo ("+n.prettyPrint(n9.$0)+", "+n.prettyPrint(n9.$1)+")";};nZ=function(n_){return"ShowDialog "+n.prettyPrint(n_.$0);};n0=function(n$){return n$.$==2?"HidePopUp":n$.$==1?"AdjustBase ("+n.prettyPrint(n$.$0)+", "+n.prettyPrint(n$.$1)+")":"ShowPopUp ("+n.prettyPrint(n$.$0)+", "+n.prettyPrint(n$.$1)+")";};n1=function(oa){return oa.$==3?"Columns "+n.printArray(function(ob){return n.prettyPrint(ob);},oa.$0):oa.$==2?"Items "+n.printArray(function(oc){return n.prettyPrint(oc);},oa.$0):oa.$==1?"MessageProcessor "+n.prettyPrint(oa.$0):"ShowInfo ("+n.prettyPrint(oa.$0)+", "+n.prettyPrint(oa.$1)+")";};n2=function(od){return od.$==3?"SetItems "+n.printArray(function(oe){return n.prettyPrint(oe);},od.$0):od.$==2?"SendColumns":od.$==1?"SendItems":"Clear";};n3=function(of){return"DimOlap ("+n.prettyPrint(of.$0)+", "+n4(of.$1)+")";};n4=function(og){return"ServerOlap "+n.prettyPrint(og.$0);};n5=function(oh){return"ElemOlap ("+n.prettyPrint(oh.$0)+", "+n3(oh.$1)+")";};nW=nX(nV);return V?V.log(nW):undefined;};nT=nU(nR);}else{nT=null;}if(nR.$==2){oj=nR.$0;ok=P.update(oj,nS.popup);oi={form:nS.form,dialog:nS.dialog,popup:ok,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:nS.columnsCallback};}else{if(nR.$==1){ol=nR.$0;om=O.update(ol,nS.dialog);oi={form:nS.form,dialog:om,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:nS.columnsCallback};}else{if(nR.$==4){on=nR.$0;oo=function(op){return op(on);};oq=nS.cubeGridProcessorO;B.iter(oo,oq);oi=nS;}else{if(nR.$==3){or=nR.$0;if(or.$==2){ot=or.$0;ou=function(ov){return ov(p.succeed(ot));};ow=nS.itemsCallback;B.iter(ou,ow);ox={$:0};os={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:ox,columnsCallback:nS.columnsCallback};}else{if(or.$==3){oy=or.$0;oz=function(oA){return oA(p.succeed(oy));};oB=nS.columnsCallback;B.iter(oz,oB);oC={$:0};os={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:oC};}else{if(or.$==1){oD=or.$0;oE={$:1,$0:oD};os={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:oE,itemsCallback:nS.itemsCallback,columnsCallback:nS.columnsCallback};}else{oF=or.$1;oG=or.$0;oH={$:0,$0:oG,$1:oF};oI={$:0,$0:oH};os=W.update(oI,nS);}}}oi=os;}else{if(nR.$==7){oJ=nR.$0;oK={$:1,$0:oJ};oi={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:oK,columnsCallback:nS.columnsCallback};}else{if(nR.$==8){oL=nR.$0;oM={$:1,$0:oL};oi={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:oM};}else{if(nR.$==5){oN=nR.$0;oi={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:oN,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:nS.columnsCallback};}else{if(nR.$==6){oO=nR.$0;oi={form:nS.form,dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:oO,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:nS.columnsCallback};}else{oP=nR.$0;oi={form:N.update(oP,nS.form),dialog:nS.dialog,popup:nS.popup,dimensions:nS.dimensions,defaults:nS.defaults,isGuestUser:nS.isGuestUser,cubeGridProcessorO:nS.cubeGridProcessorO,itemsCallback:nS.itemsCallback,columnsCallback:nS.columnsCallback};}}}}}}}}return oi;}},DckDockSpawn:{addPanel:function(oQ){var oR,oS,o0;oR=Z.globalDocker();oS=function(oT){var oU,oZ;oU=function(oV){var oW,oX,oY;oW=oV[0];oV[1];if(oQ===oW){oV[0];oY=oV[1];oX=Z.createPanel(oY,oT);}else{oX=null;}return oX;};oZ=Z.globalPanels();return z.iter(oU,oZ);};o0=B.map(oS,oR);return;},createDockEnvironment:function(o1){var o2;o2=function(o3){return function(o4){return function(o5){return function(o6){var o7,o8,o9,o_,o$,pa;Z.createDockManager(o3,o4,o5,o6);if(o1.$==1){o8=o1.$0;o9=function(pb){return pb.$==1?"PanelReport ("+pa(pb.$0)+", "+n.prettyPrint(pb.$1)+", "+n.prettyPrint(pb.$2)+")":"PanelTable ("+o_(pb.$0)+", "+n.prettyPrint(pb.$1)+")";};o_=function(pc){return pc.$==2?"ExternalTable ("+n.prettyPrint(pc.$0)+", "+n.prettyPrint(pc.$1)+")":pc.$==1?"SystemTable "+n.prettyPrint(pc.$0):"DimensionTable "+o$(pc.$0);};o$=function(pd){return"Dimension "+n.prettyPrint(pd.$0);};pa=function(pe){return"Report "+n.prettyPrint(pe.$0);};o7=Z.addPanel(o9(o8));}else{o7=null;}return o7;};};};};return d.createDockEnvironment(function(pf){return o2(pf);});},createDockManager:function(pg,ph,pi,pj){var pk,pl;pk=p.flow();pl=pk.Delay(function(){return pk.Bind(p.tryProtection(),function(){var po,pp,pr;po=new _0.DockManager(pj.Dom);pp=function(){pj["HtmlProvider@33"].SetAttribute(pj.get_Body(),"style","");return po.resize(pj.Dom.clientWidth,pj.Dom.clientHeight);};po.initialize();s.addEventListener("resize",pp);pp(null);pr={$:1,$0:po};Z.globalDocker=function(){return pr;};Z.globalPanels=function(){return pg;};return pk.Zero();});});return p.notifyMessages(pl);},createPanel:function(ps,pt){var pu,pv,pw,px,py,pz;pu=ps(null);pv=pu[0];pw=pu[1];px=pu[2];py=new _0.PanelContainer(pw.Dom,pt,pv);pz=pt.context.model.documentManagerNode;pt.dockFill(pz,py);return px(null);},globalDocker:$.Field(function(){return{$:0};}),globalPanels:$.Field(function(){return $.New(g,{$:0});})},DckGoldenLayout:{addPanel:function(pA){var pB,pE,pF;pB=function(pC){var pD;pD={type:"component",componentName:pA,title:pA};return A.get(pC.root.contentItems,0).addChild(pD);};pE=_1.globalDocker();pF=B.map(pB,pE);return;},createDockEnvironment:function(pG){var pH;pH=function(pI){return function(pJ){return function(pK){return function(pL){var pM,pN,pO,pP,pQ,pR,pS;_1.createDockManager(pI,pJ,pK,pL);if(pG.$==2){pN=pG.$0;pM=_1.loadWorkspace(pN);}else{if(pG.$==1){pO=pG.$0;pP=function(pT){return pT.$==1?"PanelReport ("+pS(pT.$0)+", "+n.prettyPrint(pT.$1)+", "+n.prettyPrint(pT.$2)+")":"PanelTable ("+pQ(pT.$0)+", "+n.prettyPrint(pT.$1)+")";};pQ=function(pU){return pU.$==2?"ExternalTable ("+n.prettyPrint(pU.$0)+", "+n.prettyPrint(pU.$1)+")":pU.$==1?"SystemTable "+n.prettyPrint(pU.$0):"DimensionTable "+pR(pU.$0);};pR=function(pV){return"Dimension "+n.prettyPrint(pV.$0);};pS=function(pW){return"Report "+n.prettyPrint(pW.$0);};pM=_1.addPanel(pP(pO));}else{pM=null;}}return pM;};};};};return d.createDockEnvironment(function(pX){return pH(pX);});},createDockManager:function(pY,pZ,p0,p1){var p2,p3;p2=p.flow();p3=p2.Delay(function(){return p2.Bind(p.tryProtection(),function(){var p6,p7,p8,qb,qc,qd,qi,qj,qm;p6={content:[{type:"stack",content:[]}]};p7=new _2(p6,p1.Dom);p8=function(p9){var p_,p$;p_=p9[0];p$=p9[1];return p7.registerComponent(p_,function(qa){return _1.createPanelGL(p$,qa);});};z.iter(p8,pY);p7.init();qb=p7.container.addClass("flex flexgrow");qc={$:1,$0:p7};_1.globalDocker=function(){return qc;};qd=function(){return function(){var qg,qh;qg=_3.stringify(p7.toConfig(),null,2);_1.savedLayout=function(){return qg;};qh=_1.savedLayout();return V?V.log(qh):undefined;};};t.Events().OnClick(qd,pZ);qi=pZ;qj=function(){return function(){p7.destroy();p7.config=_3.parse(_1.savedLayout());return p7.init();};};t.Events().OnClick(qj,p0);qm=p0;return p2.Zero();});});return p.notifyMessages(p3);},createPanelGL:function(qn,qo){var qp,qq,qr,qs,qt;qp=qn(null);qq=qp[0];qr=qp[1];qs=qp[2];qo.setTitle(qq);qt=qo.getElement().append(qr.Dom);return qs(null);},globalDocker:$.Field(function(){return{$:0};}),htmlMessages:function(qu){var qv,qz,qA;qv=function(qw){var qx,qy;qy=n.prettyPrint(qw);qx=f.ofArray([l.Tags().text(qy)]);return l.Tags().NewTag("div",qx);};qz=z.map(qv,qu);qA=z.toList(qz);return l.Tags().NewTag("div",qA);},loadWorkspace:function(qB){var qC;qC=m.call();return qC.Delay(function(){var qE,qF;qE=_1.globalDocker();qF={$:20,$0:{$:2}};return qC.Bind1(p.fromOption(qF,qE),function(qG){return qC.Bind(r.Async("CIPHERPrototype2:19",[qB.get_getObject()]),function(qH){qG.destroy();qG.config=_3.parse(qH);qG.init();return qC.Zero();});});});},savedLayout:$.Field(function(){return"";})},DckPhosphor:{addPanel:function(qI){var qJ,qK,qS;qJ=_4.globalDocker();qK=function(qL){var qM,qR;qM=function(qN){var qO,qP,qQ;qO=qN[0];qN[1];if(qI===qO){qN[0];qQ=qN[1];qP=_4.createPanel(qQ,qL);}else{qP=null;}return qP;};qR=_4.globalPanels();return z.iter(qM,qR);};qS=B.map(qK,qJ);return;},createDockEnvironment:function(qT){var qU;qU=function(qV){return function(qW){return function(qX){return function(qY){var qZ,q0,q1,q2,q3,q4;_4.createDockManager(qV,qW,qX,qY);if(qT.$==1){q0=qT.$0;q1=function(q5){return q5.$==1?"PanelReport ("+q4(q5.$0)+", "+n.prettyPrint(q5.$1)+", "+n.prettyPrint(q5.$2)+")":"PanelTable ("+q2(q5.$0)+", "+n.prettyPrint(q5.$1)+")";};q2=function(q6){return q6.$==2?"ExternalTable ("+n.prettyPrint(q6.$0)+", "+n.prettyPrint(q6.$1)+")":q6.$==1?"SystemTable "+n.prettyPrint(q6.$0):"DimensionTable "+q3(q6.$0);};q3=function(q7){return"Dimension "+n.prettyPrint(q7.$0);};q4=function(q8){return"Report "+n.prettyPrint(q8.$0);};qZ=_4.addPanel(q1(q0));}else{qZ=null;}return qZ;};};};};return d.createDockEnvironment(function(q9){return qU(q9);});},createDockManager:function(q_,q$,ra,rb){var rc,rd;rc=p.flow();rd=rc.Delay(function(){return rc.Bind(p.tryProtection(),function(){var rg,ri;rg=new _5.DockPanel();rg.addClass("flexgrow");rg.attach(rb.Dom);s.addEventListener("resize",function(){return rg.update();});ri={$:1,$0:rg};_4.globalDocker=function(){return ri;};_4.globalPanels=function(){return q_;};return rc.Zero();});});return p.notifyMessages(rd);},createPanel:function(rj,rk){var rl,rm,rn,ro,rp,rq;rl=rj(null);rm=rl[0];rn=rl[1];ro=rl[2];rp=new _6.Widget();rp.title.text=rm;rp.title.closable=true;rq=rp.node.appendChild(rn.Dom);rk.insertTabAfter(rp);rk.selectWidget(rp);return ro(null);},globalDocker:$.Field(function(){return{$:0};}),globalPanels:$.Field(function(){return $.New(g,{$:0});})},DckSingle:{addPanel:function(rr){var rs,rt,rC;rs=_7.globalDocker();rt=function(ru){var rv,rw,rB;rv=_8(ru.Dom).children().remove();rw=function(rx){var ry,rz,rA;ry=rx[0];rx[1];if(rr===ry){rx[0];rA=rx[1];rz=_7.createPanel(rA,ru);}else{rz=null;}return rz;};rB=_7.globalPanels();return z.iter(rw,rB);};rC=B.map(rt,rs);return;},createDockEnvironment:function(rD){var rE;rE=function(rF){return function(rG){return function(rH){return function(rI){var rJ,rK,rL,rM,rN,rO;_7.createDockManager(rF,rG,rH,rI);if(rD.$==1){rK=rD.$0;rL=function(rP){return rP.$==1?"PanelReport ("+rO(rP.$0)+", "+n.prettyPrint(rP.$1)+", "+n.prettyPrint(rP.$2)+")":"PanelTable ("+rM(rP.$0)+", "+n.prettyPrint(rP.$1)+")";};rM=function(rQ){return rQ.$==2?"ExternalTable ("+n.prettyPrint(rQ.$0)+", "+n.prettyPrint(rQ.$1)+")":rQ.$==1?"SystemTable "+n.prettyPrint(rQ.$0):"DimensionTable "+rN(rQ.$0);};rN=function(rR){return"Dimension "+n.prettyPrint(rR.$0);};rO=function(rS){return"Report "+n.prettyPrint(rS.$0);};rJ=_7.addPanel(rL(rK));}else{rJ=null;}return rJ;};};};};return d.createDockEnvironment(function(rT){return rE(rT);});},createDockManager:function(rU,rV,rW,rX){var rY,rZ;rY=p.flow();rZ=rY.Delay(function(){return rY.Bind(p.tryProtection(),function(){var r2;r2={$:1,$0:rX};_7.globalDocker=function(){return r2;};_7.globalPanels=function(){return rU;};return rY.Zero();});});return p.notifyMessages(rZ);},createPanel:function(r3,r4){var r5,r6,r7,r8;r5=r3(null);r5[0];r6=r5[1];r7=r5[2];r8=u.add(r4,f.ofArray([r6]));return r7(null);},globalDocker:$.Field(function(){return{$:0};}),globalPanels:$.Field(function(){return $.New(g,{$:0});})},DckWCDocker:{addPanel:function(r9){var r_,sa,sb;r_=function(r$){return r$.addPanel(r9,"top");};sa=_9.globalDocker();sb=B.map(r_,sa);return;},createDockEnvironment:function(sc){var sd;sd=function(se){return function(sf){return function(sg){return function(sh){var si,sj,sk,sl,sm,sn,so;_9.createDockManager(se,sf,sg,sh);if(sc.$==2){sj=sc.$0;si=_9.loadWorkspace(sj);}else{if(sc.$==1){sk=sc.$0;sl=function(sp){return sp.$==1?"PanelReport ("+so(sp.$0)+", "+n.prettyPrint(sp.$1)+", "+n.prettyPrint(sp.$2)+")":"PanelTable ("+sm(sp.$0)+", "+n.prettyPrint(sp.$1)+")";};sm=function(sq){return sq.$==2?"ExternalTable ("+n.prettyPrint(sq.$0)+", "+n.prettyPrint(sq.$1)+")":sq.$==1?"SystemTable "+n.prettyPrint(sq.$0):"DimensionTable "+sn(sq.$0);};sn=function(sr){return"Dimension "+n.prettyPrint(sr.$0);};so=function(ss){return"Report "+n.prettyPrint(ss.$0);};si=_9.addPanel(sl(sk));}else{si=null;}}return si;};};};};return d.createDockEnvironment(function(st){return sd(st);});},createDockManager:function(su,sv,sw,sx){var sy,sz;sy=p.flow();sz=sy.Delay(function(){return sy.Bind(p.tryProtection(),function(){var sC,sD,sI,sJ,sO,sP,sS;sC=new _(sx.Dom,{themePath:"/Resources/css"});sD=function(sE){var sF,sG;sF=sE[0];sG=sE[1];return sC.registerPanelType(sF,{onCreate:function(sH){return _9.createPanelWC(sG,sH);}});};z.iter(sD,su);sI={$:1,$0:sC};_9.globalDocker=function(){return sI;};sJ=function(){return function(){var sM,sN;sM=sC.save();_9.savedLayout=function(){return sM;};sN=_9.savedLayout();return V?V.log(sN):undefined;};};t.Events().OnClick(sJ,sv);sO=sv;sP=function(){return function(){return sC.restore(_9.savedLayout());};};t.Events().OnClick(sP,sw);sS=sw;return sy.Zero();});});return p.notifyMessages(sz);},createPanelWC:function(sT,sU){var sV,sW,sX,sY,sZ;sV=sT(null);sW=sV[0];sX=sV[1];sY=sV[2];sU.layout().addItem(sX.Dom);sZ=sU.title(sW);return sY(null);},globalDocker:$.Field(function(){return{$:0};}),loadWorkspace:function(s0){var s1;s1=m.call();return s1.Delay(function(){var s3,s4;s3=_9.globalDocker();s4={$:20,$0:{$:2}};return s1.Bind1(p.fromOption(s4,s3),function(s5){return s1.Bind(r.Async("CIPHERPrototype2:19",[s0.get_getObject()]),function(s6){s5.restore(s6);return s1.Zero();});});});},savedLayout:$.Field(function(){return"{\"floating\":[],\"root\":{\"type\":\"wcSplitter\",\"horizontal\":true,\"isDrawer\":false,\"pane0\":{\"type\":\"wcSplitter\",\"horizontal\":false,\"isDrawer\":false,\"pane0\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"top\",\"pos\":{\"x\":0.5,\"y\":0.5},\"size\":{},\"tab\":2,\"panels\":[{\"type\":\"wcPanel\",\"panelType\":\"Report 2\",\"size\":{\"x\":-1,\"y\":-1},\"customData\":{}},{\"type\":\"wcPanel\",\"panelType\":\"Report 3\",\"size\":{\"x\":101,\"y\":829},\"customData\":{}},{\"type\":\"wcPanel\",\"panelType\":\"Report 4\",\"size\":{\"x\":101,\"y\":829},\"customData\":{}}]},\"pane1\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"top\",\"pos\":{\"x\":1.525381492236894,\"y\":1.276168043596031},\"size\":{\"x\":949,\"y\":413},\"tab\":0,\"panels\":[{\"type\":\"wcPanel\",\"panelType\":\"Table \\\"Parameters\\\"\",\"size\":{\"x\":949,\"y\":413},\"customData\":{}}]},\"pos\":0.7080711438817885},\"pane1\":{\"type\":\"wcSplitter\",\"horizontal\":false,\"isDrawer\":false,\"pane0\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"top\",\"pos\":{\"x\":0.5,\"y\":0.5},\"size\":{},\"tab\":0,\"panels\":[{\"type\":\"wcPanel\",\"panelType\":\"Report 6\",\"size\":{\"x\":1270,\"y\":584},\"customData\":{}}]},\"pane1\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"top\",\"pos\":{\"x\":3.1477656138118864,\"y\":1.276168043596031},\"size\":{\"x\":611,\"y\":413},\"tab\":0,\"panels\":[{\"type\":\"wcPanel\",\"panelType\":\"Table \\\"Companies\\\"\",\"size\":{\"x\":611,\"y\":413},\"customData\":{}}]},\"pos\":0.6862802598082903},\"pos\":0.6751044053843781},\"collapsers\":{\"left\":{\"size\":0,\"drawer\":{\"closeSize\":0,\"frame\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"left\",\"pos\":{\"x\":0.5,\"y\":0.5},\"size\":{\"x\":400,\"y\":400},\"tab\":-1,\"panels\":[]}}},\"right\":{\"size\":18,\"drawer\":{\"closeSize\":18,\"frame\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"right\",\"pos\":{\"x\":\"Infinity\",\"y\":1.0907949997603528},\"size\":{\"x\":950,\"y\":827},\"tab\":-1,\"panels\":[{\"type\":\"wcPanel\",\"panelType\":\"Table \\\"Accounts\\\"\",\"size\":{\"x\":950,\"y\":827},\"customData\":{}}]}}},\"bottom\":{\"size\":0,\"drawer\":{\"closeSize\":0,\"frame\":{\"type\":\"wcFrame\",\"floating\":false,\"isFocus\":false,\"tabOrientation\":\"bottom\",\"pos\":{\"x\":0.5,\"y\":0.5},\"size\":{\"x\":400,\"y\":400},\"tab\":-1,\"panels\":[]}}}}}";})},Dialog:{init:$.Field(function(){return{show:false};}),rButtons:function(s7){var s8,tc;s8=function(s9){var s_,s$,ta,tb;s_=s9[0];s$=s9[1];ta=s9[2];tb=h.Button(f.ofArray([h.Class(s$),h.Disabled(false),{$:1,$0:s_}]));return(h.OnClick(ta))(tb);};tc=z.map(s8,s7);return z.toList(tc);},update:function(td){var tf;tf=td.$0;return{show:tf};},view:function(tg,th,ti,tj,tk){var tl,tm,to,tu,tv,tw,tx,ty;if(tj.show){tm=function(){return tk({$:0,$0:false});};to=function(tp){var tq,tr,ts;tq=tp[0];tr=tp[1];ts=tp[2];return[tq,tr,function(){tm(null);return ts(null);}];};tu=z.map(to,th);tv=O.rButtons(tu);tw=h.Button(f.ofArray([h.Class("close"),{$:1,$0:"×"}]));tx=h.Div(f.ofArray([h.Class("modal-body")]));ty=h.Div(f.ofArray([h.Class("modal-footer")]));tl=h.Div(f.ofArray([h.Id("dialog"),h.Role("dialog"),h.Class("modal"),h._Style(f.ofArray([h._display("block"),h._position("fixed"),h._marginBottom("5px")])),h.Div(f.ofArray([h.Class("modal-dialog"),h.Div(f.ofArray([h.Class("modal-content"),h.Div(f.ofArray([h.Class("modal-header"),(h.OnClick(tm))(tw),h.H4(f.ofArray([h.Class("modal-title"),{$:1,$0:tg}]))])),h.addChildren(ti,tx),h.addChildren(tv,ty)]))]))]));}else{tl={$:6};}return tl;}},DimModel:{addMoreFields:function(tz,tA,tB,tC,tD,tE){var tF,ul;tF=function(tG){return function(tH){var tI,tJ,tK,tL,tM,tN,tO,tP,tQ,tR,tS,tT,tU,tV,tW,tX,tY,tZ,t2,t3,ua;tI=tG+1;if(tC){tL=tz.selection;if(tL[1].$==1){tN=tL[1].$0[1];tO=tL[1].$0[0];tM=(tI>=tO?tI<=tN:false)?true:tI>=tN?tI<=tO:false;}else{tM=false;}tK=tM;}else{tK=false;}tJ=tK;if(tC){tR=tz.selection;if(tR[0].$==1){if(tR[1].$==1){tU=tR[1].$0[0];tR[1].$0[1];tV=tR[0].$0[0];tT=y.Equals({$:1,$0:tV},tB)?tI===tU:false;}else{tT=false;}tS=tT;}else{tS=false;}tQ=tS;}else{tQ=false;}tP=tQ;tX=f.ofArray([h._paddingLeft("0.5ch"),h._paddingRight("0.5ch"),h._overflow("hidden"),h._textOverflow("ellipsis")]);tY=f.append(tX,tP?f.ofArray([h._background("#EEEEEE"),h._border("1px solid")]):tJ?f.ofArray([h._background(tz.capturing?"#fb1009":"#b7ddfd"),h._border("1px dotted")]):f.ofArray([h._border("1px dotted transparent")]));tW=tE(f.ofArray([h._Style(tY),{$:1,$0:tH}]));tZ=z.toList(z.delay(function(){return tP?z.append([h.TabIndex("1")],z.delay(function(){return[h.AutoFocus("")];})):z.empty();}));t2=((h.addAttributes())(tZ))(tW);t3=(h.OnMouseDown(function(t4){var t5;ba.preventDefault(t4);ba.focusTable(t4);t5=[tB,tI];return tA(((tz.capturing?true:t4.shiftKey)?function(t6){var t7,t8;t7=t6[0];t8=t6[1];return{$:7,$0:t7,$1:t8};}:function(t9){var t_,t$;t_=t9[0];t$=t9[1];return{$:6,$0:t_,$1:t$};})(t5));}))(t2);ua=(h.OnMouseOver(function(){var uc,ud,ue,uf;if(tz.capturing){ud=[tB,tI];ue=ud[0];uf=ud[1];uc=tA({$:5,$0:ue,$1:uf});}else{uc=null;}return uc;}))(t3);return(h.OnMouseUp(function(){var uh,ui,uj,uk;if(tz.capturing){ui=[tB,tI];uj=ui[0];uk=ui[1];uh=tA({$:7,$0:uj,$1:uk});}else{uh=null;}return uh;}))(ua);};};ul=f.mapi(tF,tD);return function(um){return h.addChildren(ul,um);};},"double":function(un){var uo;uo=function(up){return[up,up];};return B.map(uo,un);},elemRows:function(uq,ur,us){var ut;ut=function(uu){var uv,uw,ux,uy,uz,uA,uB,uC,uD,uE;uv=uu.children;uw=z.isEmpty(uv);ux=!uw;uy=uq.expanded.Contains(uu.id);uz=[ux,uy];uA=uz[0]?uz[1]?"\ue114 ":"\ue080 ":"\ue235 ";uB=[uu,uy,uA,ur];if(ux?uy:false){uD=ur+1;uE=uu.children;uC=z.append(f.ofArray([uB]),ba.elemRows(uq,uD,uE));}else{uC=f.ofArray([uB]);}return uC;};return z.collect(ut,us);},focusTable:function(uF){var uG,uH;uG=uF.target.closest.apply(uF.target,["table"]);uH=uG.focus.apply(uG,null);return;},getCurrentCol1:function(uI){var uJ,uK,uL;uJ=uI.selection;if(uJ[1].$==1){uJ[1].$0[1];uL=uJ[1].$0[0];uK={$:1,$0:uL};}else{uK={$:0};}return uK;},getCurrentCol2:function(uM){var uN,uO,uP;uN=uM.selection;if(uN[1].$==1){uP=uN[1].$0[1];uN[1].$0[0];uO={$:1,$0:uP};}else{uO={$:0};}return uO;},getCurrentId1:function(uQ){var uR,uS,uT;uR=uQ.selection;if(uR[0].$==1){uR[0].$0[1];uT=uR[0].$0[0];uS={$:1,$0:uT};}else{uS={$:0};}return uS;},getCurrentId2:function(uU){var uV,uW,uX;uV=uU.selection;if(uV[0].$==1){uX=uV[0].$0[1];uV[0].$0[0];uW={$:1,$0:uX};}else{uW={$:0};}return uW;},getFirstCol:function(){return{$:1,$0:1};},getFirstId:function(uZ){var u0,u2,u3;u0=function(u1){return u1.id;};u2=uZ.elements;u3=bb.tryHead(u2);return B.map(u0,u3);},getLastCol:function(u4){var u5,u7;u5=function(u6){return u6.attributes.get_Length()+3;};u7=u4.dimension;return B.map(u5,u7);},getLastId:function(u8){var u9,va,vb,vc;u9=function(u_){var u$;u$=u_[0];u_[1];u_[2];u_[3];return u$.id;};va=u8.elements;vb=ba.elemRows(u8,0,va);vc=bb.tryLast(vb);return B.map(u9,vc);},getNextCol0:function(vd,ve){var vf,vj;vf=function(vg){var vh;vh=function(vi){return vi>=vg?{$:0}:{$:1,$0:vi+1};};return B.bind(vh,ve);};vj=ba.getLastCol(vd);return B.bind(vf,vj);},getNextCol1:function(vk){var vl;vl=ba.getCurrentCol1(vk);return ba.getNextCol0(vk,vl);},getNextCol2:function(vm){var vn;vn=ba.getCurrentCol2(vm);return ba.getNextCol0(vm,vn);},getNextId0:function(vo,vp){var vq,vs;vq=bc.Create(function(){return ba.elemRows(vo,0,vo.elements);});vs=function(vt){var vu,vx,vB,vC,vD,vE,vF,vG,vH;vu=function(vv){var vw;vw=vv[0];vv[1];vv[2];vv[3];return y.Equals(vw.id,vt);};vx=function(vy){var vz,vA;vz=z.nth(vy,vq.eval());vA=vz[0];return vA.id;};vB=vq.eval();vC=z.tryFindIndex(vu,vB);if(vC.$==1){vF=vC.$0;if(vF+1<z.length(vq.eval())){vH=vC.$0;vG={$:1,$0:vH+1};}else{vG={$:0};}vE=vG;}else{vE={$:0};}vD=vE;return B.map(vx,vD);};return B.bind(vs,vp);},getNextId1:function(vI){var vJ;vJ=ba.getCurrentId1(vI);return ba.getNextId0(vI,vJ);},getNextId2:function(vK){var vL;vL=ba.getCurrentId2(vK);return ba.getNextId0(vK,vL);},getPriorCol0:function(vM,vN){var vO,vS;vO=function(vP){var vQ;vQ=function(vR){return vR<=vP?{$:0}:{$:1,$0:vR-1};};return B.bind(vQ,vN);};vS=ba.getFirstCol(vM);return B.bind(vO,vS);},getPriorCol1:function(vT){var vU;vU=ba.getCurrentCol1(vT);return ba.getPriorCol0(vT,vU);},getPriorCol2:function(vV){var vW;vW=ba.getCurrentCol2(vV);return ba.getPriorCol0(vV,vW);},getPriorId0:function(vX,vY){var vZ,v1;vZ=bc.Create(function(){return ba.elemRows(vX,0,vX.elements);});v1=function(v2){var v3,v6,v_,v$,wa,wb,wc,wd,we;v3=function(v4){var v5;v5=v4[0];v4[1];v4[2];v4[3];return y.Equals(v5.id,v2);};v6=function(v7){var v8,v9;v8=z.nth(v7,vZ.eval());v9=v8[0];return v9.id;};v_=vZ.eval();v$=z.tryFindIndex(v3,v_);if(v$.$==1){wc=v$.$0;if(wc>0){we=v$.$0;wd={$:1,$0:we-1};}else{wd={$:0};}wb=wd;}else{wb={$:0};}wa=wb;return B.map(v6,wa);};return B.bind(v1,vY);},getPriorId1:function(wf){var wg;wg=ba.getCurrentId1(wf);return ba.getPriorId0(wf,wg);},getPriorId2:function(wh){var wi;wi=ba.getCurrentId2(wh);return ba.getPriorId0(wh,wi);},handleKey:function(wj,wk,wl){var wm,wn,wo,wp,wq,wt,wu,wv,ww,wz,wA,wB,wC,wF,wG,wH,wI,wL,wM,wN,wO,wT,wU,wV,wW,w1,w2,w3,w4,w9,w_,w$,xa,xf,xg,xh,xi,xn,xo,xp,xq,xv,xw,xx,xy,xD,xE,xF,xG,xL,xM,xN,xO,xT,xU,xV,xW,x1,x2,x3,x4,x9,x_,x$,ya,yf,yg,yh,yi,yn,yo,yp,yq,yv,yw,yx,yy,yD,yE,yF,yG,yL,yM,yN,yO,yT,yU,yV,yW,y1,y2,y3,y4,y9,y_,y$,za,zf,zg,zh,zi,zn,zo,zp,zq,zv,zw,zx,zy,zD,zE,zF,zG,zL,zM,zN,zO,zT,zU,zV,zW,z1,z2,z3,z4,z9,z_,z$,Aa,Af,Ag,Ah,Ai,An,Ao,Ap,Aq,Av,Aw,Ax,Ay,AB,AC,AD,AE,AJ,AK,AL,AM,AR,AS,AT,AU,AZ,A0,A1,A2,A7,A8,A9,A_,Bd,Be,Bf,Bg,Bl,Bm,Bn,Bo,Bt,Bu,Bv,Bw,BB,BC,BD,BE,BJ,BK,BL,BM,BR,BS,BT,BU,BZ,B0,B1,B2,B7,B8,B9,B_,Cd,Ce,Cf,Cg,Cl,Cm,Cn,Co,Ct,Cu,Cv,Cw,CB,CC,CD,CE,CJ,CK,CL,CM,CR,CS,CT,CU,CZ,C0,C1,C2,C7,C8,C9,C_,Dd,De,Df,Dg,Dl,Dm,Dn,Do,Dt,Du,Dv,Dw,DB,DC,DD,DE,DJ,DK,DL,DM,DR,DS,DT,DU,DZ,D0,D1,D2,D7,D8,D9,D_,Ed,Ee,Ef,Eg,El,Em,En,Eo,Er,Es,Et,Eu,Ex,Ey,Ez,EA,EF,EG,EH,EI,EN,EO,EP,EQ,EV,EW,EX,EY,E3,E4,E5,E6,E$,Fa,Fb,Fc,Fh,Fi,Fj,Fk,Fp,Fq,Fr,Fs,Fx,Fy,Fz,FA,FF,FG,FH,FI,FN,FO,FP,FQ,FV,FW,FX,FY,F3,F4,F5,F6,F$,Ga,Gb,Gc,Gh,Gi,Gj,Gk,Gp,Gq,Gr,Gs,Gx,Gy,Gz,GA,GF,GG,GH,GI,GN,GO,GP,GQ,GV,GW,GX,GY,G3,G4,G5,G6,G$,Ha,Hb,Hc,Hh,Hi,Hj,Hk,Hp,Hq,Hr,Hs,Hx,Hy,Hz,HA,HF,HG,HH,HI,HN,HO,HP,HQ,HV,HW,HX,HY,H3,H4,H5,H6,H$,Ia,Ib,Ic,Ih,Ii,Ij,Ik,In,Io,Ip,Iq,Iv,Iw,Ix,Iy,ID,IE,IF,IG,IL,IM,IN,IO,IT,IU,IV,IW,I1,I2,I3,I4,I9,I_,I$,Ja,Jf,Jg,Jh,Ji,Jn,Jo,Jp,Jq,Jv,Jw,Jx,Jy,JD,JE,JF,JG,JL,JM,JN,JO,JT,JU,JV,JW,J1,J2,J3,J4,J9,J_,J$,Ka,Kf,Kg,Kh,Ki,Kn,Ko,Kp,Kq,Kv,Kw,Kx,Ky,KD,KE,KF,KG,KL,KM,KN,KO,KT,KU,KV,KW,K1,K2,K3,K4,K9,K_,K$,La,Lf,Lg,Lh,Li,Ln,Lo,Lp,Lq,Lv,Lw,Lx,Ly,LD,LE,LF,LG,LL,LM,LN,LO,LT,LU,LV,LW,L1,L2,L3,L4,L9,L_,L$,Ma,Md,Me,Mf,Mg,Mj,Mk,Ml,Mm,Mp,Mq,Mr,Ms,Mx,My,Mz,MA,MF,MG,MH,MI,MN,MO,MP,MQ,MV,MW,MX,MY,M3,M4,M5,M6,M$,Na,Nb,Nc,Nh,Ni,Nj,Nk,Np,Nq,Nr,Ns,Nx,Ny,Nz,NA,NF,NG,NH,NI,NN,NO,NP,NQ,NV,NW,NX,NY,N3,N4,N5,N6,N$,Oa,Ob,Oc,Oh,Oi,Oj,Ok,Op,Oq,Or,Os,Ox,Oy,Oz,OA,OF,OG,OH,OI,ON,OO,OP,OQ,OV,OW,OX,OY,O3,O4,O5,O6,O$,Pa,Pb,Pc,Ph,Pi,Pj,Pk,Pp,Pq,Pr,Ps,Px,Py,Pz,PA,PF,PG,PH,PI,PN,PO,PP,PQ,PV,PW,PX,PY,P3,P4,P5,P6,P$,Qa,Qb,Qc,Qf,Qg,Qh,Qi,Qn,Qo,Qp,Qq,Qv,Qw,Qx,Qy,QD,QE,QF,QG,QL,QM,QN,QO,QT,QU,QV,QW,Q1,Q2,Q3,Q4,Q9,Q_,Q$,Ra,Rf,Rg,Rh,Ri,Rn,Ro,Rp,Rq,Rv,Rw,Rx,Ry,RD,RE,RF,RG,RL,RM,RN,RO,RT,RU,RV,RW,R1,R2,R3,R4,R9,R_,R$,Sa,Sf,Sg,Sh,Si,Sn,So,Sp,Sq,Sv,Sw,Sx,Sy,SD,SE,SF,SG,SL,SM,SN,SO,ST,SU,SV,SW,S1,S2,S3,S4,S9,S_,S$,Ta,Tf,Tg,Th,Ti,Tn,To,Tp,Tq,Tv,Tw,Tx,Ty,TD,TE,TF,TG,TL,TM,TN,TO,TT,TU,TV,TW,T1,T2,T3,T4,T7,T8,T9,T_,Ub,Uc,Ud,Ue,Uj,Uk,Ul,Um,Ur,Us,Ut,Uu,Uz,UA,UB,UC,UH,UI,UJ,UK,UP,UQ,UR,US,UX,UY,UZ,U0,U5,U6,U7,U8,Vb,Vc,Vd,Ve,Vj,Vk,Vl,Vm,Vr,Vs,Vt,Vu,Vz,VA,VB,VC,VH,VI,VJ,VK,VP,VQ,VR,VS,VX,VY,VZ,V0,V5,V6,V7,V8,Wb,Wc,Wd,We,Wj,Wk,Wl,Wm,Wr,Ws,Wt,Wu,Wz,WA,WB,WC,WH,WI,WJ,WK,WP,WQ,WR,WS,WX,WY,WZ,W0,W5,W6,W7,W8,Xb,Xc,Xd,Xe,Xj,Xk,Xl,Xm,Xr,Xs,Xt,Xu,Xz,XA,XB,XC,XH,XI,XJ,XK,XP,XQ,XR,XS,XX,XY,XZ,X0,X3,X4,X5,X6,X$,Ya,Yb,Yc,Yh,Yi,Yj,Yk,Yp,Yq,Yr,Ys,Yx,Yy,Yz,YA,YF,YG,YH,YI,YN,YO,YP,YQ,YV,YW,YX,YY,Y3,Y4,Y5,Y6,Y$,Za,Zb,Zc,Zh,Zi,Zj,Zk,Zp,Zq,Zr,Zs,Zx,Zy,Zz,ZA,ZF,ZG,ZH,ZI,ZN,ZO,ZP,ZQ,ZV,ZW,ZX,ZY,Z3,Z4,Z5,Z6,Z$,_0a,_0b,_0c,_0h,_0i,_0j,_0k,_0p,_0q,_0r,_0s,_0x,_0y,_0z,_0A,_0F,_0G,_0H,_0I,_0N,_0O,_0P,_0Q,_0V,_0W,_0X,_0Y,_03,_04,_05,_06,_0$,_1a,_1b,_1c,_1h,_1i,_1j,_1k,_1p,_1q,_1r,_1s,_1x,_1y,_1z,_1A,_1F,_1G,_1H,_1I,_1N;wm=wl.key;if(wm==="Esc"){wn=wk({$:4,$0:{$:0},$1:{$:0}});}else{if(wm==="ArrowUp"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){wq=function(wr){var ws;ws=ba.getCurrentCol1(wj);return wk({$:4,$0:{$:1,$0:[wr,wr]},$1:ba["double"](ws)});};wt=ba.getPriorId1(wj);wp=B.iter(wq,wt);}else{if(wm==="ArrowDown"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){ww=function(wx){var wy;wy=ba.getCurrentCol1(wj);return wk({$:4,$0:{$:1,$0:[wx,wx]},$1:ba["double"](wy)});};wz=ba.getNextId1(wj);wv=B.iter(ww,wz);}else{if(wm==="ArrowLeft"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){wC=function(wD){var wE;wE=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](wE),$1:{$:1,$0:[wD,wD]}});};wF=ba.getPriorCol1(wj);wB=B.iter(wC,wF);}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){wI=function(wJ){var wK;wK=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](wK),$1:{$:1,$0:[wJ,wJ]}});};wL=ba.getNextCol1(wj);wH=B.iter(wI,wL);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){wO=function(wP){var wQ,wS;wQ=function(wR){return wk({$:7,$0:{$:1,$0:wP},$1:wR});};wS=ba.getCurrentCol1(wj);return B.iter(wQ,wS);};wT=ba.getPriorId1(wj);wN=B.iter(wO,wT);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){wW=function(wX){var wY,w0;wY=function(wZ){return wk({$:7,$0:{$:1,$0:wX},$1:wZ});};w0=ba.getCurrentCol1(wj);return B.iter(wY,w0);};w1=ba.getNextId1(wj);wV=B.iter(wW,w1);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){w4=function(w5){var w6,w8;w6=function(w7){return wk({$:7,$0:{$:1,$0:w7},$1:w5});};w8=ba.getCurrentId1(wj);return B.iter(w6,w8);};w9=ba.getPriorCol1(wj);w3=B.iter(w4,w9);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xa=function(xb){var xc,xe;xc=function(xd){return wk({$:7,$0:{$:1,$0:xd},$1:xb});};xe=ba.getCurrentId1(wj);return B.iter(xc,xe);};xf=ba.getNextCol1(wj);w$=B.iter(xa,xf);}else{w$=null;}w_=w$;}else{w_=null;}w3=w_;}w2=w3;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xi=function(xj){var xk,xm;xk=function(xl){return wk({$:7,$0:{$:1,$0:xl},$1:xj});};xm=ba.getCurrentId1(wj);return B.iter(xk,xm);};xn=ba.getNextCol1(wj);xh=B.iter(xi,xn);}else{xh=null;}xg=xh;}else{xg=null;}w2=xg;}wV=w2;}wU=wV;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xq=function(xr){var xs,xu;xs=function(xt){return wk({$:7,$0:{$:1,$0:xt},$1:xr});};xu=ba.getCurrentId1(wj);return B.iter(xs,xu);};xv=ba.getPriorCol1(wj);xp=B.iter(xq,xv);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xy=function(xz){var xA,xC;xA=function(xB){return wk({$:7,$0:{$:1,$0:xB},$1:xz});};xC=ba.getCurrentId1(wj);return B.iter(xA,xC);};xD=ba.getNextCol1(wj);xx=B.iter(xy,xD);}else{xx=null;}xw=xx;}else{xw=null;}xp=xw;}xo=xp;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xG=function(xH){var xI,xK;xI=function(xJ){return wk({$:7,$0:{$:1,$0:xJ},$1:xH});};xK=ba.getCurrentId1(wj);return B.iter(xI,xK);};xL=ba.getNextCol1(wj);xF=B.iter(xG,xL);}else{xF=null;}xE=xF;}else{xE=null;}xo=xE;}wU=xo;}wN=wU;}wM=wN;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xO=function(xP){var xQ,xS;xQ=function(xR){return wk({$:7,$0:{$:1,$0:xP},$1:xR});};xS=ba.getCurrentCol1(wj);return B.iter(xQ,xS);};xT=ba.getNextId1(wj);xN=B.iter(xO,xT);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){xW=function(xX){var xY,x0;xY=function(xZ){return wk({$:7,$0:{$:1,$0:xZ},$1:xX});};x0=ba.getCurrentId1(wj);return B.iter(xY,x0);};x1=ba.getPriorCol1(wj);xV=B.iter(xW,x1);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){x4=function(x5){var x6,x8;x6=function(x7){return wk({$:7,$0:{$:1,$0:x7},$1:x5});};x8=ba.getCurrentId1(wj);return B.iter(x6,x8);};x9=ba.getNextCol1(wj);x3=B.iter(x4,x9);}else{x3=null;}x2=x3;}else{x2=null;}xV=x2;}xU=xV;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){ya=function(yb){var yc,ye;yc=function(yd){return wk({$:7,$0:{$:1,$0:yd},$1:yb});};ye=ba.getCurrentId1(wj);return B.iter(yc,ye);};yf=ba.getNextCol1(wj);x$=B.iter(ya,yf);}else{x$=null;}x_=x$;}else{x_=null;}xU=x_;}xN=xU;}xM=xN;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){yi=function(yj){var yk,ym;yk=function(yl){return wk({$:7,$0:{$:1,$0:yl},$1:yj});};ym=ba.getCurrentId1(wj);return B.iter(yk,ym);};yn=ba.getPriorCol1(wj);yh=B.iter(yi,yn);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){yq=function(yr){var ys,yu;ys=function(yt){return wk({$:7,$0:{$:1,$0:yt},$1:yr});};yu=ba.getCurrentId1(wj);return B.iter(ys,yu);};yv=ba.getNextCol1(wj);yp=B.iter(yq,yv);}else{yp=null;}yo=yp;}else{yo=null;}yh=yo;}yg=yh;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){yy=function(yz){var yA,yC;yA=function(yB){return wk({$:7,$0:{$:1,$0:yB},$1:yz});};yC=ba.getCurrentId1(wj);return B.iter(yA,yC);};yD=ba.getNextCol1(wj);yx=B.iter(yy,yD);}else{yx=null;}yw=yx;}else{yw=null;}yg=yw;}xM=yg;}wM=xM;}wH=wM;}wG=wH;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){yG=function(yH){var yI,yK;yI=function(yJ){return wk({$:7,$0:{$:1,$0:yH},$1:yJ});};yK=ba.getCurrentCol1(wj);return B.iter(yI,yK);};yL=ba.getPriorId1(wj);yF=B.iter(yG,yL);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){yO=function(yP){var yQ,yS;yQ=function(yR){return wk({$:7,$0:{$:1,$0:yP},$1:yR});};yS=ba.getCurrentCol1(wj);return B.iter(yQ,yS);};yT=ba.getNextId1(wj);yN=B.iter(yO,yT);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){yW=function(yX){var yY,y0;yY=function(yZ){return wk({$:7,$0:{$:1,$0:yZ},$1:yX});};y0=ba.getCurrentId1(wj);return B.iter(yY,y0);};y1=ba.getPriorCol1(wj);yV=B.iter(yW,y1);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){y4=function(y5){var y6,y8;y6=function(y7){return wk({$:7,$0:{$:1,$0:y7},$1:y5});};y8=ba.getCurrentId1(wj);return B.iter(y6,y8);};y9=ba.getNextCol1(wj);y3=B.iter(y4,y9);}else{y3=null;}y2=y3;}else{y2=null;}yV=y2;}yU=yV;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){za=function(zb){var zc,ze;zc=function(zd){return wk({$:7,$0:{$:1,$0:zd},$1:zb});};ze=ba.getCurrentId1(wj);return B.iter(zc,ze);};zf=ba.getNextCol1(wj);y$=B.iter(za,zf);}else{y$=null;}y_=y$;}else{y_=null;}yU=y_;}yN=yU;}yM=yN;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){zi=function(zj){var zk,zm;zk=function(zl){return wk({$:7,$0:{$:1,$0:zl},$1:zj});};zm=ba.getCurrentId1(wj);return B.iter(zk,zm);};zn=ba.getPriorCol1(wj);zh=B.iter(zi,zn);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){zq=function(zr){var zs,zu;zs=function(zt){return wk({$:7,$0:{$:1,$0:zt},$1:zr});};zu=ba.getCurrentId1(wj);return B.iter(zs,zu);};zv=ba.getNextCol1(wj);zp=B.iter(zq,zv);}else{zp=null;}zo=zp;}else{zo=null;}zh=zo;}zg=zh;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){zy=function(zz){var zA,zC;zA=function(zB){return wk({$:7,$0:{$:1,$0:zB},$1:zz});};zC=ba.getCurrentId1(wj);return B.iter(zA,zC);};zD=ba.getNextCol1(wj);zx=B.iter(zy,zD);}else{zx=null;}zw=zx;}else{zw=null;}zg=zw;}yM=zg;}yF=yM;}yE=yF;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){zG=function(zH){var zI,zK;zI=function(zJ){return wk({$:7,$0:{$:1,$0:zH},$1:zJ});};zK=ba.getCurrentCol1(wj);return B.iter(zI,zK);};zL=ba.getNextId1(wj);zF=B.iter(zG,zL);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){zO=function(zP){var zQ,zS;zQ=function(zR){return wk({$:7,$0:{$:1,$0:zR},$1:zP});};zS=ba.getCurrentId1(wj);return B.iter(zQ,zS);};zT=ba.getPriorCol1(wj);zN=B.iter(zO,zT);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){zW=function(zX){var zY,z0;zY=function(zZ){return wk({$:7,$0:{$:1,$0:zZ},$1:zX});};z0=ba.getCurrentId1(wj);return B.iter(zY,z0);};z1=ba.getNextCol1(wj);zV=B.iter(zW,z1);}else{zV=null;}zU=zV;}else{zU=null;}zN=zU;}zM=zN;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){z4=function(z5){var z6,z8;z6=function(z7){return wk({$:7,$0:{$:1,$0:z7},$1:z5});};z8=ba.getCurrentId1(wj);return B.iter(z6,z8);};z9=ba.getNextCol1(wj);z3=B.iter(z4,z9);}else{z3=null;}z2=z3;}else{z2=null;}zM=z2;}zF=zM;}zE=zF;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Aa=function(Ab){var Ac,Ae;Ac=function(Ad){return wk({$:7,$0:{$:1,$0:Ad},$1:Ab});};Ae=ba.getCurrentId1(wj);return B.iter(Ac,Ae);};Af=ba.getPriorCol1(wj);z$=B.iter(Aa,Af);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ai=function(Aj){var Ak,Am;Ak=function(Al){return wk({$:7,$0:{$:1,$0:Al},$1:Aj});};Am=ba.getCurrentId1(wj);return B.iter(Ak,Am);};An=ba.getNextCol1(wj);Ah=B.iter(Ai,An);}else{Ah=null;}Ag=Ah;}else{Ag=null;}z$=Ag;}z_=z$;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Aq=function(Ar){var As,Au;As=function(At){return wk({$:7,$0:{$:1,$0:At},$1:Ar});};Au=ba.getCurrentId1(wj);return B.iter(As,Au);};Av=ba.getNextCol1(wj);Ap=B.iter(Aq,Av);}else{Ap=null;}Ao=Ap;}else{Ao=null;}z_=Ao;}zE=z_;}yE=zE;}wG=yE;}wB=wG;}wA=wB;}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ay=function(Az){var AA;AA=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](AA),$1:{$:1,$0:[Az,Az]}});};AB=ba.getNextCol1(wj);Ax=B.iter(Ay,AB);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){AE=function(AF){var AG,AI;AG=function(AH){return wk({$:7,$0:{$:1,$0:AF},$1:AH});};AI=ba.getCurrentCol1(wj);return B.iter(AG,AI);};AJ=ba.getPriorId1(wj);AD=B.iter(AE,AJ);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){AM=function(AN){var AO,AQ;AO=function(AP){return wk({$:7,$0:{$:1,$0:AN},$1:AP});};AQ=ba.getCurrentCol1(wj);return B.iter(AO,AQ);};AR=ba.getNextId1(wj);AL=B.iter(AM,AR);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){AU=function(AV){var AW,AY;AW=function(AX){return wk({$:7,$0:{$:1,$0:AX},$1:AV});};AY=ba.getCurrentId1(wj);return B.iter(AW,AY);};AZ=ba.getPriorCol1(wj);AT=B.iter(AU,AZ);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){A2=function(A3){var A4,A6;A4=function(A5){return wk({$:7,$0:{$:1,$0:A5},$1:A3});};A6=ba.getCurrentId1(wj);return B.iter(A4,A6);};A7=ba.getNextCol1(wj);A1=B.iter(A2,A7);}else{A1=null;}A0=A1;}else{A0=null;}AT=A0;}AS=AT;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){A_=function(A$){var Ba,Bc;Ba=function(Bb){return wk({$:7,$0:{$:1,$0:Bb},$1:A$});};Bc=ba.getCurrentId1(wj);return B.iter(Ba,Bc);};Bd=ba.getNextCol1(wj);A9=B.iter(A_,Bd);}else{A9=null;}A8=A9;}else{A8=null;}AS=A8;}AL=AS;}AK=AL;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Bg=function(Bh){var Bi,Bk;Bi=function(Bj){return wk({$:7,$0:{$:1,$0:Bj},$1:Bh});};Bk=ba.getCurrentId1(wj);return B.iter(Bi,Bk);};Bl=ba.getPriorCol1(wj);Bf=B.iter(Bg,Bl);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Bo=function(Bp){var Bq,Bs;Bq=function(Br){return wk({$:7,$0:{$:1,$0:Br},$1:Bp});};Bs=ba.getCurrentId1(wj);return B.iter(Bq,Bs);};Bt=ba.getNextCol1(wj);Bn=B.iter(Bo,Bt);}else{Bn=null;}Bm=Bn;}else{Bm=null;}Bf=Bm;}Be=Bf;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Bw=function(Bx){var By,BA;By=function(Bz){return wk({$:7,$0:{$:1,$0:Bz},$1:Bx});};BA=ba.getCurrentId1(wj);return B.iter(By,BA);};BB=ba.getNextCol1(wj);Bv=B.iter(Bw,BB);}else{Bv=null;}Bu=Bv;}else{Bu=null;}Be=Bu;}AK=Be;}AD=AK;}AC=AD;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){BE=function(BF){var BG,BI;BG=function(BH){return wk({$:7,$0:{$:1,$0:BF},$1:BH});};BI=ba.getCurrentCol1(wj);return B.iter(BG,BI);};BJ=ba.getNextId1(wj);BD=B.iter(BE,BJ);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){BM=function(BN){var BO,BQ;BO=function(BP){return wk({$:7,$0:{$:1,$0:BP},$1:BN});};BQ=ba.getCurrentId1(wj);return B.iter(BO,BQ);};BR=ba.getPriorCol1(wj);BL=B.iter(BM,BR);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){BU=function(BV){var BW,BY;BW=function(BX){return wk({$:7,$0:{$:1,$0:BX},$1:BV});};BY=ba.getCurrentId1(wj);return B.iter(BW,BY);};BZ=ba.getNextCol1(wj);BT=B.iter(BU,BZ);}else{BT=null;}BS=BT;}else{BS=null;}BL=BS;}BK=BL;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){B2=function(B3){var B4,B6;B4=function(B5){return wk({$:7,$0:{$:1,$0:B5},$1:B3});};B6=ba.getCurrentId1(wj);return B.iter(B4,B6);};B7=ba.getNextCol1(wj);B1=B.iter(B2,B7);}else{B1=null;}B0=B1;}else{B0=null;}BK=B0;}BD=BK;}BC=BD;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){B_=function(B$){var Ca,Cc;Ca=function(Cb){return wk({$:7,$0:{$:1,$0:Cb},$1:B$});};Cc=ba.getCurrentId1(wj);return B.iter(Ca,Cc);};Cd=ba.getPriorCol1(wj);B9=B.iter(B_,Cd);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Cg=function(Ch){var Ci,Ck;Ci=function(Cj){return wk({$:7,$0:{$:1,$0:Cj},$1:Ch});};Ck=ba.getCurrentId1(wj);return B.iter(Ci,Ck);};Cl=ba.getNextCol1(wj);Cf=B.iter(Cg,Cl);}else{Cf=null;}Ce=Cf;}else{Ce=null;}B9=Ce;}B8=B9;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Co=function(Cp){var Cq,Cs;Cq=function(Cr){return wk({$:7,$0:{$:1,$0:Cr},$1:Cp});};Cs=ba.getCurrentId1(wj);return B.iter(Cq,Cs);};Ct=ba.getNextCol1(wj);Cn=B.iter(Co,Ct);}else{Cn=null;}Cm=Cn;}else{Cm=null;}B8=Cm;}BC=B8;}AC=BC;}Ax=AC;}Aw=Ax;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Cw=function(Cx){var Cy,CA;Cy=function(Cz){return wk({$:7,$0:{$:1,$0:Cx},$1:Cz});};CA=ba.getCurrentCol1(wj);return B.iter(Cy,CA);};CB=ba.getPriorId1(wj);Cv=B.iter(Cw,CB);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){CE=function(CF){var CG,CI;CG=function(CH){return wk({$:7,$0:{$:1,$0:CF},$1:CH});};CI=ba.getCurrentCol1(wj);return B.iter(CG,CI);};CJ=ba.getNextId1(wj);CD=B.iter(CE,CJ);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){CM=function(CN){var CO,CQ;CO=function(CP){return wk({$:7,$0:{$:1,$0:CP},$1:CN});};CQ=ba.getCurrentId1(wj);return B.iter(CO,CQ);};CR=ba.getPriorCol1(wj);CL=B.iter(CM,CR);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){CU=function(CV){var CW,CY;CW=function(CX){return wk({$:7,$0:{$:1,$0:CX},$1:CV});};CY=ba.getCurrentId1(wj);return B.iter(CW,CY);};CZ=ba.getNextCol1(wj);CT=B.iter(CU,CZ);}else{CT=null;}CS=CT;}else{CS=null;}CL=CS;}CK=CL;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){C2=function(C3){var C4,C6;C4=function(C5){return wk({$:7,$0:{$:1,$0:C5},$1:C3});};C6=ba.getCurrentId1(wj);return B.iter(C4,C6);};C7=ba.getNextCol1(wj);C1=B.iter(C2,C7);}else{C1=null;}C0=C1;}else{C0=null;}CK=C0;}CD=CK;}CC=CD;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){C_=function(C$){var Da,Dc;Da=function(Db){return wk({$:7,$0:{$:1,$0:Db},$1:C$});};Dc=ba.getCurrentId1(wj);return B.iter(Da,Dc);};Dd=ba.getPriorCol1(wj);C9=B.iter(C_,Dd);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Dg=function(Dh){var Di,Dk;Di=function(Dj){return wk({$:7,$0:{$:1,$0:Dj},$1:Dh});};Dk=ba.getCurrentId1(wj);return B.iter(Di,Dk);};Dl=ba.getNextCol1(wj);Df=B.iter(Dg,Dl);}else{Df=null;}De=Df;}else{De=null;}C9=De;}C8=C9;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Do=function(Dp){var Dq,Ds;Dq=function(Dr){return wk({$:7,$0:{$:1,$0:Dr},$1:Dp});};Ds=ba.getCurrentId1(wj);return B.iter(Dq,Ds);};Dt=ba.getNextCol1(wj);Dn=B.iter(Do,Dt);}else{Dn=null;}Dm=Dn;}else{Dm=null;}C8=Dm;}CC=C8;}Cv=CC;}Cu=Cv;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Dw=function(Dx){var Dy,DA;Dy=function(Dz){return wk({$:7,$0:{$:1,$0:Dx},$1:Dz});};DA=ba.getCurrentCol1(wj);return B.iter(Dy,DA);};DB=ba.getNextId1(wj);Dv=B.iter(Dw,DB);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){DE=function(DF){var DG,DI;DG=function(DH){return wk({$:7,$0:{$:1,$0:DH},$1:DF});};DI=ba.getCurrentId1(wj);return B.iter(DG,DI);};DJ=ba.getPriorCol1(wj);DD=B.iter(DE,DJ);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){DM=function(DN){var DO,DQ;DO=function(DP){return wk({$:7,$0:{$:1,$0:DP},$1:DN});};DQ=ba.getCurrentId1(wj);return B.iter(DO,DQ);};DR=ba.getNextCol1(wj);DL=B.iter(DM,DR);}else{DL=null;}DK=DL;}else{DK=null;}DD=DK;}DC=DD;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){DU=function(DV){var DW,DY;DW=function(DX){return wk({$:7,$0:{$:1,$0:DX},$1:DV});};DY=ba.getCurrentId1(wj);return B.iter(DW,DY);};DZ=ba.getNextCol1(wj);DT=B.iter(DU,DZ);}else{DT=null;}DS=DT;}else{DS=null;}DC=DS;}Dv=DC;}Du=Dv;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){D2=function(D3){var D4,D6;D4=function(D5){return wk({$:7,$0:{$:1,$0:D5},$1:D3});};D6=ba.getCurrentId1(wj);return B.iter(D4,D6);};D7=ba.getPriorCol1(wj);D1=B.iter(D2,D7);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){D_=function(D$){var Ea,Ec;Ea=function(Eb){return wk({$:7,$0:{$:1,$0:Eb},$1:D$});};Ec=ba.getCurrentId1(wj);return B.iter(Ea,Ec);};Ed=ba.getNextCol1(wj);D9=B.iter(D_,Ed);}else{D9=null;}D8=D9;}else{D8=null;}D1=D8;}D0=D1;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Eg=function(Eh){var Ei,Ek;Ei=function(Ej){return wk({$:7,$0:{$:1,$0:Ej},$1:Eh});};Ek=ba.getCurrentId1(wj);return B.iter(Ei,Ek);};El=ba.getNextCol1(wj);Ef=B.iter(Eg,El);}else{Ef=null;}Ee=Ef;}else{Ee=null;}D0=Ee;}Du=D0;}Cu=Du;}Aw=Cu;}wA=Aw;}wv=wA;}wu=wv;}else{if(wm==="ArrowLeft"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Eo=function(Ep){var Eq;Eq=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Eq),$1:{$:1,$0:[Ep,Ep]}});};Er=ba.getPriorCol1(wj);En=B.iter(Eo,Er);}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Eu=function(Ev){var Ew;Ew=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Ew),$1:{$:1,$0:[Ev,Ev]}});};Ex=ba.getNextCol1(wj);Et=B.iter(Eu,Ex);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){EA=function(EB){var EC,EE;EC=function(ED){return wk({$:7,$0:{$:1,$0:EB},$1:ED});};EE=ba.getCurrentCol1(wj);return B.iter(EC,EE);};EF=ba.getPriorId1(wj);Ez=B.iter(EA,EF);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){EI=function(EJ){var EK,EM;EK=function(EL){return wk({$:7,$0:{$:1,$0:EJ},$1:EL});};EM=ba.getCurrentCol1(wj);return B.iter(EK,EM);};EN=ba.getNextId1(wj);EH=B.iter(EI,EN);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){EQ=function(ER){var ES,EU;ES=function(ET){return wk({$:7,$0:{$:1,$0:ET},$1:ER});};EU=ba.getCurrentId1(wj);return B.iter(ES,EU);};EV=ba.getPriorCol1(wj);EP=B.iter(EQ,EV);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){EY=function(EZ){var E0,E2;E0=function(E1){return wk({$:7,$0:{$:1,$0:E1},$1:EZ});};E2=ba.getCurrentId1(wj);return B.iter(E0,E2);};E3=ba.getNextCol1(wj);EX=B.iter(EY,E3);}else{EX=null;}EW=EX;}else{EW=null;}EP=EW;}EO=EP;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){E6=function(E7){var E8,E_;E8=function(E9){return wk({$:7,$0:{$:1,$0:E9},$1:E7});};E_=ba.getCurrentId1(wj);return B.iter(E8,E_);};E$=ba.getNextCol1(wj);E5=B.iter(E6,E$);}else{E5=null;}E4=E5;}else{E4=null;}EO=E4;}EH=EO;}EG=EH;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Fc=function(Fd){var Fe,Fg;Fe=function(Ff){return wk({$:7,$0:{$:1,$0:Ff},$1:Fd});};Fg=ba.getCurrentId1(wj);return B.iter(Fe,Fg);};Fh=ba.getPriorCol1(wj);Fb=B.iter(Fc,Fh);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Fk=function(Fl){var Fm,Fo;Fm=function(Fn){return wk({$:7,$0:{$:1,$0:Fn},$1:Fl});};Fo=ba.getCurrentId1(wj);return B.iter(Fm,Fo);};Fp=ba.getNextCol1(wj);Fj=B.iter(Fk,Fp);}else{Fj=null;}Fi=Fj;}else{Fi=null;}Fb=Fi;}Fa=Fb;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Fs=function(Ft){var Fu,Fw;Fu=function(Fv){return wk({$:7,$0:{$:1,$0:Fv},$1:Ft});};Fw=ba.getCurrentId1(wj);return B.iter(Fu,Fw);};Fx=ba.getNextCol1(wj);Fr=B.iter(Fs,Fx);}else{Fr=null;}Fq=Fr;}else{Fq=null;}Fa=Fq;}EG=Fa;}Ez=EG;}Ey=Ez;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){FA=function(FB){var FC,FE;FC=function(FD){return wk({$:7,$0:{$:1,$0:FB},$1:FD});};FE=ba.getCurrentCol1(wj);return B.iter(FC,FE);};FF=ba.getNextId1(wj);Fz=B.iter(FA,FF);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){FI=function(FJ){var FK,FM;FK=function(FL){return wk({$:7,$0:{$:1,$0:FL},$1:FJ});};FM=ba.getCurrentId1(wj);return B.iter(FK,FM);};FN=ba.getPriorCol1(wj);FH=B.iter(FI,FN);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){FQ=function(FR){var FS,FU;FS=function(FT){return wk({$:7,$0:{$:1,$0:FT},$1:FR});};FU=ba.getCurrentId1(wj);return B.iter(FS,FU);};FV=ba.getNextCol1(wj);FP=B.iter(FQ,FV);}else{FP=null;}FO=FP;}else{FO=null;}FH=FO;}FG=FH;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){FY=function(FZ){var F0,F2;F0=function(F1){return wk({$:7,$0:{$:1,$0:F1},$1:FZ});};F2=ba.getCurrentId1(wj);return B.iter(F0,F2);};F3=ba.getNextCol1(wj);FX=B.iter(FY,F3);}else{FX=null;}FW=FX;}else{FW=null;}FG=FW;}Fz=FG;}Fy=Fz;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){F6=function(F7){var F8,F_;F8=function(F9){return wk({$:7,$0:{$:1,$0:F9},$1:F7});};F_=ba.getCurrentId1(wj);return B.iter(F8,F_);};F$=ba.getPriorCol1(wj);F5=B.iter(F6,F$);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Gc=function(Gd){var Ge,Gg;Ge=function(Gf){return wk({$:7,$0:{$:1,$0:Gf},$1:Gd});};Gg=ba.getCurrentId1(wj);return B.iter(Ge,Gg);};Gh=ba.getNextCol1(wj);Gb=B.iter(Gc,Gh);}else{Gb=null;}Ga=Gb;}else{Ga=null;}F5=Ga;}F4=F5;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Gk=function(Gl){var Gm,Go;Gm=function(Gn){return wk({$:7,$0:{$:1,$0:Gn},$1:Gl});};Go=ba.getCurrentId1(wj);return B.iter(Gm,Go);};Gp=ba.getNextCol1(wj);Gj=B.iter(Gk,Gp);}else{Gj=null;}Gi=Gj;}else{Gi=null;}F4=Gi;}Fy=F4;}Ey=Fy;}Et=Ey;}Es=Et;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Gs=function(Gt){var Gu,Gw;Gu=function(Gv){return wk({$:7,$0:{$:1,$0:Gt},$1:Gv});};Gw=ba.getCurrentCol1(wj);return B.iter(Gu,Gw);};Gx=ba.getPriorId1(wj);Gr=B.iter(Gs,Gx);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){GA=function(GB){var GC,GE;GC=function(GD){return wk({$:7,$0:{$:1,$0:GB},$1:GD});};GE=ba.getCurrentCol1(wj);return B.iter(GC,GE);};GF=ba.getNextId1(wj);Gz=B.iter(GA,GF);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){GI=function(GJ){var GK,GM;GK=function(GL){return wk({$:7,$0:{$:1,$0:GL},$1:GJ});};GM=ba.getCurrentId1(wj);return B.iter(GK,GM);};GN=ba.getPriorCol1(wj);GH=B.iter(GI,GN);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){GQ=function(GR){var GS,GU;GS=function(GT){return wk({$:7,$0:{$:1,$0:GT},$1:GR});};GU=ba.getCurrentId1(wj);return B.iter(GS,GU);};GV=ba.getNextCol1(wj);GP=B.iter(GQ,GV);}else{GP=null;}GO=GP;}else{GO=null;}GH=GO;}GG=GH;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){GY=function(GZ){var G0,G2;G0=function(G1){return wk({$:7,$0:{$:1,$0:G1},$1:GZ});};G2=ba.getCurrentId1(wj);return B.iter(G0,G2);};G3=ba.getNextCol1(wj);GX=B.iter(GY,G3);}else{GX=null;}GW=GX;}else{GW=null;}GG=GW;}Gz=GG;}Gy=Gz;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){G6=function(G7){var G8,G_;G8=function(G9){return wk({$:7,$0:{$:1,$0:G9},$1:G7});};G_=ba.getCurrentId1(wj);return B.iter(G8,G_);};G$=ba.getPriorCol1(wj);G5=B.iter(G6,G$);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Hc=function(Hd){var He,Hg;He=function(Hf){return wk({$:7,$0:{$:1,$0:Hf},$1:Hd});};Hg=ba.getCurrentId1(wj);return B.iter(He,Hg);};Hh=ba.getNextCol1(wj);Hb=B.iter(Hc,Hh);}else{Hb=null;}Ha=Hb;}else{Ha=null;}G5=Ha;}G4=G5;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Hk=function(Hl){var Hm,Ho;Hm=function(Hn){return wk({$:7,$0:{$:1,$0:Hn},$1:Hl});};Ho=ba.getCurrentId1(wj);return B.iter(Hm,Ho);};Hp=ba.getNextCol1(wj);Hj=B.iter(Hk,Hp);}else{Hj=null;}Hi=Hj;}else{Hi=null;}G4=Hi;}Gy=G4;}Gr=Gy;}Gq=Gr;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Hs=function(Ht){var Hu,Hw;Hu=function(Hv){return wk({$:7,$0:{$:1,$0:Ht},$1:Hv});};Hw=ba.getCurrentCol1(wj);return B.iter(Hu,Hw);};Hx=ba.getNextId1(wj);Hr=B.iter(Hs,Hx);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){HA=function(HB){var HC,HE;HC=function(HD){return wk({$:7,$0:{$:1,$0:HD},$1:HB});};HE=ba.getCurrentId1(wj);return B.iter(HC,HE);};HF=ba.getPriorCol1(wj);Hz=B.iter(HA,HF);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){HI=function(HJ){var HK,HM;HK=function(HL){return wk({$:7,$0:{$:1,$0:HL},$1:HJ});};HM=ba.getCurrentId1(wj);return B.iter(HK,HM);};HN=ba.getNextCol1(wj);HH=B.iter(HI,HN);}else{HH=null;}HG=HH;}else{HG=null;}Hz=HG;}Hy=Hz;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){HQ=function(HR){var HS,HU;HS=function(HT){return wk({$:7,$0:{$:1,$0:HT},$1:HR});};HU=ba.getCurrentId1(wj);return B.iter(HS,HU);};HV=ba.getNextCol1(wj);HP=B.iter(HQ,HV);}else{HP=null;}HO=HP;}else{HO=null;}Hy=HO;}Hr=Hy;}Hq=Hr;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){HY=function(HZ){var H0,H2;H0=function(H1){return wk({$:7,$0:{$:1,$0:H1},$1:HZ});};H2=ba.getCurrentId1(wj);return B.iter(H0,H2);};H3=ba.getPriorCol1(wj);HX=B.iter(HY,H3);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){H6=function(H7){var H8,H_;H8=function(H9){return wk({$:7,$0:{$:1,$0:H9},$1:H7});};H_=ba.getCurrentId1(wj);return B.iter(H8,H_);};H$=ba.getNextCol1(wj);H5=B.iter(H6,H$);}else{H5=null;}H4=H5;}else{H4=null;}HX=H4;}HW=HX;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ic=function(Id){var Ie,Ig;Ie=function(If){return wk({$:7,$0:{$:1,$0:If},$1:Id});};Ig=ba.getCurrentId1(wj);return B.iter(Ie,Ig);};Ih=ba.getNextCol1(wj);Ib=B.iter(Ic,Ih);}else{Ib=null;}Ia=Ib;}else{Ia=null;}HW=Ia;}Hq=HW;}Gq=Hq;}Es=Gq;}En=Es;}Em=En;}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ik=function(Il){var Im;Im=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Im),$1:{$:1,$0:[Il,Il]}});};In=ba.getNextCol1(wj);Ij=B.iter(Ik,In);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Iq=function(Ir){var Is,Iu;Is=function(It){return wk({$:7,$0:{$:1,$0:Ir},$1:It});};Iu=ba.getCurrentCol1(wj);return B.iter(Is,Iu);};Iv=ba.getPriorId1(wj);Ip=B.iter(Iq,Iv);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Iy=function(Iz){var IA,IC;IA=function(IB){return wk({$:7,$0:{$:1,$0:Iz},$1:IB});};IC=ba.getCurrentCol1(wj);return B.iter(IA,IC);};ID=ba.getNextId1(wj);Ix=B.iter(Iy,ID);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){IG=function(IH){var II,IK;II=function(IJ){return wk({$:7,$0:{$:1,$0:IJ},$1:IH});};IK=ba.getCurrentId1(wj);return B.iter(II,IK);};IL=ba.getPriorCol1(wj);IF=B.iter(IG,IL);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){IO=function(IP){var IQ,IS;IQ=function(IR){return wk({$:7,$0:{$:1,$0:IR},$1:IP});};IS=ba.getCurrentId1(wj);return B.iter(IQ,IS);};IT=ba.getNextCol1(wj);IN=B.iter(IO,IT);}else{IN=null;}IM=IN;}else{IM=null;}IF=IM;}IE=IF;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){IW=function(IX){var IY,I0;IY=function(IZ){return wk({$:7,$0:{$:1,$0:IZ},$1:IX});};I0=ba.getCurrentId1(wj);return B.iter(IY,I0);};I1=ba.getNextCol1(wj);IV=B.iter(IW,I1);}else{IV=null;}IU=IV;}else{IU=null;}IE=IU;}Ix=IE;}Iw=Ix;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){I4=function(I5){var I6,I8;I6=function(I7){return wk({$:7,$0:{$:1,$0:I7},$1:I5});};I8=ba.getCurrentId1(wj);return B.iter(I6,I8);};I9=ba.getPriorCol1(wj);I3=B.iter(I4,I9);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ja=function(Jb){var Jc,Je;Jc=function(Jd){return wk({$:7,$0:{$:1,$0:Jd},$1:Jb});};Je=ba.getCurrentId1(wj);return B.iter(Jc,Je);};Jf=ba.getNextCol1(wj);I$=B.iter(Ja,Jf);}else{I$=null;}I_=I$;}else{I_=null;}I3=I_;}I2=I3;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ji=function(Jj){var Jk,Jm;Jk=function(Jl){return wk({$:7,$0:{$:1,$0:Jl},$1:Jj});};Jm=ba.getCurrentId1(wj);return B.iter(Jk,Jm);};Jn=ba.getNextCol1(wj);Jh=B.iter(Ji,Jn);}else{Jh=null;}Jg=Jh;}else{Jg=null;}I2=Jg;}Iw=I2;}Ip=Iw;}Io=Ip;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Jq=function(Jr){var Js,Ju;Js=function(Jt){return wk({$:7,$0:{$:1,$0:Jr},$1:Jt});};Ju=ba.getCurrentCol1(wj);return B.iter(Js,Ju);};Jv=ba.getNextId1(wj);Jp=B.iter(Jq,Jv);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Jy=function(Jz){var JA,JC;JA=function(JB){return wk({$:7,$0:{$:1,$0:JB},$1:Jz});};JC=ba.getCurrentId1(wj);return B.iter(JA,JC);};JD=ba.getPriorCol1(wj);Jx=B.iter(Jy,JD);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){JG=function(JH){var JI,JK;JI=function(JJ){return wk({$:7,$0:{$:1,$0:JJ},$1:JH});};JK=ba.getCurrentId1(wj);return B.iter(JI,JK);};JL=ba.getNextCol1(wj);JF=B.iter(JG,JL);}else{JF=null;}JE=JF;}else{JE=null;}Jx=JE;}Jw=Jx;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){JO=function(JP){var JQ,JS;JQ=function(JR){return wk({$:7,$0:{$:1,$0:JR},$1:JP});};JS=ba.getCurrentId1(wj);return B.iter(JQ,JS);};JT=ba.getNextCol1(wj);JN=B.iter(JO,JT);}else{JN=null;}JM=JN;}else{JM=null;}Jw=JM;}Jp=Jw;}Jo=Jp;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){JW=function(JX){var JY,J0;JY=function(JZ){return wk({$:7,$0:{$:1,$0:JZ},$1:JX});};J0=ba.getCurrentId1(wj);return B.iter(JY,J0);};J1=ba.getPriorCol1(wj);JV=B.iter(JW,J1);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){J4=function(J5){var J6,J8;J6=function(J7){return wk({$:7,$0:{$:1,$0:J7},$1:J5});};J8=ba.getCurrentId1(wj);return B.iter(J6,J8);};J9=ba.getNextCol1(wj);J3=B.iter(J4,J9);}else{J3=null;}J2=J3;}else{J2=null;}JV=J2;}JU=JV;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ka=function(Kb){var Kc,Ke;Kc=function(Kd){return wk({$:7,$0:{$:1,$0:Kd},$1:Kb});};Ke=ba.getCurrentId1(wj);return B.iter(Kc,Ke);};Kf=ba.getNextCol1(wj);J$=B.iter(Ka,Kf);}else{J$=null;}J_=J$;}else{J_=null;}JU=J_;}Jo=JU;}Io=Jo;}Ij=Io;}Ii=Ij;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ki=function(Kj){var Kk,Km;Kk=function(Kl){return wk({$:7,$0:{$:1,$0:Kj},$1:Kl});};Km=ba.getCurrentCol1(wj);return B.iter(Kk,Km);};Kn=ba.getPriorId1(wj);Kh=B.iter(Ki,Kn);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Kq=function(Kr){var Ks,Ku;Ks=function(Kt){return wk({$:7,$0:{$:1,$0:Kr},$1:Kt});};Ku=ba.getCurrentCol1(wj);return B.iter(Ks,Ku);};Kv=ba.getNextId1(wj);Kp=B.iter(Kq,Kv);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ky=function(Kz){var KA,KC;KA=function(KB){return wk({$:7,$0:{$:1,$0:KB},$1:Kz});};KC=ba.getCurrentId1(wj);return B.iter(KA,KC);};KD=ba.getPriorCol1(wj);Kx=B.iter(Ky,KD);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){KG=function(KH){var KI,KK;KI=function(KJ){return wk({$:7,$0:{$:1,$0:KJ},$1:KH});};KK=ba.getCurrentId1(wj);return B.iter(KI,KK);};KL=ba.getNextCol1(wj);KF=B.iter(KG,KL);}else{KF=null;}KE=KF;}else{KE=null;}Kx=KE;}Kw=Kx;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){KO=function(KP){var KQ,KS;KQ=function(KR){return wk({$:7,$0:{$:1,$0:KR},$1:KP});};KS=ba.getCurrentId1(wj);return B.iter(KQ,KS);};KT=ba.getNextCol1(wj);KN=B.iter(KO,KT);}else{KN=null;}KM=KN;}else{KM=null;}Kw=KM;}Kp=Kw;}Ko=Kp;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){KW=function(KX){var KY,K0;KY=function(KZ){return wk({$:7,$0:{$:1,$0:KZ},$1:KX});};K0=ba.getCurrentId1(wj);return B.iter(KY,K0);};K1=ba.getPriorCol1(wj);KV=B.iter(KW,K1);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){K4=function(K5){var K6,K8;K6=function(K7){return wk({$:7,$0:{$:1,$0:K7},$1:K5});};K8=ba.getCurrentId1(wj);return B.iter(K6,K8);};K9=ba.getNextCol1(wj);K3=B.iter(K4,K9);}else{K3=null;}K2=K3;}else{K2=null;}KV=K2;}KU=KV;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){La=function(Lb){var Lc,Le;Lc=function(Ld){return wk({$:7,$0:{$:1,$0:Ld},$1:Lb});};Le=ba.getCurrentId1(wj);return B.iter(Lc,Le);};Lf=ba.getNextCol1(wj);K$=B.iter(La,Lf);}else{K$=null;}K_=K$;}else{K_=null;}KU=K_;}Ko=KU;}Kh=Ko;}Kg=Kh;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Li=function(Lj){var Lk,Lm;Lk=function(Ll){return wk({$:7,$0:{$:1,$0:Lj},$1:Ll});};Lm=ba.getCurrentCol1(wj);return B.iter(Lk,Lm);};Ln=ba.getNextId1(wj);Lh=B.iter(Li,Ln);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Lq=function(Lr){var Ls,Lu;Ls=function(Lt){return wk({$:7,$0:{$:1,$0:Lt},$1:Lr});};Lu=ba.getCurrentId1(wj);return B.iter(Ls,Lu);};Lv=ba.getPriorCol1(wj);Lp=B.iter(Lq,Lv);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ly=function(Lz){var LA,LC;LA=function(LB){return wk({$:7,$0:{$:1,$0:LB},$1:Lz});};LC=ba.getCurrentId1(wj);return B.iter(LA,LC);};LD=ba.getNextCol1(wj);Lx=B.iter(Ly,LD);}else{Lx=null;}Lw=Lx;}else{Lw=null;}Lp=Lw;}Lo=Lp;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){LG=function(LH){var LI,LK;LI=function(LJ){return wk({$:7,$0:{$:1,$0:LJ},$1:LH});};LK=ba.getCurrentId1(wj);return B.iter(LI,LK);};LL=ba.getNextCol1(wj);LF=B.iter(LG,LL);}else{LF=null;}LE=LF;}else{LE=null;}Lo=LE;}Lh=Lo;}Lg=Lh;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){LO=function(LP){var LQ,LS;LQ=function(LR){return wk({$:7,$0:{$:1,$0:LR},$1:LP});};LS=ba.getCurrentId1(wj);return B.iter(LQ,LS);};LT=ba.getPriorCol1(wj);LN=B.iter(LO,LT);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){LW=function(LX){var LY,L0;LY=function(LZ){return wk({$:7,$0:{$:1,$0:LZ},$1:LX});};L0=ba.getCurrentId1(wj);return B.iter(LY,L0);};L1=ba.getNextCol1(wj);LV=B.iter(LW,L1);}else{LV=null;}LU=LV;}else{LU=null;}LN=LU;}LM=LN;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){L4=function(L5){var L6,L8;L6=function(L7){return wk({$:7,$0:{$:1,$0:L7},$1:L5});};L8=ba.getCurrentId1(wj);return B.iter(L6,L8);};L9=ba.getNextCol1(wj);L3=B.iter(L4,L9);}else{L3=null;}L2=L3;}else{L2=null;}LM=L2;}Lg=LM;}Kg=Lg;}Ii=Kg;}Em=Ii;}wu=Em;}wp=wu;}wo=wp;}else{if(wm==="ArrowDown"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ma=function(Mb){var Mc;Mc=ba.getCurrentCol1(wj);return wk({$:4,$0:{$:1,$0:[Mb,Mb]},$1:ba["double"](Mc)});};Md=ba.getNextId1(wj);L$=B.iter(Ma,Md);}else{if(wm==="ArrowLeft"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Mg=function(Mh){var Mi;Mi=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Mi),$1:{$:1,$0:[Mh,Mh]}});};Mj=ba.getPriorCol1(wj);Mf=B.iter(Mg,Mj);}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Mm=function(Mn){var Mo;Mo=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Mo),$1:{$:1,$0:[Mn,Mn]}});};Mp=ba.getNextCol1(wj);Ml=B.iter(Mm,Mp);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ms=function(Mt){var Mu,Mw;Mu=function(Mv){return wk({$:7,$0:{$:1,$0:Mt},$1:Mv});};Mw=ba.getCurrentCol1(wj);return B.iter(Mu,Mw);};Mx=ba.getPriorId1(wj);Mr=B.iter(Ms,Mx);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){MA=function(MB){var MC,ME;MC=function(MD){return wk({$:7,$0:{$:1,$0:MB},$1:MD});};ME=ba.getCurrentCol1(wj);return B.iter(MC,ME);};MF=ba.getNextId1(wj);Mz=B.iter(MA,MF);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){MI=function(MJ){var MK,MM;MK=function(ML){return wk({$:7,$0:{$:1,$0:ML},$1:MJ});};MM=ba.getCurrentId1(wj);return B.iter(MK,MM);};MN=ba.getPriorCol1(wj);MH=B.iter(MI,MN);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){MQ=function(MR){var MS,MU;MS=function(MT){return wk({$:7,$0:{$:1,$0:MT},$1:MR});};MU=ba.getCurrentId1(wj);return B.iter(MS,MU);};MV=ba.getNextCol1(wj);MP=B.iter(MQ,MV);}else{MP=null;}MO=MP;}else{MO=null;}MH=MO;}MG=MH;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){MY=function(MZ){var M0,M2;M0=function(M1){return wk({$:7,$0:{$:1,$0:M1},$1:MZ});};M2=ba.getCurrentId1(wj);return B.iter(M0,M2);};M3=ba.getNextCol1(wj);MX=B.iter(MY,M3);}else{MX=null;}MW=MX;}else{MW=null;}MG=MW;}Mz=MG;}My=Mz;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){M6=function(M7){var M8,M_;M8=function(M9){return wk({$:7,$0:{$:1,$0:M9},$1:M7});};M_=ba.getCurrentId1(wj);return B.iter(M8,M_);};M$=ba.getPriorCol1(wj);M5=B.iter(M6,M$);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Nc=function(Nd){var Ne,Ng;Ne=function(Nf){return wk({$:7,$0:{$:1,$0:Nf},$1:Nd});};Ng=ba.getCurrentId1(wj);return B.iter(Ne,Ng);};Nh=ba.getNextCol1(wj);Nb=B.iter(Nc,Nh);}else{Nb=null;}Na=Nb;}else{Na=null;}M5=Na;}M4=M5;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Nk=function(Nl){var Nm,No;Nm=function(Nn){return wk({$:7,$0:{$:1,$0:Nn},$1:Nl});};No=ba.getCurrentId1(wj);return B.iter(Nm,No);};Np=ba.getNextCol1(wj);Nj=B.iter(Nk,Np);}else{Nj=null;}Ni=Nj;}else{Ni=null;}M4=Ni;}My=M4;}Mr=My;}Mq=Mr;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ns=function(Nt){var Nu,Nw;Nu=function(Nv){return wk({$:7,$0:{$:1,$0:Nt},$1:Nv});};Nw=ba.getCurrentCol1(wj);return B.iter(Nu,Nw);};Nx=ba.getNextId1(wj);Nr=B.iter(Ns,Nx);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){NA=function(NB){var NC,NE;NC=function(ND){return wk({$:7,$0:{$:1,$0:ND},$1:NB});};NE=ba.getCurrentId1(wj);return B.iter(NC,NE);};NF=ba.getPriorCol1(wj);Nz=B.iter(NA,NF);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){NI=function(NJ){var NK,NM;NK=function(NL){return wk({$:7,$0:{$:1,$0:NL},$1:NJ});};NM=ba.getCurrentId1(wj);return B.iter(NK,NM);};NN=ba.getNextCol1(wj);NH=B.iter(NI,NN);}else{NH=null;}NG=NH;}else{NG=null;}Nz=NG;}Ny=Nz;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){NQ=function(NR){var NS,NU;NS=function(NT){return wk({$:7,$0:{$:1,$0:NT},$1:NR});};NU=ba.getCurrentId1(wj);return B.iter(NS,NU);};NV=ba.getNextCol1(wj);NP=B.iter(NQ,NV);}else{NP=null;}NO=NP;}else{NO=null;}Ny=NO;}Nr=Ny;}Nq=Nr;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){NY=function(NZ){var N0,N2;N0=function(N1){return wk({$:7,$0:{$:1,$0:N1},$1:NZ});};N2=ba.getCurrentId1(wj);return B.iter(N0,N2);};N3=ba.getPriorCol1(wj);NX=B.iter(NY,N3);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){N6=function(N7){var N8,N_;N8=function(N9){return wk({$:7,$0:{$:1,$0:N9},$1:N7});};N_=ba.getCurrentId1(wj);return B.iter(N8,N_);};N$=ba.getNextCol1(wj);N5=B.iter(N6,N$);}else{N5=null;}N4=N5;}else{N4=null;}NX=N4;}NW=NX;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Oc=function(Od){var Oe,Og;Oe=function(Of){return wk({$:7,$0:{$:1,$0:Of},$1:Od});};Og=ba.getCurrentId1(wj);return B.iter(Oe,Og);};Oh=ba.getNextCol1(wj);Ob=B.iter(Oc,Oh);}else{Ob=null;}Oa=Ob;}else{Oa=null;}NW=Oa;}Nq=NW;}Mq=Nq;}Ml=Mq;}Mk=Ml;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ok=function(Ol){var Om,Oo;Om=function(On){return wk({$:7,$0:{$:1,$0:Ol},$1:On});};Oo=ba.getCurrentCol1(wj);return B.iter(Om,Oo);};Op=ba.getPriorId1(wj);Oj=B.iter(Ok,Op);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Os=function(Ot){var Ou,Ow;Ou=function(Ov){return wk({$:7,$0:{$:1,$0:Ot},$1:Ov});};Ow=ba.getCurrentCol1(wj);return B.iter(Ou,Ow);};Ox=ba.getNextId1(wj);Or=B.iter(Os,Ox);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){OA=function(OB){var OC,OE;OC=function(OD){return wk({$:7,$0:{$:1,$0:OD},$1:OB});};OE=ba.getCurrentId1(wj);return B.iter(OC,OE);};OF=ba.getPriorCol1(wj);Oz=B.iter(OA,OF);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){OI=function(OJ){var OK,OM;OK=function(OL){return wk({$:7,$0:{$:1,$0:OL},$1:OJ});};OM=ba.getCurrentId1(wj);return B.iter(OK,OM);};ON=ba.getNextCol1(wj);OH=B.iter(OI,ON);}else{OH=null;}OG=OH;}else{OG=null;}Oz=OG;}Oy=Oz;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){OQ=function(OR){var OS,OU;OS=function(OT){return wk({$:7,$0:{$:1,$0:OT},$1:OR});};OU=ba.getCurrentId1(wj);return B.iter(OS,OU);};OV=ba.getNextCol1(wj);OP=B.iter(OQ,OV);}else{OP=null;}OO=OP;}else{OO=null;}Oy=OO;}Or=Oy;}Oq=Or;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){OY=function(OZ){var O0,O2;O0=function(O1){return wk({$:7,$0:{$:1,$0:O1},$1:OZ});};O2=ba.getCurrentId1(wj);return B.iter(O0,O2);};O3=ba.getPriorCol1(wj);OX=B.iter(OY,O3);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){O6=function(O7){var O8,O_;O8=function(O9){return wk({$:7,$0:{$:1,$0:O9},$1:O7});};O_=ba.getCurrentId1(wj);return B.iter(O8,O_);};O$=ba.getNextCol1(wj);O5=B.iter(O6,O$);}else{O5=null;}O4=O5;}else{O4=null;}OX=O4;}OW=OX;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Pc=function(Pd){var Pe,Pg;Pe=function(Pf){return wk({$:7,$0:{$:1,$0:Pf},$1:Pd});};Pg=ba.getCurrentId1(wj);return B.iter(Pe,Pg);};Ph=ba.getNextCol1(wj);Pb=B.iter(Pc,Ph);}else{Pb=null;}Pa=Pb;}else{Pa=null;}OW=Pa;}Oq=OW;}Oj=Oq;}Oi=Oj;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Pk=function(Pl){var Pm,Po;Pm=function(Pn){return wk({$:7,$0:{$:1,$0:Pl},$1:Pn});};Po=ba.getCurrentCol1(wj);return B.iter(Pm,Po);};Pp=ba.getNextId1(wj);Pj=B.iter(Pk,Pp);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ps=function(Pt){var Pu,Pw;Pu=function(Pv){return wk({$:7,$0:{$:1,$0:Pv},$1:Pt});};Pw=ba.getCurrentId1(wj);return B.iter(Pu,Pw);};Px=ba.getPriorCol1(wj);Pr=B.iter(Ps,Px);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){PA=function(PB){var PC,PE;PC=function(PD){return wk({$:7,$0:{$:1,$0:PD},$1:PB});};PE=ba.getCurrentId1(wj);return B.iter(PC,PE);};PF=ba.getNextCol1(wj);Pz=B.iter(PA,PF);}else{Pz=null;}Py=Pz;}else{Py=null;}Pr=Py;}Pq=Pr;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){PI=function(PJ){var PK,PM;PK=function(PL){return wk({$:7,$0:{$:1,$0:PL},$1:PJ});};PM=ba.getCurrentId1(wj);return B.iter(PK,PM);};PN=ba.getNextCol1(wj);PH=B.iter(PI,PN);}else{PH=null;}PG=PH;}else{PG=null;}Pq=PG;}Pj=Pq;}Pi=Pj;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){PQ=function(PR){var PS,PU;PS=function(PT){return wk({$:7,$0:{$:1,$0:PT},$1:PR});};PU=ba.getCurrentId1(wj);return B.iter(PS,PU);};PV=ba.getPriorCol1(wj);PP=B.iter(PQ,PV);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){PY=function(PZ){var P0,P2;P0=function(P1){return wk({$:7,$0:{$:1,$0:P1},$1:PZ});};P2=ba.getCurrentId1(wj);return B.iter(P0,P2);};P3=ba.getNextCol1(wj);PX=B.iter(PY,P3);}else{PX=null;}PW=PX;}else{PW=null;}PP=PW;}PO=PP;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){P6=function(P7){var P8,P_;P8=function(P9){return wk({$:7,$0:{$:1,$0:P9},$1:P7});};P_=ba.getCurrentId1(wj);return B.iter(P8,P_);};P$=ba.getNextCol1(wj);P5=B.iter(P6,P$);}else{P5=null;}P4=P5;}else{P4=null;}PO=P4;}Pi=PO;}Oi=Pi;}Mk=Oi;}Mf=Mk;}Me=Mf;}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Qc=function(Qd){var Qe;Qe=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Qe),$1:{$:1,$0:[Qd,Qd]}});};Qf=ba.getNextCol1(wj);Qb=B.iter(Qc,Qf);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Qi=function(Qj){var Qk,Qm;Qk=function(Ql){return wk({$:7,$0:{$:1,$0:Qj},$1:Ql});};Qm=ba.getCurrentCol1(wj);return B.iter(Qk,Qm);};Qn=ba.getPriorId1(wj);Qh=B.iter(Qi,Qn);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Qq=function(Qr){var Qs,Qu;Qs=function(Qt){return wk({$:7,$0:{$:1,$0:Qr},$1:Qt});};Qu=ba.getCurrentCol1(wj);return B.iter(Qs,Qu);};Qv=ba.getNextId1(wj);Qp=B.iter(Qq,Qv);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Qy=function(Qz){var QA,QC;QA=function(QB){return wk({$:7,$0:{$:1,$0:QB},$1:Qz});};QC=ba.getCurrentId1(wj);return B.iter(QA,QC);};QD=ba.getPriorCol1(wj);Qx=B.iter(Qy,QD);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){QG=function(QH){var QI,QK;QI=function(QJ){return wk({$:7,$0:{$:1,$0:QJ},$1:QH});};QK=ba.getCurrentId1(wj);return B.iter(QI,QK);};QL=ba.getNextCol1(wj);QF=B.iter(QG,QL);}else{QF=null;}QE=QF;}else{QE=null;}Qx=QE;}Qw=Qx;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){QO=function(QP){var QQ,QS;QQ=function(QR){return wk({$:7,$0:{$:1,$0:QR},$1:QP});};QS=ba.getCurrentId1(wj);return B.iter(QQ,QS);};QT=ba.getNextCol1(wj);QN=B.iter(QO,QT);}else{QN=null;}QM=QN;}else{QM=null;}Qw=QM;}Qp=Qw;}Qo=Qp;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){QW=function(QX){var QY,Q0;QY=function(QZ){return wk({$:7,$0:{$:1,$0:QZ},$1:QX});};Q0=ba.getCurrentId1(wj);return B.iter(QY,Q0);};Q1=ba.getPriorCol1(wj);QV=B.iter(QW,Q1);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Q4=function(Q5){var Q6,Q8;Q6=function(Q7){return wk({$:7,$0:{$:1,$0:Q7},$1:Q5});};Q8=ba.getCurrentId1(wj);return B.iter(Q6,Q8);};Q9=ba.getNextCol1(wj);Q3=B.iter(Q4,Q9);}else{Q3=null;}Q2=Q3;}else{Q2=null;}QV=Q2;}QU=QV;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ra=function(Rb){var Rc,Re;Rc=function(Rd){return wk({$:7,$0:{$:1,$0:Rd},$1:Rb});};Re=ba.getCurrentId1(wj);return B.iter(Rc,Re);};Rf=ba.getNextCol1(wj);Q$=B.iter(Ra,Rf);}else{Q$=null;}Q_=Q$;}else{Q_=null;}QU=Q_;}Qo=QU;}Qh=Qo;}Qg=Qh;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ri=function(Rj){var Rk,Rm;Rk=function(Rl){return wk({$:7,$0:{$:1,$0:Rj},$1:Rl});};Rm=ba.getCurrentCol1(wj);return B.iter(Rk,Rm);};Rn=ba.getNextId1(wj);Rh=B.iter(Ri,Rn);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Rq=function(Rr){var Rs,Ru;Rs=function(Rt){return wk({$:7,$0:{$:1,$0:Rt},$1:Rr});};Ru=ba.getCurrentId1(wj);return B.iter(Rs,Ru);};Rv=ba.getPriorCol1(wj);Rp=B.iter(Rq,Rv);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ry=function(Rz){var RA,RC;RA=function(RB){return wk({$:7,$0:{$:1,$0:RB},$1:Rz});};RC=ba.getCurrentId1(wj);return B.iter(RA,RC);};RD=ba.getNextCol1(wj);Rx=B.iter(Ry,RD);}else{Rx=null;}Rw=Rx;}else{Rw=null;}Rp=Rw;}Ro=Rp;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){RG=function(RH){var RI,RK;RI=function(RJ){return wk({$:7,$0:{$:1,$0:RJ},$1:RH});};RK=ba.getCurrentId1(wj);return B.iter(RI,RK);};RL=ba.getNextCol1(wj);RF=B.iter(RG,RL);}else{RF=null;}RE=RF;}else{RE=null;}Ro=RE;}Rh=Ro;}Rg=Rh;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){RO=function(RP){var RQ,RS;RQ=function(RR){return wk({$:7,$0:{$:1,$0:RR},$1:RP});};RS=ba.getCurrentId1(wj);return B.iter(RQ,RS);};RT=ba.getPriorCol1(wj);RN=B.iter(RO,RT);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){RW=function(RX){var RY,R0;RY=function(RZ){return wk({$:7,$0:{$:1,$0:RZ},$1:RX});};R0=ba.getCurrentId1(wj);return B.iter(RY,R0);};R1=ba.getNextCol1(wj);RV=B.iter(RW,R1);}else{RV=null;}RU=RV;}else{RU=null;}RN=RU;}RM=RN;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){R4=function(R5){var R6,R8;R6=function(R7){return wk({$:7,$0:{$:1,$0:R7},$1:R5});};R8=ba.getCurrentId1(wj);return B.iter(R6,R8);};R9=ba.getNextCol1(wj);R3=B.iter(R4,R9);}else{R3=null;}R2=R3;}else{R2=null;}RM=R2;}Rg=RM;}Qg=Rg;}Qb=Qg;}Qa=Qb;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Sa=function(Sb){var Sc,Se;Sc=function(Sd){return wk({$:7,$0:{$:1,$0:Sb},$1:Sd});};Se=ba.getCurrentCol1(wj);return B.iter(Sc,Se);};Sf=ba.getPriorId1(wj);R$=B.iter(Sa,Sf);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Si=function(Sj){var Sk,Sm;Sk=function(Sl){return wk({$:7,$0:{$:1,$0:Sj},$1:Sl});};Sm=ba.getCurrentCol1(wj);return B.iter(Sk,Sm);};Sn=ba.getNextId1(wj);Sh=B.iter(Si,Sn);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Sq=function(Sr){var Ss,Su;Ss=function(St){return wk({$:7,$0:{$:1,$0:St},$1:Sr});};Su=ba.getCurrentId1(wj);return B.iter(Ss,Su);};Sv=ba.getPriorCol1(wj);Sp=B.iter(Sq,Sv);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Sy=function(Sz){var SA,SC;SA=function(SB){return wk({$:7,$0:{$:1,$0:SB},$1:Sz});};SC=ba.getCurrentId1(wj);return B.iter(SA,SC);};SD=ba.getNextCol1(wj);Sx=B.iter(Sy,SD);}else{Sx=null;}Sw=Sx;}else{Sw=null;}Sp=Sw;}So=Sp;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){SG=function(SH){var SI,SK;SI=function(SJ){return wk({$:7,$0:{$:1,$0:SJ},$1:SH});};SK=ba.getCurrentId1(wj);return B.iter(SI,SK);};SL=ba.getNextCol1(wj);SF=B.iter(SG,SL);}else{SF=null;}SE=SF;}else{SE=null;}So=SE;}Sh=So;}Sg=Sh;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){SO=function(SP){var SQ,SS;SQ=function(SR){return wk({$:7,$0:{$:1,$0:SR},$1:SP});};SS=ba.getCurrentId1(wj);return B.iter(SQ,SS);};ST=ba.getPriorCol1(wj);SN=B.iter(SO,ST);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){SW=function(SX){var SY,S0;SY=function(SZ){return wk({$:7,$0:{$:1,$0:SZ},$1:SX});};S0=ba.getCurrentId1(wj);return B.iter(SY,S0);};S1=ba.getNextCol1(wj);SV=B.iter(SW,S1);}else{SV=null;}SU=SV;}else{SU=null;}SN=SU;}SM=SN;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){S4=function(S5){var S6,S8;S6=function(S7){return wk({$:7,$0:{$:1,$0:S7},$1:S5});};S8=ba.getCurrentId1(wj);return B.iter(S6,S8);};S9=ba.getNextCol1(wj);S3=B.iter(S4,S9);}else{S3=null;}S2=S3;}else{S2=null;}SM=S2;}Sg=SM;}R$=Sg;}R_=R$;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ta=function(Tb){var Tc,Te;Tc=function(Td){return wk({$:7,$0:{$:1,$0:Tb},$1:Td});};Te=ba.getCurrentCol1(wj);return B.iter(Tc,Te);};Tf=ba.getNextId1(wj);S$=B.iter(Ta,Tf);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ti=function(Tj){var Tk,Tm;Tk=function(Tl){return wk({$:7,$0:{$:1,$0:Tl},$1:Tj});};Tm=ba.getCurrentId1(wj);return B.iter(Tk,Tm);};Tn=ba.getPriorCol1(wj);Th=B.iter(Ti,Tn);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Tq=function(Tr){var Ts,Tu;Ts=function(Tt){return wk({$:7,$0:{$:1,$0:Tt},$1:Tr});};Tu=ba.getCurrentId1(wj);return B.iter(Ts,Tu);};Tv=ba.getNextCol1(wj);Tp=B.iter(Tq,Tv);}else{Tp=null;}To=Tp;}else{To=null;}Th=To;}Tg=Th;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ty=function(Tz){var TA,TC;TA=function(TB){return wk({$:7,$0:{$:1,$0:TB},$1:Tz});};TC=ba.getCurrentId1(wj);return B.iter(TA,TC);};TD=ba.getNextCol1(wj);Tx=B.iter(Ty,TD);}else{Tx=null;}Tw=Tx;}else{Tw=null;}Tg=Tw;}S$=Tg;}S_=S$;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){TG=function(TH){var TI,TK;TI=function(TJ){return wk({$:7,$0:{$:1,$0:TJ},$1:TH});};TK=ba.getCurrentId1(wj);return B.iter(TI,TK);};TL=ba.getPriorCol1(wj);TF=B.iter(TG,TL);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){TO=function(TP){var TQ,TS;TQ=function(TR){return wk({$:7,$0:{$:1,$0:TR},$1:TP});};TS=ba.getCurrentId1(wj);return B.iter(TQ,TS);};TT=ba.getNextCol1(wj);TN=B.iter(TO,TT);}else{TN=null;}TM=TN;}else{TM=null;}TF=TM;}TE=TF;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){TW=function(TX){var TY,T0;TY=function(TZ){return wk({$:7,$0:{$:1,$0:TZ},$1:TX});};T0=ba.getCurrentId1(wj);return B.iter(TY,T0);};T1=ba.getNextCol1(wj);TV=B.iter(TW,T1);}else{TV=null;}TU=TV;}else{TU=null;}TE=TU;}S_=TE;}R_=S_;}Qa=R_;}Me=Qa;}L$=Me;}L_=L$;}else{if(wm==="ArrowLeft"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){T4=function(T5){var T6;T6=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](T6),$1:{$:1,$0:[T5,T5]}});};T7=ba.getPriorCol1(wj);T3=B.iter(T4,T7);}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){T_=function(T$){var Ua;Ua=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](Ua),$1:{$:1,$0:[T$,T$]}});};Ub=ba.getNextCol1(wj);T9=B.iter(T_,Ub);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ue=function(Uf){var Ug,Ui;Ug=function(Uh){return wk({$:7,$0:{$:1,$0:Uf},$1:Uh});};Ui=ba.getCurrentCol1(wj);return B.iter(Ug,Ui);};Uj=ba.getPriorId1(wj);Ud=B.iter(Ue,Uj);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Um=function(Un){var Uo,Uq;Uo=function(Up){return wk({$:7,$0:{$:1,$0:Un},$1:Up});};Uq=ba.getCurrentCol1(wj);return B.iter(Uo,Uq);};Ur=ba.getNextId1(wj);Ul=B.iter(Um,Ur);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Uu=function(Uv){var Uw,Uy;Uw=function(Ux){return wk({$:7,$0:{$:1,$0:Ux},$1:Uv});};Uy=ba.getCurrentId1(wj);return B.iter(Uw,Uy);};Uz=ba.getPriorCol1(wj);Ut=B.iter(Uu,Uz);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){UC=function(UD){var UE,UG;UE=function(UF){return wk({$:7,$0:{$:1,$0:UF},$1:UD});};UG=ba.getCurrentId1(wj);return B.iter(UE,UG);};UH=ba.getNextCol1(wj);UB=B.iter(UC,UH);}else{UB=null;}UA=UB;}else{UA=null;}Ut=UA;}Us=Ut;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){UK=function(UL){var UM,UO;UM=function(UN){return wk({$:7,$0:{$:1,$0:UN},$1:UL});};UO=ba.getCurrentId1(wj);return B.iter(UM,UO);};UP=ba.getNextCol1(wj);UJ=B.iter(UK,UP);}else{UJ=null;}UI=UJ;}else{UI=null;}Us=UI;}Ul=Us;}Uk=Ul;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){US=function(UT){var UU,UW;UU=function(UV){return wk({$:7,$0:{$:1,$0:UV},$1:UT});};UW=ba.getCurrentId1(wj);return B.iter(UU,UW);};UX=ba.getPriorCol1(wj);UR=B.iter(US,UX);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){U0=function(U1){var U2,U4;U2=function(U3){return wk({$:7,$0:{$:1,$0:U3},$1:U1});};U4=ba.getCurrentId1(wj);return B.iter(U2,U4);};U5=ba.getNextCol1(wj);UZ=B.iter(U0,U5);}else{UZ=null;}UY=UZ;}else{UY=null;}UR=UY;}UQ=UR;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){U8=function(U9){var U_,Va;U_=function(U$){return wk({$:7,$0:{$:1,$0:U$},$1:U9});};Va=ba.getCurrentId1(wj);return B.iter(U_,Va);};Vb=ba.getNextCol1(wj);U7=B.iter(U8,Vb);}else{U7=null;}U6=U7;}else{U6=null;}UQ=U6;}Uk=UQ;}Ud=Uk;}Uc=Ud;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ve=function(Vf){var Vg,Vi;Vg=function(Vh){return wk({$:7,$0:{$:1,$0:Vf},$1:Vh});};Vi=ba.getCurrentCol1(wj);return B.iter(Vg,Vi);};Vj=ba.getNextId1(wj);Vd=B.iter(Ve,Vj);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Vm=function(Vn){var Vo,Vq;Vo=function(Vp){return wk({$:7,$0:{$:1,$0:Vp},$1:Vn});};Vq=ba.getCurrentId1(wj);return B.iter(Vo,Vq);};Vr=ba.getPriorCol1(wj);Vl=B.iter(Vm,Vr);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Vu=function(Vv){var Vw,Vy;Vw=function(Vx){return wk({$:7,$0:{$:1,$0:Vx},$1:Vv});};Vy=ba.getCurrentId1(wj);return B.iter(Vw,Vy);};Vz=ba.getNextCol1(wj);Vt=B.iter(Vu,Vz);}else{Vt=null;}Vs=Vt;}else{Vs=null;}Vl=Vs;}Vk=Vl;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){VC=function(VD){var VE,VG;VE=function(VF){return wk({$:7,$0:{$:1,$0:VF},$1:VD});};VG=ba.getCurrentId1(wj);return B.iter(VE,VG);};VH=ba.getNextCol1(wj);VB=B.iter(VC,VH);}else{VB=null;}VA=VB;}else{VA=null;}Vk=VA;}Vd=Vk;}Vc=Vd;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){VK=function(VL){var VM,VO;VM=function(VN){return wk({$:7,$0:{$:1,$0:VN},$1:VL});};VO=ba.getCurrentId1(wj);return B.iter(VM,VO);};VP=ba.getPriorCol1(wj);VJ=B.iter(VK,VP);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){VS=function(VT){var VU,VW;VU=function(VV){return wk({$:7,$0:{$:1,$0:VV},$1:VT});};VW=ba.getCurrentId1(wj);return B.iter(VU,VW);};VX=ba.getNextCol1(wj);VR=B.iter(VS,VX);}else{VR=null;}VQ=VR;}else{VQ=null;}VJ=VQ;}VI=VJ;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){V0=function(V1){var V2,V4;V2=function(V3){return wk({$:7,$0:{$:1,$0:V3},$1:V1});};V4=ba.getCurrentId1(wj);return B.iter(V2,V4);};V5=ba.getNextCol1(wj);VZ=B.iter(V0,V5);}else{VZ=null;}VY=VZ;}else{VY=null;}VI=VY;}Vc=VI;}Uc=Vc;}T9=Uc;}T8=T9;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){V8=function(V9){var V_,Wa;V_=function(V$){return wk({$:7,$0:{$:1,$0:V9},$1:V$});};Wa=ba.getCurrentCol1(wj);return B.iter(V_,Wa);};Wb=ba.getPriorId1(wj);V7=B.iter(V8,Wb);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){We=function(Wf){var Wg,Wi;Wg=function(Wh){return wk({$:7,$0:{$:1,$0:Wf},$1:Wh});};Wi=ba.getCurrentCol1(wj);return B.iter(Wg,Wi);};Wj=ba.getNextId1(wj);Wd=B.iter(We,Wj);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Wm=function(Wn){var Wo,Wq;Wo=function(Wp){return wk({$:7,$0:{$:1,$0:Wp},$1:Wn});};Wq=ba.getCurrentId1(wj);return B.iter(Wo,Wq);};Wr=ba.getPriorCol1(wj);Wl=B.iter(Wm,Wr);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Wu=function(Wv){var Ww,Wy;Ww=function(Wx){return wk({$:7,$0:{$:1,$0:Wx},$1:Wv});};Wy=ba.getCurrentId1(wj);return B.iter(Ww,Wy);};Wz=ba.getNextCol1(wj);Wt=B.iter(Wu,Wz);}else{Wt=null;}Ws=Wt;}else{Ws=null;}Wl=Ws;}Wk=Wl;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){WC=function(WD){var WE,WG;WE=function(WF){return wk({$:7,$0:{$:1,$0:WF},$1:WD});};WG=ba.getCurrentId1(wj);return B.iter(WE,WG);};WH=ba.getNextCol1(wj);WB=B.iter(WC,WH);}else{WB=null;}WA=WB;}else{WA=null;}Wk=WA;}Wd=Wk;}Wc=Wd;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){WK=function(WL){var WM,WO;WM=function(WN){return wk({$:7,$0:{$:1,$0:WN},$1:WL});};WO=ba.getCurrentId1(wj);return B.iter(WM,WO);};WP=ba.getPriorCol1(wj);WJ=B.iter(WK,WP);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){WS=function(WT){var WU,WW;WU=function(WV){return wk({$:7,$0:{$:1,$0:WV},$1:WT});};WW=ba.getCurrentId1(wj);return B.iter(WU,WW);};WX=ba.getNextCol1(wj);WR=B.iter(WS,WX);}else{WR=null;}WQ=WR;}else{WQ=null;}WJ=WQ;}WI=WJ;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){W0=function(W1){var W2,W4;W2=function(W3){return wk({$:7,$0:{$:1,$0:W3},$1:W1});};W4=ba.getCurrentId1(wj);return B.iter(W2,W4);};W5=ba.getNextCol1(wj);WZ=B.iter(W0,W5);}else{WZ=null;}WY=WZ;}else{WY=null;}WI=WY;}Wc=WI;}V7=Wc;}V6=V7;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){W8=function(W9){var W_,Xa;W_=function(W$){return wk({$:7,$0:{$:1,$0:W9},$1:W$});};Xa=ba.getCurrentCol1(wj);return B.iter(W_,Xa);};Xb=ba.getNextId1(wj);W7=B.iter(W8,Xb);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Xe=function(Xf){var Xg,Xi;Xg=function(Xh){return wk({$:7,$0:{$:1,$0:Xh},$1:Xf});};Xi=ba.getCurrentId1(wj);return B.iter(Xg,Xi);};Xj=ba.getPriorCol1(wj);Xd=B.iter(Xe,Xj);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Xm=function(Xn){var Xo,Xq;Xo=function(Xp){return wk({$:7,$0:{$:1,$0:Xp},$1:Xn});};Xq=ba.getCurrentId1(wj);return B.iter(Xo,Xq);};Xr=ba.getNextCol1(wj);Xl=B.iter(Xm,Xr);}else{Xl=null;}Xk=Xl;}else{Xk=null;}Xd=Xk;}Xc=Xd;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Xu=function(Xv){var Xw,Xy;Xw=function(Xx){return wk({$:7,$0:{$:1,$0:Xx},$1:Xv});};Xy=ba.getCurrentId1(wj);return B.iter(Xw,Xy);};Xz=ba.getNextCol1(wj);Xt=B.iter(Xu,Xz);}else{Xt=null;}Xs=Xt;}else{Xs=null;}Xc=Xs;}W7=Xc;}W6=W7;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){XC=function(XD){var XE,XG;XE=function(XF){return wk({$:7,$0:{$:1,$0:XF},$1:XD});};XG=ba.getCurrentId1(wj);return B.iter(XE,XG);};XH=ba.getPriorCol1(wj);XB=B.iter(XC,XH);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){XK=function(XL){var XM,XO;XM=function(XN){return wk({$:7,$0:{$:1,$0:XN},$1:XL});};XO=ba.getCurrentId1(wj);return B.iter(XM,XO);};XP=ba.getNextCol1(wj);XJ=B.iter(XK,XP);}else{XJ=null;}XI=XJ;}else{XI=null;}XB=XI;}XA=XB;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){XS=function(XT){var XU,XW;XU=function(XV){return wk({$:7,$0:{$:1,$0:XV},$1:XT});};XW=ba.getCurrentId1(wj);return B.iter(XU,XW);};XX=ba.getNextCol1(wj);XR=B.iter(XS,XX);}else{XR=null;}XQ=XR;}else{XQ=null;}XA=XQ;}W6=XA;}V6=W6;}T8=V6;}T3=T8;}T2=T3;}else{if(wm==="ArrowRight"){if((!wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){X0=function(X1){var X2;X2=ba.getCurrentId1(wj);return wk({$:4,$0:ba["double"](X2),$1:{$:1,$0:[X1,X1]}});};X3=ba.getNextCol1(wj);XZ=B.iter(X0,X3);}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){X6=function(X7){var X8,X_;X8=function(X9){return wk({$:7,$0:{$:1,$0:X7},$1:X9});};X_=ba.getCurrentCol1(wj);return B.iter(X8,X_);};X$=ba.getPriorId1(wj);X5=B.iter(X6,X$);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Yc=function(Yd){var Ye,Yg;Ye=function(Yf){return wk({$:7,$0:{$:1,$0:Yd},$1:Yf});};Yg=ba.getCurrentCol1(wj);return B.iter(Ye,Yg);};Yh=ba.getNextId1(wj);Yb=B.iter(Yc,Yh);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Yk=function(Yl){var Ym,Yo;Ym=function(Yn){return wk({$:7,$0:{$:1,$0:Yn},$1:Yl});};Yo=ba.getCurrentId1(wj);return B.iter(Ym,Yo);};Yp=ba.getPriorCol1(wj);Yj=B.iter(Yk,Yp);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Ys=function(Yt){var Yu,Yw;Yu=function(Yv){return wk({$:7,$0:{$:1,$0:Yv},$1:Yt});};Yw=ba.getCurrentId1(wj);return B.iter(Yu,Yw);};Yx=ba.getNextCol1(wj);Yr=B.iter(Ys,Yx);}else{Yr=null;}Yq=Yr;}else{Yq=null;}Yj=Yq;}Yi=Yj;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){YA=function(YB){var YC,YE;YC=function(YD){return wk({$:7,$0:{$:1,$0:YD},$1:YB});};YE=ba.getCurrentId1(wj);return B.iter(YC,YE);};YF=ba.getNextCol1(wj);Yz=B.iter(YA,YF);}else{Yz=null;}Yy=Yz;}else{Yy=null;}Yi=Yy;}Yb=Yi;}Ya=Yb;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){YI=function(YJ){var YK,YM;YK=function(YL){return wk({$:7,$0:{$:1,$0:YL},$1:YJ});};YM=ba.getCurrentId1(wj);return B.iter(YK,YM);};YN=ba.getPriorCol1(wj);YH=B.iter(YI,YN);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){YQ=function(YR){var YS,YU;YS=function(YT){return wk({$:7,$0:{$:1,$0:YT},$1:YR});};YU=ba.getCurrentId1(wj);return B.iter(YS,YU);};YV=ba.getNextCol1(wj);YP=B.iter(YQ,YV);}else{YP=null;}YO=YP;}else{YO=null;}YH=YO;}YG=YH;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){YY=function(YZ){var Y0,Y2;Y0=function(Y1){return wk({$:7,$0:{$:1,$0:Y1},$1:YZ});};Y2=ba.getCurrentId1(wj);return B.iter(Y0,Y2);};Y3=ba.getNextCol1(wj);YX=B.iter(YY,Y3);}else{YX=null;}YW=YX;}else{YW=null;}YG=YW;}Ya=YG;}X5=Ya;}X4=X5;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Y6=function(Y7){var Y8,Y_;Y8=function(Y9){return wk({$:7,$0:{$:1,$0:Y7},$1:Y9});};Y_=ba.getCurrentCol1(wj);return B.iter(Y8,Y_);};Y$=ba.getNextId1(wj);Y5=B.iter(Y6,Y$);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Zc=function(Zd){var Ze,Zg;Ze=function(Zf){return wk({$:7,$0:{$:1,$0:Zf},$1:Zd});};Zg=ba.getCurrentId1(wj);return B.iter(Ze,Zg);};Zh=ba.getPriorCol1(wj);Zb=B.iter(Zc,Zh);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Zk=function(Zl){var Zm,Zo;Zm=function(Zn){return wk({$:7,$0:{$:1,$0:Zn},$1:Zl});};Zo=ba.getCurrentId1(wj);return B.iter(Zm,Zo);};Zp=ba.getNextCol1(wj);Zj=B.iter(Zk,Zp);}else{Zj=null;}Zi=Zj;}else{Zi=null;}Zb=Zi;}Za=Zb;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Zs=function(Zt){var Zu,Zw;Zu=function(Zv){return wk({$:7,$0:{$:1,$0:Zv},$1:Zt});};Zw=ba.getCurrentId1(wj);return B.iter(Zu,Zw);};Zx=ba.getNextCol1(wj);Zr=B.iter(Zs,Zx);}else{Zr=null;}Zq=Zr;}else{Zq=null;}Za=Zq;}Y5=Za;}Y4=Y5;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){ZA=function(ZB){var ZC,ZE;ZC=function(ZD){return wk({$:7,$0:{$:1,$0:ZD},$1:ZB});};ZE=ba.getCurrentId1(wj);return B.iter(ZC,ZE);};ZF=ba.getPriorCol1(wj);Zz=B.iter(ZA,ZF);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){ZI=function(ZJ){var ZK,ZM;ZK=function(ZL){return wk({$:7,$0:{$:1,$0:ZL},$1:ZJ});};ZM=ba.getCurrentId1(wj);return B.iter(ZK,ZM);};ZN=ba.getNextCol1(wj);ZH=B.iter(ZI,ZN);}else{ZH=null;}ZG=ZH;}else{ZG=null;}Zz=ZG;}Zy=Zz;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){ZQ=function(ZR){var ZS,ZU;ZS=function(ZT){return wk({$:7,$0:{$:1,$0:ZT},$1:ZR});};ZU=ba.getCurrentId1(wj);return B.iter(ZS,ZU);};ZV=ba.getNextCol1(wj);ZP=B.iter(ZQ,ZV);}else{ZP=null;}ZO=ZP;}else{ZO=null;}Zy=ZO;}Y4=Zy;}X4=Y4;}XZ=X4;}XY=XZ;}else{if(wm==="ArrowUp"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){ZY=function(ZZ){var Z0,Z2;Z0=function(Z1){return wk({$:7,$0:{$:1,$0:ZZ},$1:Z1});};Z2=ba.getCurrentCol1(wj);return B.iter(Z0,Z2);};Z3=ba.getPriorId1(wj);ZX=B.iter(ZY,Z3);}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){Z6=function(Z7){var Z8,Z_;Z8=function(Z9){return wk({$:7,$0:{$:1,$0:Z7},$1:Z9});};Z_=ba.getCurrentCol1(wj);return B.iter(Z8,Z_);};Z$=ba.getNextId1(wj);Z5=B.iter(Z6,Z$);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0c=function(_0d){var _0e,_0g;_0e=function(_0f){return wk({$:7,$0:{$:1,$0:_0f},$1:_0d});};_0g=ba.getCurrentId1(wj);return B.iter(_0e,_0g);};_0h=ba.getPriorCol1(wj);_0b=B.iter(_0c,_0h);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0k=function(_0l){var _0m,_0o;_0m=function(_0n){return wk({$:7,$0:{$:1,$0:_0n},$1:_0l});};_0o=ba.getCurrentId1(wj);return B.iter(_0m,_0o);};_0p=ba.getNextCol1(wj);_0j=B.iter(_0k,_0p);}else{_0j=null;}_0i=_0j;}else{_0i=null;}_0b=_0i;}_0a=_0b;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0s=function(_0t){var _0u,_0w;_0u=function(_0v){return wk({$:7,$0:{$:1,$0:_0v},$1:_0t});};_0w=ba.getCurrentId1(wj);return B.iter(_0u,_0w);};_0x=ba.getNextCol1(wj);_0r=B.iter(_0s,_0x);}else{_0r=null;}_0q=_0r;}else{_0q=null;}_0a=_0q;}Z5=_0a;}Z4=Z5;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0A=function(_0B){var _0C,_0E;_0C=function(_0D){return wk({$:7,$0:{$:1,$0:_0D},$1:_0B});};_0E=ba.getCurrentId1(wj);return B.iter(_0C,_0E);};_0F=ba.getPriorCol1(wj);_0z=B.iter(_0A,_0F);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0I=function(_0J){var _0K,_0M;_0K=function(_0L){return wk({$:7,$0:{$:1,$0:_0L},$1:_0J});};_0M=ba.getCurrentId1(wj);return B.iter(_0K,_0M);};_0N=ba.getNextCol1(wj);_0H=B.iter(_0I,_0N);}else{_0H=null;}_0G=_0H;}else{_0G=null;}_0z=_0G;}_0y=_0z;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0Q=function(_0R){var _0S,_0U;_0S=function(_0T){return wk({$:7,$0:{$:1,$0:_0T},$1:_0R});};_0U=ba.getCurrentId1(wj);return B.iter(_0S,_0U);};_0V=ba.getNextCol1(wj);_0P=B.iter(_0Q,_0V);}else{_0P=null;}_0O=_0P;}else{_0O=null;}_0y=_0O;}Z4=_0y;}ZX=Z4;}ZW=ZX;}else{if(wm==="ArrowDown"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_0Y=function(_0Z){var _00,_02;_00=function(_01){return wk({$:7,$0:{$:1,$0:_0Z},$1:_01});};_02=ba.getCurrentCol1(wj);return B.iter(_00,_02);};_03=ba.getNextId1(wj);_0X=B.iter(_0Y,_03);}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_06=function(_07){var _08,_0_;_08=function(_09){return wk({$:7,$0:{$:1,$0:_09},$1:_07});};_0_=ba.getCurrentId1(wj);return B.iter(_08,_0_);};_0$=ba.getPriorCol1(wj);_05=B.iter(_06,_0$);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_1c=function(_1d){var _1e,_1g;_1e=function(_1f){return wk({$:7,$0:{$:1,$0:_1f},$1:_1d});};_1g=ba.getCurrentId1(wj);return B.iter(_1e,_1g);};_1h=ba.getNextCol1(wj);_1b=B.iter(_1c,_1h);}else{_1b=null;}_1a=_1b;}else{_1a=null;}_05=_1a;}_04=_05;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_1k=function(_1l){var _1m,_1o;_1m=function(_1n){return wk({$:7,$0:{$:1,$0:_1n},$1:_1l});};_1o=ba.getCurrentId1(wj);return B.iter(_1m,_1o);};_1p=ba.getNextCol1(wj);_1j=B.iter(_1k,_1p);}else{_1j=null;}_1i=_1j;}else{_1i=null;}_04=_1i;}_0X=_04;}_0W=_0X;}else{if(wm==="ArrowLeft"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_1s=function(_1t){var _1u,_1w;_1u=function(_1v){return wk({$:7,$0:{$:1,$0:_1v},$1:_1t});};_1w=ba.getCurrentId1(wj);return B.iter(_1u,_1w);};_1x=ba.getPriorCol1(wj);_1r=B.iter(_1s,_1x);}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_1A=function(_1B){var _1C,_1E;_1C=function(_1D){return wk({$:7,$0:{$:1,$0:_1D},$1:_1B});};_1E=ba.getCurrentId1(wj);return B.iter(_1C,_1E);};_1F=ba.getNextCol1(wj);_1z=B.iter(_1A,_1F);}else{_1z=null;}_1y=_1z;}else{_1y=null;}_1r=_1y;}_1q=_1r;}else{if(wm==="ArrowRight"){if((wl.shiftKey?!wl.ctrlKey:false)?!wl.altKey:false){_1I=function(_1J){var _1K,_1M;_1K=function(_1L){return wk({$:7,$0:{$:1,$0:_1L},$1:_1J});};_1M=ba.getCurrentId1(wj);return B.iter(_1K,_1M);};_1N=ba.getNextCol1(wj);_1H=B.iter(_1I,_1N);}else{_1H=null;}_1G=_1H;}else{_1G=null;}_1q=_1G;}_0W=_1q;}ZW=_0W;}XY=ZW;}T2=XY;}L_=T2;}wo=L_;}wn=wo;}return wn;},init:$.Field(function(){return{dimension:{$:0},elements:$.New(g,{$:0}),expanded:G.New($.New(g,{$:0})),hover:{$:0},selection:[{$:0},{$:0}],capturing:false};}),preventDefault:function(_1O){var _1P;_1P=_1O.preventDefault.apply(_1O,null);return;},selectDimension_:function(_1Q,_1R,_1S){var _1T,_1U;_1T=bd.wrap();_1U=_1T.Delay(function(){return _1T.Bind1(r.Async("CIPHERPrototype2:12",[]),function(_1W){return _1T.Bind1(r.Async("CIPHERPrototype2:22",[_1Q,_1S]),function(_1X){var _1Y,_1Z,_10,_11,_12,_2b,_2c,_2d,_2i,_2j,_2T,_24,_25,_3a,_3b;_1Y=_1X[3];_1Z=_1X[2];_10=_1X[0];_11=_1X[1];_12=function(_13){var _14,_15,_16,_17,_18,_19,_1$,_2a;_14=_13[0];_15=_13[1];_16=_13[2];_17=_13[3];if(y.Equals(_14,_1S)){_19=function(_1_){return _1_.name;};_1$=z.skip(3,_11);_2a=z.map(_19,_1$);_18={$:1,$0:{dim:_1S,id:_15,name:_16,description:_17,attributes:z.toList(_2a)}};}else{_18={$:0};}return _18;};_2b=z.choose(_12,_1W);_2c=bb.tryHead(_2b);_1R({$:0,$0:_2c});_2d=function(_2e){var _2f;_2f=function(_2g){var _2h;_2g[0];_2h=_2g[1];_2g[2];_2g[3];_2g[4];_2g[5];return y.Equals(_2e,_2h);};return z.tryFind(_2f,_10);};_2i=function(_2k){var _2l,_2m;_2l=_2d(_2k);_2m=function(_2n){var _2o,_2p,_2q,_2r,_2s,_2t,_2u,_2w,_2x,_2y,_2F,_2H,_2I;_2o=_2n[0];_2p=_2n[1];_2q=_2n[2];_2r=_2n[3];_2s=_2n[4];_2t=_2n[5];_2u=function(_2v){return _2v;};_2w=z.map(_2u,_2t);_2x=_2j(_2k);_2y=function(_2z){var _2A,_2B,_2C,_2D,_2E;_2A=_2z[0];_2B=_2z[1];_2C=_2A.name;_2D=_2A.order;_2E=S.defaultV(_2C,_2D);return S.defaultV(_2E,_2B);};_2F=function(_2G){return _2G[0];};_2H=z.sortBy(_2y,_2x);_2I=z.map(_2F,_2H);return{id:_2k,name:_2q,description:_2r,order:_2s,attributes:z.toList(_2w),children:z.toList(_2I)};};return B.map(_2m,_2l);};_2j=function(_2J){var _2K;_2K=function(_2L){var _2M,_2N,_2O,_2P,_2Q,_2S;_2M=_2L[0];_2N=_2L[1];_2L[2];_2O=_2L[3];if(y.Equals(_2J,_2N)){_2Q=function(_2R){return[_2R,_2O];};_2S=_2i(_2M);_2P=B.map(_2Q,_2S);}else{_2P={$:0};}return _2P;};return z.choose(_2K,_1Y);};_2T=function(_2U){var _2V,_2W,_2X,_2Y,_2Z,_20,_23;_2V=_2U[0];_2W=_2U[1];_2X=_2U[2];_2Y=_2U[3];_2Z=_2U[4];_2U[5];_20=function(_21){var _22;_22=_21[0];_21[1];_21[2];_21[3];return y.Equals(_22,_2W);};_23=z.exists(_20,_1Y);return!_23?_2i(_2W):{$:0};};_24=z.choose(_2T,_10);_25=function(_26){var _27,_29,_2_,_2$;_27=function(_28){return E.Trim(_28)!=="";};_29=_26.name;_2_=_26.order;_2$=B.filter(_27,_2_);return S.defaultV(_29,_2$);};_3a=z.sortBy(_25,_24);_3b=z.toList(_3a);_1R({$:1,$0:_3b});return _1T.Zero();});});});return bd.call(_1U);},update:function(_3c,_3d){var _3e,_3x,_3y,_3z,_3A,_3B,_3C,_3D,_3E,_3F,_3G,_3H,_3I,_3J,_3K,_3L,_3M,_3N,_3S;_3e=function(_3f,_3g){var _3h,_3i,_3j,_3k,_3l,_3m,_3n,_3o,_3p,_3q,_3r,_3s,_3t,_3u,_3v,_3w;_3h=[_3f,_3d.selection];if(_3h[0].$==1){if(_3h[1][0].$==0){if(_3h[1][1].$==1){_3l=_3h[1][1].$0[0];_3h[1][1].$0[1];_3m=[{$:0},{$:1,$0:[_3l,_3g]}];_3k={dimension:_3d.dimension,elements:_3d.elements,expanded:_3d.expanded,hover:_3d.hover,selection:_3m,capturing:_3d.capturing};}else{_3k=_3d;}_3j=_3k;}else{if(_3h[1][1].$==1){_3o=_3h[1][1].$0[0];_3p=_3h[1][1].$0[1];_3q=_3h[0].$0;_3r=_3h[1][0].$0[0];_3h[1][0].$0[1];_3s=[{$:1,$0:[_3r,_3q]},{$:1,$0:[_3o,_3g]}];_3n={dimension:_3d.dimension,elements:_3d.elements,expanded:_3d.expanded,hover:_3d.hover,selection:_3s,capturing:_3d.capturing};}else{_3n=_3d;}_3j=_3n;}_3i=_3j;}else{if(_3h[1][0].$==0){if(_3h[1][1].$==1){_3v=_3h[1][1].$0[0];_3h[1][1].$0[1];_3w=[{$:0},{$:1,$0:[_3v,_3g]}];_3u={dimension:_3d.dimension,elements:_3d.elements,expanded:_3d.expanded,hover:_3d.hover,selection:_3w,capturing:_3d.capturing};}else{_3u=_3d;}_3t=_3u;}else{_3t=_3d;}_3i=_3t;}return _3i;};if(_3c.$==1){_3y=_3c.$0;_3x={dimension:_3d.dimension,elements:_3y,expanded:_3d.expanded,hover:_3d.hover,selection:_3d.selection,capturing:_3d.capturing};}else{if(_3c.$==3){_3z=_3c.$0;_3x={dimension:_3d.dimension,elements:_3d.elements,expanded:_3d.expanded,hover:_3z,selection:_3d.selection,capturing:_3d.capturing};}else{if(_3c.$==4){_3A=_3c.$1;_3B=_3c.$0;_3C=[_3B,_3A];_3x={dimension:_3d.dimension,elements:_3d.elements,expanded:_3d.expanded,hover:_3d.hover,selection:_3C,capturing:_3d.capturing};}else{if(_3c.$==6){_3D=_3c.$1;_3E=_3c.$0;_3F=[ba["double"](_3E),{$:1,$0:[_3D,_3D]}];_3x={dimension:_3d.dimension,elements:_3d.elements,expanded:_3d.expanded,hover:_3d.hover,selection:_3F,capturing:true};}else{if(_3c.$==5){_3G=_3c.$0;_3H=_3c.$1;_3x=_3e(_3G,_3H);}else{if(_3c.$==7){_3I=_3c.$0;_3J=_3c.$1;_3K=_3e(_3I,_3J);_3x={dimension:_3K.dimension,elements:_3K.elements,expanded:_3K.expanded,hover:_3K.hover,selection:_3K.selection,capturing:false};}else{if(_3c.$==2){_3L=_3c.$0;_3M=_3c.$1;_3N=((_3M?function(_3O){return function(_3P){return _3P.Add(_3O);};}:function(_3Q){return function(_3R){return _3R.Remove(_3Q);};})(_3L))(_3d.expanded);_3x={dimension:_3d.dimension,elements:_3d.elements,expanded:_3N,hover:_3d.hover,selection:_3d.selection,capturing:_3d.capturing};}else{_3S=_3c.$0;_3x={dimension:_3S,elements:$.New(g,{$:0}),expanded:_3d.expanded,hover:_3d.hover,selection:_3d.selection,capturing:_3d.capturing};}}}}}}}return _3x;},view:function(_3T,_3U){var _3V,_4E,_4F,_4G,_4H,_4I,_4J,_4L,_4M,_4N,_4O,_4P,_4R,_4S,_4T,_4U;_3V=function(_3W){return function(_3X){var _3Y,_3Z,_30,_31,_32,_33,_34,_35,_36,_37,_38,_39,_3_,_3$,_4a,_4b,_4c,_4d,_4e,_4f,_4g,_4h,_4i,_4j,_4k,_4l,_4m,_4n,_4o,_4p,_4u,_4B,_4C;_3Y=_3X[0];_3Z=_3X[1];_30=_3X[2];_31=_3X[3];_32=y.Equals(_3T.hover,{$:1,$0:_3Y.id});_33=_3T.selection;if(_33[0].$==1){_36=_33[0].$0[1];_37=_33[0].$0[0];if(y.Equals(_37,_3Y.id)?true:y.Equals(_36,_3Y.id)){_33[0].$0[0];_33[0].$0[1];_38=true;}else{_38=_3W;}_35=_38;}else{_35=_33[1].$==1?true:_3W;}_34=_35;_39=_3T.selection;if(_39[0].$==1){_4a=_39[0].$0[1];_4b=_39[0].$0[0];if(y.Equals(_4b,_3Y.id)?y.Equals(_4a,_4b):false){_39[0].$0[0];_39[0].$0[1];_4c=false;}else{if(_39[0].$==1){_4e=_39[0].$0[1];_4f=_39[0].$0[0];if(y.Equals(_4f,_3Y.id)?true:y.Equals(_4e,_3Y.id)){_39[0].$0[0];_39[0].$0[1];_4g=!_3W;}else{_4g=_34;}_4d=_4g;}else{_4d=_34;}_4c=_4d;}_3$=_4c;}else{if(_39[0].$==1){_4i=_39[0].$0[1];_4j=_39[0].$0[0];if(y.Equals(_4j,_3Y.id)?true:y.Equals(_4i,_3Y.id)){_39[0].$0[0];_39[0].$0[1];_4k=!_3W;}else{_4k=_34;}_4h=_4k;}else{_4h=_34;}_3$=_4h;}_3_=_3$;_4m=h.Div(f.ofArray([{$:1,$0:_30},h._Style(f.ofArray([h._display("inline"),h._fontFamily("Glyphicons Halflings"),h._fontSize("11px"),h._cursor("pointer"),h._paddingLeft($$.String(_31*4)+"ch")]))]));_4n=_32?f.ofArray([h._Style(f.ofArray([h._background("#e6e6e6")]))]):$.New(g,{$:0});_4o=((h.addAttributes())(_4n))(_4m);_4p=(h.OnMouseOver(function(){var _4r,_4s,_4t;if(!y.Equals({$:1,$0:_3Y.id},_3T.hover)){_4s=_3Y.id;_4t={$:1,$0:_4s};_4r=_3U({$:3,$0:_4t});}else{_4r=null;}return _4r;}))(_4o);_4u=(h.OnMouseOut(function(){var _4w;_4w={$:0};return _3U({$:3,$0:_4w});}))(_4p);_4l=h.Tr(f.ofArray([h.Td(f.ofArray([h._Style(f.ofArray([h._overflow("hidden"),h._textOverflow("ellipsis")])),(h.OnClick(function(){var _4y,_4z,_4A;_4y=[_3Y.id,!_3Z];_4z=_4y[0];_4A=_4y[1];return _3U({$:2,$0:_4z,$1:_4A});}))(_4u),h.Div(f.ofArray([{$:1,$0:_3Y.name},h._Style(f.ofArray([h._display("inline"),h._paddingRight("1ch")])),h.Draggable(true)]))]))]));_4B=_3Y.description;_4C=_3Y.order;return[(ba.addMoreFields(_3T,_3U,{$:1,$0:_3Y.id},_34,$.New(g,{$:1,$0:_3Y.name,$1:$.New(g,{$:1,$0:S.defaultV("",_4B),$1:$.New(g,{$:1,$0:S.defaultV("",_4C),$1:_3Y.attributes})})}),function(_4D){return h.Td(_4D);}))(_4l),_3_];};};_4E=_3T.dimension;if(_4E.$==1){_4G=_4E.$0;_4J=h.Tr(f.ofArray([h.Th(f.ofArray([{$:1,$0:"Element"},h._Style(f.ofArray([h._paddingLeft("3ch")]))]))]));_4L=_3T.elements;_4M=ba.elemRows(_3T,0,_4L);_4N=z.mapFold(_3V,false,_4M);_4I=h.Table(f.ofArray([h._Style(f.ofArray([h._whiteSpace("nowrap")])),h.TabIndex("1"),h.THead(f.ofArray([(ba.addMoreFields(_3T,_3U,{$:0},false,$.New(g,{$:1,$0:"Code",$1:$.New(g,{$:1,$0:"Description",$1:$.New(g,{$:1,$0:"Order",$1:_4G.attributes})})}),function(_4K){return h.Th(_4K);}))(_4J)])),h.TBody(_4N[0])]));_4O=f.ofArray([h._Style(f.ofArray([h._margin("5px"),h._overflow("auto")]))]);_4P=((h.addAttributes())(_4O))(_4I);_4H=f.ofArray([(h.OnKeyDown(function(_4Q){return ba.handleKey(_3T,_3U,_4Q);}))(_4P)]);_4S=_4G.description;_4R=f.ofArray([h.Span(f.ofArray([{$:1,$0:_4G.name},h._Style(f.ofArray([h._margin("5px"),h.newAttr("fontSize","24px")]))])),h.Span(f.ofArray([{$:1,$0:" "+S.defaultV("",_4S)}]))]);_4T=$.New(g,{$:0});_4U=be.BasicContainer(_4R,_4T,_4H);_4F=((h.addAttribute())(h._Style(f.ofArray([h._flexFlow("column")]))))(_4U);}else{_4F=h.Div($.New(g,{$:0}));}return _4F;}},DimensionForm:{dimensionForm_:function(_4V,_4W,_4X){return d.withContainerDo("flex flexgrow",function(_4Y){var _4Z;_4Z=m.call();return _4Z.Delay(function(){return _4Z.Bind(r.Async("CIPHERPrototype2:17",[]),function(_41){var _42,_43;_42=_4Y.Dom;_43=bf.init(_4W,_4X);bf.runApp_(_41,_4V,_42,_43);return _4Z.Zero();});});});},init:function(_44,_45){return{form:N.init(_44),dialog:O.init(),popup:P.init(),showTable:true,showTree:true,showRelations:false,isGuestUser:_45,dimGridProcessorO:{$:0},relGridProcessorO:{$:0},treeViewProcessorO:{$:0},generalProcessorO:{$:0},relationsCallback:{$:0},itemsCallback:{$:0},saveDataCallback:{$:0}};},runApp_:function(_46,_47,_48,_49){var _4_,_4$,_5b,_5h,_5n,_5t,_6T,_6Y,_63,_7O,_8s,_8x,_8K,_8P,_8R,_8T,_8V,_8Y,bdL,bdM,bdN,bdO,bdP,bdT,bdU,bdV,bdZ,bd2,bd3,bd5,bd7,bd9,beb,bei,bel,beR,beS,beT,beU,beX;_4_=[{$:0}];_4$=function(_5a){return _4_[0].$==0?void(_4_[0]=_5a):null;};_5b=function(_5c){var _5d,_5f,_5g;_5d=function(_5e){return _5e(_5c);};_5f=_4_[0];_5g=B.map(_5d,_5f);return;};_5h=function(_5i){var _5j,_5k,_5l,_5m;_5j=[_5i,true];_5k=_5j[0];_5l=_5j[1];_5m={$:0,$0:_5k,$1:_5l};return _5b({$:0,$0:_5m});};_5n=function(_5o){var _5p,_5q,_5r,_5s;_5p=[_5o,false];_5q=_5p[0];_5r=_5p[1];_5s={$:0,$0:_5q,$1:_5r};return _5b({$:0,$0:_5s});};_5t=function(){var _5v;_5v=m.call();return _5v.Delay(function(){_5h("loading...");return _5v.Bind(r.Async("CIPHERPrototype2:22",[_46,_47]),function(_5x){var _5y,_5z,_5A,_5B,_5C,_5G,_5H,_58,_6n,_6z,_6A,_6B,_6C,_6L,_6M,_6N,_6O,_6P,_6Q,_6R,_6S;_5y=_5x[3];_5z=_5x[2];_5A=_5x[0];_5B=_5x[1];_5C=function(_5D){var _5E,_5F;_5D[0];_5D[1];_5E=_5D[2];_5D[3];_5F=_5D[4];_5D[5];return C.sortOrder(_5F,_5E);};_5G=A.sortBy(_5C,_5A);_5H=function(_5I){var _5J,_50,_53,_56,_57;_5J=function(_5K){var _5L,_5M,_5N,_5O,_5P,_5Q,_5R,_5V,_5W;_5L=_5K[0];_5M=_5K[1];_5N=_5K[2];_5O=_5K[3];_5P=_5K[4];_5Q=_5K[5];_5R=function(_5S){var _5T,_5U;_5T=_5S[0];_5U=_5S[1];_5S[2];_5S[3];return y.Equals(_5M,_5T)?y.Equals(_5I,_5U):false;};_5V=A.tryFind(_5R,_5y);_5W=function(_5X){var _5Y,_5Z;_5X[0];_5X[1];_5X[2];_5Y=_5X[3];_5Z=C.sortOrder(_5P,_5N);return[[_5M,_5N,_5O],C.sortOrder(_5Y,_5Z)];};return B.map(_5W,_5V);};_50=function(_51){var _52;_51[0];_52=_51[1];return _52;};_53=function(_54){var _55;_55=_54[0];_54[1];return _55;};_56=A.choose(_5J,_5G);_57=A.sortBy(_50,_56);return A.map(_53,_57);};_58=function(_59){var _5_;_5_=function(_5$){var _6a,_6b,_6c,_6d,_6e,_6f,_6g,_6h,_6i,_6j,_6k,_6l,_6m;_6a=_5$[0];_6b=_5$[1];_6c=_5$[2];_6d=_5H(_6a);if(_6c.$==1){_6g=_6c.$0;if(_6g!==_6b){_6i=_6c.$0;_6h=" - "+_6i;}else{_6h="";}_6f=_6h;}else{_6f="";}_6e=_6b+_6f;_6j=w(_6a);_6k=C.strToKey(_6b);_6l=!y.Equals(_6d,[]);_6m=_58(_6d);return{key:_6j,title:_6e,tag:_6k,detail:null,folder:_6l,children:_6m};};return A.map(_5_,_59);};_6n=function(_6o){var _6p,_6q,_6r,_6s,_6t,_6u,_6v,_6y;_6p=_6o[0];_6q=_6o[1];_6r=_6o[2];_6s=_6o[3];_6t=_6o[4];_6u=_6o[5];_6v=function(_6w){var _6x;_6x=_6w[0];_6w[1];_6w[2];_6w[3];return y.Equals(_6q,_6x);};_6y=z.exists(_6v,_5y);return _6y?{$:0}:{$:1,$0:[_6q,_6r,_6s]};};_6z=A.choose(_6n,_5G);_6A=_58(_6z);_6B={$:2,$0:_6A};_5b({$:9,$0:_6B});_6C=function(_6D){var _6E,_6F,_6G,_6H,_6I,_6J,_6K;_6E=_6D[0];_6F=_6D[1];_6G=_6D[2];_6H=_6D[3];_6I=_6D[4];_6J=_6D[5];_6K=[_6E,_6F,_6G,S.defaultV("",_6H),S.defaultV("",_6I)];return _6K.concat(_6J);};_6L=A.map(_6C,_5G);_6M={id:"#",name:"",width:30,selectable:true,resizable:false,sortable:false,focusable:true,cssClass:"slick-header-column"};_6N=[_6L,[_6M].concat(_5B),_5z];_6O=_6N[0];_6P=_6N[1];_6Q=_6N[2];_6R={$:0,$0:_6O,$1:_6P,$2:_6Q};_5b({$:7,$0:_6R});_6S={$:2,$0:false};_5b({$:0,$0:_6S});return _5v.Zero();});});};_6T=function(){return X.FromContinuations(function(_6V){var _6W,_6X;_6W=_6V[0];_6V[1];_6V[2];_5b({$:14,$0:_6W});_6X={$:3};return _5b({$:9,$0:_6X});});};_6Y=function(){return X.FromContinuations(function(_60){var _61,_62;_61=_60[0];_60[1];_60[2];_5b({$:16,$0:_61});_62={$:3};return _5b({$:7,$0:_62});});};_63=function(_64){var _65;_65=p.flow();return _65.Delay(function(){return _65.Bind(p.tryProtection(),function(){var _68,_7e,_7h,_7i,_7j,_7k,_7n,_7q,_7u,_7v,_7w,_7x;_68=function(_69){return function(_6_){var _6$,_7a,_7b,_7c,_7d;if(_6_.$==1){_7b=_6_.$1;_7a=_7b;}else{_7c=_6_.$1;_7a=_7c;}_6$=_7a;_7d=A.get(_6$,2);return[_69,C.strToKey(_7d)];};};_7e=function(_7f){var _7g;_7f[0];_7g=_7f[1];return _7g;};_7h=z.mapi(_68,_64);_7i=bb.groupBy(_7e,_7h);_7j=z.toArray(_7i);_7k=function(_7l){var _7m;_7m=_7l[0];_7l[1];return!_7m;};_7n=function(_7o){var _7p;_7o[0];_7p=_7o[1];return _7p;};_7q=function(_7r){var _7s,_7t;_7s=_7r[0];_7t=_7r[1];return{$:2,$0:_7s,$1:[_7t]};};_7u=z.filter(_7k,_7j);_7v=z.collect(_7n,_7u);_7w=z.map(_7q,_7v);_7x=z.toList(_7w);return _65.Combine(_65.ReturnFrom(_7x.$==0?p.succeed(null):{$:1,$0:_7x}),_65.Delay(function(){return _65.Bind(p.tryProtection(),function(){var _7A,_7D,_7G,_7K,_7L,_7M,_7N;_7A=function(_7B){var _7C;_7B[0];_7C=_7B[1];return z.length(_7C)>1;};_7D=function(_7E){var _7F;_7E[0];_7F=_7E[1];return _7F;};_7G=function(_7H){var _7I,_7J;_7I=_7H[0];_7J=_7H[1];return{$:3,$0:_7I,$1:[_7J]};};_7K=z.filter(_7A,_7j);_7L=z.collect(_7D,_7K);_7M=z.map(_7G,_7L);_7N=z.toList(_7M);return _65.ReturnFrom(_7N.$==0?p.succeed(null):{$:1,$0:_7N});});}));});});};_7O=function(){var _7Q,_7R;_7R=function(_7S){return function(_7T){var _7U,_7V,_7W,_7X,_7Y,_7Z,_70,_71,_72;if(_7S){_7V=function(_73){return _73.$==29?"ErrGuestUserNotActivated":_73.$==28?"ErrAleaError ("+n.prettyPrint(_73.$0)+", "+n.prettyPrint(_73.$1)+")":_73.$==27?"ErrNoRecordsProcessed":_73.$==26?"ErrUnsuportedDataStorage":_73.$==25?"ErrWebSharperCompiler "+n.prettyPrint(_73.$0):_73.$==24?"ErrFSharpCompiler "+n.prettyPrint(_73.$0):_73.$==23?"ErrFeatureNotImplemented "+n.prettyPrint(_73.$0):_73.$==22?"ErrRecordNotFound ("+n.prettyPrint(_73.$0)+", "+n.prettyPrint(_73.$1)+")":_73.$==21?"ErrRecordWasNotUpdated "+n.prettyPrint(_73.$0):_73.$==20?"ErrDockerIsNotPresent "+_7Z(_73.$0):_73.$==19?"ErrObjectNotFound "+_72(_73.$0):_73.$==18?"ErrNoProvisionedClientAvailable":_73.$==17?"ErrClientNotFound "+_71(_73.$0):_73.$==16?"ErrUserIsNotDefined "+n.prettyPrint(_73.$0):_73.$==15?"ErrUserIsNotAssociatedToClient "+_70(_73.$0):_73.$==14?"ErrDockerDataNotFound "+_7Z(_73.$0):_73.$==13?"ErrUniqueIdNotDefinedForReport "+_7W(_73.$0):_73.$==12?"ErrDockerDefinitionNotFound "+_7Z(_73.$0):_73.$==11?"ErrTableDefinitionNotFound "+_7X(_73.$0):_73.$==10?"ErrReportDefinitionNotFound "+_7W(_73.$0):_73.$==9?"ErrInvalidContentPageForClient "+n.prettyPrint(_73.$0):_73.$==8?"ErrInvalidToken "+n.prettyPrint(_73.$0):_73.$==7?"ErrLoginFailed "+n.prettyPrint(_73.$0):_73.$==6?"ErrUserIsNotLoggedIn":_73.$==5?"ErrValueIsNull ("+n.prettyPrint(_73.$0)+", "+n.prettyPrint(_73.$1)+")":_73.$==4?"ErrParameterMissing "+n.prettyPrint(_73.$0):_73.$==3?"ErrDuplicatedKeys ("+n.prettyPrint(_73.$0)+", "+n.printArray(function(_74){return n.prettyPrint(_74);},_73.$1)+")":_73.$==2?"ErrUndefinedKeys ("+n.prettyPrint(_73.$0)+", "+n.printArray(function(_75){return n.prettyPrint(_75);},_73.$1)+")":_73.$==1?"ErrExceptionThrown "+n.prettyPrint(_73.$0):"WarnNotification "+n.prettyPrint(_73.$0);};_7W=function(_76){return"Report "+n.prettyPrint(_76.$0);};_7X=function(_77){return _77.$==2?"ExternalTable ("+n.prettyPrint(_77.$0)+", "+n.prettyPrint(_77.$1)+")":_77.$==1?"SystemTable "+n.prettyPrint(_77.$0):"DimensionTable "+_7Y(_77.$0);};_7Y=function(_78){return"Dimension "+n.prettyPrint(_78.$0);};_7Z=function(_79){return _79.$==5?"DckDockSpawn":_79.$==4?"DckPhosphor":_79.$==3?"DckWCDocker":_79.$==2?"DckGoldenLayout":_79.$==1?"DckSingle":"DckEmpty";};_70=function(_7_){return"User "+n.prettyPrint(_7_.$0);};_71=function(_7$){return"Client "+n.prettyPrint(_7$.$0);};_72=function(_8a){return"OWorkspace "+n.prettyPrint(_8a.$0);};_7U=_5n(n.printList(function(_8b){return _7V(_8b);},_7T));}else{_7U=null;}return _7U;};};_7Q=m.callR(function(_8c){return p.messagesDo(_7R,_8c);});return _7Q.Delay(function(){_5h("Saving...");return _7Q.Bind(_6T(null),function(_8e){return _7Q.Bind(_6Y(null),function(_8f){var _8g,_8h,_8i,_8j,_8k,_8l;_8g=_8f[0];_8h=_8f[2];_8i=_8f[3];_8j=_8f[4];_8k=_8f[1];_8l=_8f[5];return _7Q.Bind1(_63(_8g),function(){return _7Q.Bind(r.Async("CIPHERPrototype2:23",[_46,_47,_8i,_8j,_8l,_8e]),function(_8n){var _8o,_8p,_8q,_8r;_8o=_8n[1][0];_8n[0];_8p=_8n[1][1];_8q={$:1,$0:_8p};_5b({$:7,$0:_8q});_8r={$:2,$0:false};_5b({$:0,$0:_8r});_5n(_8o);return _7Q.Zero();});});});});});};_8s=function(){return X.FromContinuations(function(_8u){var _8v,_8w;_8v=_8u[0];_8u[1];_8u[2];_5b({$:15,$0:_8v});_8w={$:1};return _5b({$:8,$0:_8w});});};_8x=function(){var _8z;_8z=m.call();return _8z.Delay(function(){_5h("Applying...");return _8z.Bind(_8s(null),function(_8B){var _8C,_8E,_8G,_8H,_8I,_8J;_8C=function(_8D){return _8D;};_8E=function(_8F){return[C.strToKey(_8F.child),C.strToKey(_8F.parent)];};_8G=A.map(_8C,_8B);_8H=A.map(_8E,_8G);_8I={$:0,$0:_8H};_5b({$:9,$0:_8I});_5n("");_8J={$:2,$0:true};_5b({$:0,$0:_8J});return _8z.Zero();});});};_8K=function(_8L,_8M){var _8N,_8O;if(A.length(_8M)<=_8L){_8N="";}else{_8O=A.get(_8M,_8L);_8N=!_8O?"":_8O;}return _8N;};_8P=function(_8Q){return"i:"+w(_8Q);};_8R=function(_8S){return C.strToKey(_8K(2,_8S));};_8T=function(_8U){return _8K(2,_8U)+" - "+_8K(3,_8U);};_8V=function(_8W,_8X){return[_8P(_8W),_8T(_8X),_8R(_8X)];};_8Y=function(_8Z){var _80,_81;_80=p.flow();_81=_80.Delay(function(){return _80.Bind(p.tryProtection(),function(){var _84,_85,_86,_87,_88,_89,_8_,_8$,_9a,_9b,_9c,_9d,_9e,_9f,_9g,_9h,_9i,_9j,_9k,_9l,_9m,_9n,_9o,_9p,_9q,_9r,_9s,_9t,_9u,_9v,_9w,_9x,_9y,_9z,_9A,_9B,_9C,_9D,_9E,_9F,_9G,_9H,_9I,_9J,_9K,_9M,_9N,_9O,_9P,_9Q,_9R,_9S,_9T,_9U,_9V,_9W,_9X,_9Y,_9Z,_90,_91,_92,_93,_94,_95,_96,_97,_98,_99,_9_,_9$,_a,_b,_c,_d,_e,_f,_g,_h,_i,_j,_k,_l,_m,_o,_p,_q,_r,_s,_t,_u,_v,_w,_x,_y,_z,_A,_B,_C,_D,_E,_F,_G,_H,_I,_J,_K,_L,_M,_N,_O,_P,_R,_S,_T,_U,_V,_W,_X,_Y,_Z,__,_$,$a,$b,$c,$d,$e,$f,$g,$h,$i,$j,$k,$l,$m,$n,$o,$p,$q,$s,$t,$u,$v,$w,$x,$y,$z,$A,$B,$C,$D,$E,$F,$G,$H,$I,$J,$K,$L,$M,$N,$O,$P,$Q,$R,$S,$T,$U,$V,$W,$X,$Y,$Z,$1,$2,$3,$4,$5,$6,$7,$8,$9,$_,baa,bab,bac,bad,bae,baf,bag,bah,bai,baj,bak,bal,bam,ban,bao,bap,baq,bar,bas,bat,bau,bav,baw,bax,bay,baz,baA,baB,baC,baE,baF,baG,baH,baI,baJ,baK,baL,baM,baN,baO,baP,baQ,baR,baS,baT,baU,baV,baW,baX,baY,baZ,ba0,ba1,ba2,ba3,ba4,ba5,ba7,ba8,ba9,ba_,ba$,bba,bbb,bbc,bbd,bbe,bbf,bbg,bbh,bbi,bbj,bbk,bbl,bbm,bbn,bbo,bbp,bbq,bbr,bbs,bbt,bbu,bbv,bbw,bby,bbz,bbA,bbB,bbC,bbD,bbE,bbF,bbG,bbH,bbI,bbJ,bbK,bbL,bbM,bbN,bbO,bbP,bbQ,bbR,bbS,bbT,bbU,bbV,bbW,bbX,bbY,bbZ,bb0,bb1,bb2,bb3,bb4,bb5,bb7,bb8,bb9,bb_,bb$,bca,bcb,bcc,bcd,bce,bcf,bcg,bch,bci,bcj,bck,bcl,bcm,bcn,bco,bcp,bcq,bcr,bcs,bct,bcu,bcv,bcw,bcx,bcy,bcz,bcA,bcB,bcC,bcD,bcE,bcF,bcG,bcH,bcJ,bcK,bcL,bcM,bcN,bcO,bcP,bcQ,bcR,bcS,bcT,bcU,bcV,bcW,bcX,bcY,bcZ,bc0,bc1,bc2,bc3,bc4,bc5,bc6,bc7,bc8,bc9,bc_,bda,bdb,bdc,bdd,bde,bdf,bdg,bdh,bdi,bdj,bdk,bdl,bdm,bdn,bdo,bdp,bdq,bdr,bds,bdt,bdu,bdv,bdw,bdx,bdy,bdz,bdA,bdB,bdD,bdE,bdF,bdG,bdH,bdI,bdJ,bdK;if(_8Z.$==1){if(_8Z.$0.$==3){_86=_8Z.$0.$0;if(E.StartsWith(_86.key,"i:")){_89=bg.string(_86.key,{$:1,$0:2},{$:0});_8_=bh(_89);_88={$:1,$0:_8_};}else{_8$=[_86.key];_88={$:0,$0:_8$};}_87=_88;_9a={$:4,$0:_87};_5b({$:7,$0:_9a});_85=_80.Zero();}else{_85=_80.Zero();}_84=_85;}else{if(_8Z.$0.$==2){_9c=_8Z.$0.$0;if(_9c.$==2){if(_9c.$0.$==0){_9f=_9c.$0.$0;if(A.length(_9f)===1){_9h=_9c.$0.$0;_9i=A.get(_9h,0);_9j={$:5,$0:_9i};_5b({$:9,$0:_9j});_9k={$:2,$0:true};_5b({$:0,$0:_9k});_9g=_80.Zero();}else{if(_9c.$==2){if(_9c.$0.$==1){_9n=_9c.$0.$0;_9o=_8P(_9n);_9p={$:5,$0:_9o};_5b({$:9,$0:_9p});_9q={$:2,$0:true};_5b({$:0,$0:_9q});_9m=_80.Zero();}else{if(_9c.$==1){if(_9c.$0.$==1){_9t=_9c.$0.$0;_9u=_9c.$0.$1;_9v=_8V(_9t,_9u);_9w=_9v[0];_9x=_9v[1];_9y=_9v[2];_9z={$:7,$0:_9w,$1:_9x,$2:_9y};_5b({$:9,$0:_9z});_9A={$:2,$0:true};_5b({$:0,$0:_9A});_9s=_80.Zero();}else{_9s=_80.Zero();}_9r=_9s;}else{if(_9c.$==0){_9B=_9c.$0;_9C=_9c.$1;_9D=_8V(_9B,_9C);_9E=_9D[0];_9F=_9D[1];_9G=_9D[2];_9H={$:6,$0:_9E,$1:_9F,$2:_9G};_5b({$:9,$0:_9H});_9I={$:2,$0:true};_5b({$:0,$0:_9I});_9r=_80.Zero();}else{if(_9c.$==4){_9J=_9c.$0;_9K=function(_9L){return[A.get(_9L,1),_8T(_9L),_8R(_9L)];};_9M=A.map(_9K,_9J);_9N={$:9,$0:_9M};_5b({$:9,$0:_9N});_9r=_80.Zero();}else{if(_9c.$==6){_9O=_9c.$0;if(_9O.$==1){_9R=_9O.$0;_9Q=_8P(_9R);}else{_9S=_9O.$0;_9Q=A.get(_9S,0);}_9P=_9Q;_9T={$:10,$0:_9P};_5b({$:9,$0:_9T});_9r=_80.Zero();}else{_9r=_80.Zero();}}}}_9m=_9r;}_9l=_9m;}else{if(_9c.$==1){if(_9c.$0.$==0){_9c.$0.$1;_9V=_9c.$0.$0;if(A.length(_9V)===1){_9X=_9c.$0.$0;_9Y=_9c.$0.$1;_9Z=[A.get(_9X,0),_8T(_9Y),_8R(_9Y)];_90=_9Z[0];_91=_9Z[1];_92=_9Z[2];_93={$:7,$0:_90,$1:_91,$2:_92};_5b({$:9,$0:_93});_94={$:2,$0:true};_5b({$:0,$0:_94});_9W=_80.Zero();}else{if(_9c.$==1){if(_9c.$0.$==1){_97=_9c.$0.$0;_98=_9c.$0.$1;_99=_8V(_97,_98);_9_=_99[0];_9$=_99[1];_a=_99[2];_b={$:7,$0:_9_,$1:_9$,$2:_a};_5b({$:9,$0:_b});_c={$:2,$0:true};_5b({$:0,$0:_c});_96=_80.Zero();}else{_96=_80.Zero();}_95=_96;}else{if(_9c.$==0){_d=_9c.$0;_e=_9c.$1;_f=_8V(_d,_e);_g=_f[0];_h=_f[1];_i=_f[2];_j={$:6,$0:_g,$1:_h,$2:_i};_5b({$:9,$0:_j});_k={$:2,$0:true};_5b({$:0,$0:_k});_95=_80.Zero();}else{if(_9c.$==4){_l=_9c.$0;_m=function(_n){return[A.get(_n,1),_8T(_n),_8R(_n)];};_o=A.map(_m,_l);_p={$:9,$0:_o};_5b({$:9,$0:_p});_95=_80.Zero();}else{if(_9c.$==6){_q=_9c.$0;if(_q.$==1){_t=_q.$0;_s=_8P(_t);}else{_u=_q.$0;_s=A.get(_u,0);}_r=_s;_v={$:10,$0:_r};_5b({$:9,$0:_v});_95=_80.Zero();}else{_95=_80.Zero();}}}}_9W=_95;}_9U=_9W;}else{if(_9c.$==1){if(_9c.$0.$==1){_y=_9c.$0.$0;_z=_9c.$0.$1;_A=_8V(_y,_z);_B=_A[0];_C=_A[1];_D=_A[2];_E={$:7,$0:_B,$1:_C,$2:_D};_5b({$:9,$0:_E});_F={$:2,$0:true};_5b({$:0,$0:_F});_x=_80.Zero();}else{_x=_80.Zero();}_w=_x;}else{if(_9c.$==0){_G=_9c.$0;_H=_9c.$1;_I=_8V(_G,_H);_J=_I[0];_K=_I[1];_L=_I[2];_M={$:6,$0:_J,$1:_K,$2:_L};_5b({$:9,$0:_M});_N={$:2,$0:true};_5b({$:0,$0:_N});_w=_80.Zero();}else{if(_9c.$==4){_O=_9c.$0;_P=function(_Q){return[A.get(_Q,1),_8T(_Q),_8R(_Q)];};_R=A.map(_P,_O);_S={$:9,$0:_R};_5b({$:9,$0:_S});_w=_80.Zero();}else{if(_9c.$==6){_T=_9c.$0;if(_T.$==1){_W=_T.$0;_V=_8P(_W);}else{_X=_T.$0;_V=A.get(_X,0);}_U=_V;_Y={$:10,$0:_U};_5b({$:9,$0:_Y});_w=_80.Zero();}else{_w=_80.Zero();}}}}_9U=_w;}_9l=_9U;}else{if(_9c.$==1){if(_9c.$0.$==1){_$=_9c.$0.$0;$a=_9c.$0.$1;$b=_8V(_$,$a);$c=$b[0];$d=$b[1];$e=$b[2];$f={$:7,$0:$c,$1:$d,$2:$e};_5b({$:9,$0:$f});$g={$:2,$0:true};_5b({$:0,$0:$g});__=_80.Zero();}else{__=_80.Zero();}_Z=__;}else{if(_9c.$==0){$h=_9c.$0;$i=_9c.$1;$j=_8V($h,$i);$k=$j[0];$l=$j[1];$m=$j[2];$n={$:6,$0:$k,$1:$l,$2:$m};_5b({$:9,$0:$n});$o={$:2,$0:true};_5b({$:0,$0:$o});_Z=_80.Zero();}else{if(_9c.$==4){$p=_9c.$0;$q=function($r){return[A.get($r,1),_8T($r),_8R($r)];};$s=A.map($q,$p);$t={$:9,$0:$s};_5b({$:9,$0:$t});_Z=_80.Zero();}else{if(_9c.$==6){$u=_9c.$0;if($u.$==1){$x=$u.$0;$w=_8P($x);}else{$y=$u.$0;$w=A.get($y,0);}$v=$w;$z={$:10,$0:$v};_5b({$:9,$0:$z});_Z=_80.Zero();}else{_Z=_80.Zero();}}}}_9l=_Z;}}_9g=_9l;}_9e=_9g;}else{if(_9c.$==2){if(_9c.$0.$==1){$C=_9c.$0.$0;$D=_8P($C);$E={$:5,$0:$D};_5b({$:9,$0:$E});$F={$:2,$0:true};_5b({$:0,$0:$F});$B=_80.Zero();}else{if(_9c.$==1){if(_9c.$0.$==1){$I=_9c.$0.$0;$J=_9c.$0.$1;$K=_8V($I,$J);$L=$K[0];$M=$K[1];$N=$K[2];$O={$:7,$0:$L,$1:$M,$2:$N};_5b({$:9,$0:$O});$P={$:2,$0:true};_5b({$:0,$0:$P});$H=_80.Zero();}else{$H=_80.Zero();}$G=$H;}else{if(_9c.$==0){$Q=_9c.$0;$R=_9c.$1;$S=_8V($Q,$R);$T=$S[0];$U=$S[1];$V=$S[2];$W={$:6,$0:$T,$1:$U,$2:$V};_5b({$:9,$0:$W});$X={$:2,$0:true};_5b({$:0,$0:$X});$G=_80.Zero();}else{if(_9c.$==4){$Y=_9c.$0;$Z=function($0){return[A.get($0,1),_8T($0),_8R($0)];};$1=A.map($Z,$Y);$2={$:9,$0:$1};_5b({$:9,$0:$2});$G=_80.Zero();}else{if(_9c.$==6){$3=_9c.$0;if($3.$==1){$6=$3.$0;$5=_8P($6);}else{$7=$3.$0;$5=A.get($7,0);}$4=$5;$8={$:10,$0:$4};_5b({$:9,$0:$8});$G=_80.Zero();}else{$G=_80.Zero();}}}}$B=$G;}$A=$B;}else{if(_9c.$==1){if(_9c.$0.$==0){_9c.$0.$1;$_=_9c.$0.$0;if(A.length($_)===1){bab=_9c.$0.$0;bac=_9c.$0.$1;bad=[A.get(bab,0),_8T(bac),_8R(bac)];bae=bad[0];baf=bad[1];bag=bad[2];bah={$:7,$0:bae,$1:baf,$2:bag};_5b({$:9,$0:bah});bai={$:2,$0:true};_5b({$:0,$0:bai});baa=_80.Zero();}else{if(_9c.$==1){if(_9c.$0.$==1){bal=_9c.$0.$0;bam=_9c.$0.$1;ban=_8V(bal,bam);bao=ban[0];bap=ban[1];baq=ban[2];bar={$:7,$0:bao,$1:bap,$2:baq};_5b({$:9,$0:bar});bas={$:2,$0:true};_5b({$:0,$0:bas});bak=_80.Zero();}else{bak=_80.Zero();}baj=bak;}else{if(_9c.$==0){bat=_9c.$0;bau=_9c.$1;bav=_8V(bat,bau);baw=bav[0];bax=bav[1];bay=bav[2];baz={$:6,$0:baw,$1:bax,$2:bay};_5b({$:9,$0:baz});baA={$:2,$0:true};_5b({$:0,$0:baA});baj=_80.Zero();}else{if(_9c.$==4){baB=_9c.$0;baC=function(baD){return[A.get(baD,1),_8T(baD),_8R(baD)];};baE=A.map(baC,baB);baF={$:9,$0:baE};_5b({$:9,$0:baF});baj=_80.Zero();}else{if(_9c.$==6){baG=_9c.$0;if(baG.$==1){baJ=baG.$0;baI=_8P(baJ);}else{baK=baG.$0;baI=A.get(baK,0);}baH=baI;baL={$:10,$0:baH};_5b({$:9,$0:baL});baj=_80.Zero();}else{baj=_80.Zero();}}}}baa=baj;}$9=baa;}else{if(_9c.$==1){if(_9c.$0.$==1){baO=_9c.$0.$0;baP=_9c.$0.$1;baQ=_8V(baO,baP);baR=baQ[0];baS=baQ[1];baT=baQ[2];baU={$:7,$0:baR,$1:baS,$2:baT};_5b({$:9,$0:baU});baV={$:2,$0:true};_5b({$:0,$0:baV});baN=_80.Zero();}else{baN=_80.Zero();}baM=baN;}else{if(_9c.$==0){baW=_9c.$0;baX=_9c.$1;baY=_8V(baW,baX);baZ=baY[0];ba0=baY[1];ba1=baY[2];ba2={$:6,$0:baZ,$1:ba0,$2:ba1};_5b({$:9,$0:ba2});ba3={$:2,$0:true};_5b({$:0,$0:ba3});baM=_80.Zero();}else{if(_9c.$==4){ba4=_9c.$0;ba5=function(ba6){return[A.get(ba6,1),_8T(ba6),_8R(ba6)];};ba7=A.map(ba5,ba4);ba8={$:9,$0:ba7};_5b({$:9,$0:ba8});baM=_80.Zero();}else{if(_9c.$==6){ba9=_9c.$0;if(ba9.$==1){bba=ba9.$0;ba$=_8P(bba);}else{bbb=ba9.$0;ba$=A.get(bbb,0);}ba_=ba$;bbc={$:10,$0:ba_};_5b({$:9,$0:bbc});baM=_80.Zero();}else{baM=_80.Zero();}}}}$9=baM;}$A=$9;}else{if(_9c.$==1){if(_9c.$0.$==1){bbf=_9c.$0.$0;bbg=_9c.$0.$1;bbh=_8V(bbf,bbg);bbi=bbh[0];bbj=bbh[1];bbk=bbh[2];bbl={$:7,$0:bbi,$1:bbj,$2:bbk};_5b({$:9,$0:bbl});bbm={$:2,$0:true};_5b({$:0,$0:bbm});bbe=_80.Zero();}else{bbe=_80.Zero();}bbd=bbe;}else{if(_9c.$==0){bbn=_9c.$0;bbo=_9c.$1;bbp=_8V(bbn,bbo);bbq=bbp[0];bbr=bbp[1];bbs=bbp[2];bbt={$:6,$0:bbq,$1:bbr,$2:bbs};_5b({$:9,$0:bbt});bbu={$:2,$0:true};_5b({$:0,$0:bbu});bbd=_80.Zero();}else{if(_9c.$==4){bbv=_9c.$0;bbw=function(bbx){return[A.get(bbx,1),_8T(bbx),_8R(bbx)];};bby=A.map(bbw,bbv);bbz={$:9,$0:bby};_5b({$:9,$0:bbz});bbd=_80.Zero();}else{if(_9c.$==6){bbA=_9c.$0;if(bbA.$==1){bbD=bbA.$0;bbC=_8P(bbD);}else{bbE=bbA.$0;bbC=A.get(bbE,0);}bbB=bbC;bbF={$:10,$0:bbB};_5b({$:9,$0:bbF});bbd=_80.Zero();}else{bbd=_80.Zero();}}}}$A=bbd;}}_9e=$A;}_9d=_9e;}else{if(_9c.$==2){if(_9c.$0.$==1){bbI=_9c.$0.$0;bbJ=_8P(bbI);bbK={$:5,$0:bbJ};_5b({$:9,$0:bbK});bbL={$:2,$0:true};_5b({$:0,$0:bbL});bbH=_80.Zero();}else{if(_9c.$==1){if(_9c.$0.$==1){bbO=_9c.$0.$0;bbP=_9c.$0.$1;bbQ=_8V(bbO,bbP);bbR=bbQ[0];bbS=bbQ[1];bbT=bbQ[2];bbU={$:7,$0:bbR,$1:bbS,$2:bbT};_5b({$:9,$0:bbU});bbV={$:2,$0:true};_5b({$:0,$0:bbV});bbN=_80.Zero();}else{bbN=_80.Zero();}bbM=bbN;}else{if(_9c.$==0){bbW=_9c.$0;bbX=_9c.$1;bbY=_8V(bbW,bbX);bbZ=bbY[0];bb0=bbY[1];bb1=bbY[2];bb2={$:6,$0:bbZ,$1:bb0,$2:bb1};_5b({$:9,$0:bb2});bb3={$:2,$0:true};_5b({$:0,$0:bb3});bbM=_80.Zero();}else{if(_9c.$==4){bb4=_9c.$0;bb5=function(bb6){return[A.get(bb6,1),_8T(bb6),_8R(bb6)];};bb7=A.map(bb5,bb4);bb8={$:9,$0:bb7};_5b({$:9,$0:bb8});bbM=_80.Zero();}else{if(_9c.$==6){bb9=_9c.$0;if(bb9.$==1){bca=bb9.$0;bb$=_8P(bca);}else{bcb=bb9.$0;bb$=A.get(bcb,0);}bb_=bb$;bcc={$:10,$0:bb_};_5b({$:9,$0:bcc});bbM=_80.Zero();}else{bbM=_80.Zero();}}}}bbH=bbM;}bbG=bbH;}else{if(_9c.$==1){if(_9c.$0.$==0){_9c.$0.$1;bce=_9c.$0.$0;if(A.length(bce)===1){bcg=_9c.$0.$0;bch=_9c.$0.$1;bci=[A.get(bcg,0),_8T(bch),_8R(bch)];bcj=bci[0];bck=bci[1];bcl=bci[2];bcm={$:7,$0:bcj,$1:bck,$2:bcl};_5b({$:9,$0:bcm});bcn={$:2,$0:true};_5b({$:0,$0:bcn});bcf=_80.Zero();}else{if(_9c.$==1){if(_9c.$0.$==1){bcq=_9c.$0.$0;bcr=_9c.$0.$1;bcs=_8V(bcq,bcr);bct=bcs[0];bcu=bcs[1];bcv=bcs[2];bcw={$:7,$0:bct,$1:bcu,$2:bcv};_5b({$:9,$0:bcw});bcx={$:2,$0:true};_5b({$:0,$0:bcx});bcp=_80.Zero();}else{bcp=_80.Zero();}bco=bcp;}else{if(_9c.$==0){bcy=_9c.$0;bcz=_9c.$1;bcA=_8V(bcy,bcz);bcB=bcA[0];bcC=bcA[1];bcD=bcA[2];bcE={$:6,$0:bcB,$1:bcC,$2:bcD};_5b({$:9,$0:bcE});bcF={$:2,$0:true};_5b({$:0,$0:bcF});bco=_80.Zero();}else{if(_9c.$==4){bcG=_9c.$0;bcH=function(bcI){return[A.get(bcI,1),_8T(bcI),_8R(bcI)];};bcJ=A.map(bcH,bcG);bcK={$:9,$0:bcJ};_5b({$:9,$0:bcK});bco=_80.Zero();}else{if(_9c.$==6){bcL=_9c.$0;if(bcL.$==1){bcO=bcL.$0;bcN=_8P(bcO);}else{bcP=bcL.$0;bcN=A.get(bcP,0);}bcM=bcN;bcQ={$:10,$0:bcM};_5b({$:9,$0:bcQ});bco=_80.Zero();}else{bco=_80.Zero();}}}}bcf=bco;}bcd=bcf;}else{if(_9c.$==1){if(_9c.$0.$==1){bcT=_9c.$0.$0;bcU=_9c.$0.$1;bcV=_8V(bcT,bcU);bcW=bcV[0];bcX=bcV[1];bcY=bcV[2];bcZ={$:7,$0:bcW,$1:bcX,$2:bcY};_5b({$:9,$0:bcZ});bc0={$:2,$0:true};_5b({$:0,$0:bc0});bcS=_80.Zero();}else{bcS=_80.Zero();}bcR=bcS;}else{if(_9c.$==0){bc1=_9c.$0;bc2=_9c.$1;bc3=_8V(bc1,bc2);bc4=bc3[0];bc5=bc3[1];bc6=bc3[2];bc7={$:6,$0:bc4,$1:bc5,$2:bc6};_5b({$:9,$0:bc7});bc8={$:2,$0:true};_5b({$:0,$0:bc8});bcR=_80.Zero();}else{if(_9c.$==4){bc9=_9c.$0;bc_=function(bc$){return[A.get(bc$,1),_8T(bc$),_8R(bc$)];};bda=A.map(bc_,bc9);bdb={$:9,$0:bda};_5b({$:9,$0:bdb});bcR=_80.Zero();}else{if(_9c.$==6){bdc=_9c.$0;if(bdc.$==1){bdf=bdc.$0;bde=_8P(bdf);}else{bdg=bdc.$0;bde=A.get(bdg,0);}bdd=bde;bdh={$:10,$0:bdd};_5b({$:9,$0:bdh});bcR=_80.Zero();}else{bcR=_80.Zero();}}}}bcd=bcR;}bbG=bcd;}else{if(_9c.$==1){if(_9c.$0.$==1){bdk=_9c.$0.$0;bdl=_9c.$0.$1;bdm=_8V(bdk,bdl);bdn=bdm[0];bdo=bdm[1];bdp=bdm[2];bdq={$:7,$0:bdn,$1:bdo,$2:bdp};_5b({$:9,$0:bdq});bdr={$:2,$0:true};_5b({$:0,$0:bdr});bdj=_80.Zero();}else{bdj=_80.Zero();}bdi=bdj;}else{if(_9c.$==0){bds=_9c.$0;bdt=_9c.$1;bdu=_8V(bds,bdt);bdv=bdu[0];bdw=bdu[1];bdx=bdu[2];bdy={$:6,$0:bdv,$1:bdw,$2:bdx};_5b({$:9,$0:bdy});bdz={$:2,$0:true};_5b({$:0,$0:bdz});bdi=_80.Zero();}else{if(_9c.$==4){bdA=_9c.$0;bdB=function(bdC){return[A.get(bdC,1),_8T(bdC),_8R(bdC)];};bdD=A.map(bdB,bdA);bdE={$:9,$0:bdD};_5b({$:9,$0:bdE});bdi=_80.Zero();}else{if(_9c.$==6){bdF=_9c.$0;if(bdF.$==1){bdI=bdF.$0;bdH=_8P(bdI);}else{bdJ=bdF.$0;bdH=A.get(bdJ,0);}bdG=bdH;bdK={$:10,$0:bdG};_5b({$:9,$0:bdK});bdi=_80.Zero();}else{bdi=_80.Zero();}}}}bbG=bdi;}}_9d=bbG;}_9b=_9d;}else{_9b=_80.Zero();}_84=_9b;}return _84;});});return p.notifyMessages(_81);};bdL=function(){return _5b({$:13});};bdM=function(){return _5b({$:11});};bdN=function(){return _5b({$:12});};bdO=function(){var bdI;bdI={$:0};return _5b({$:8,$0:bdI});};bdP=function(){var bdQ,bdR,bdS;bdQ={$:2};_5b({$:7,$0:bdQ});bdR={$:8};_5b({$:9,$0:bdR});bdS={$:2,$0:true};return _5b({$:0,$0:bdS});};bdT=function(){return _5t(null);};bdU=function(){return _7O(null);};bdV=function(){var bdX,bdY;bdX={$:1};_5b({$:9,$0:bdX});bdY={$:2,$0:true};return _5b({$:0,$0:bdY});};bdZ=function(){var bdY;bdY=m.call();return bdY.Delay(function(){_5h("Updating the model...");return bdY.Bind(r.Async("CIPHERPrototype2:24",[_46,_47]),function(bd1){_5n(bd1);return bdY.Zero();});});};bd2=[{id:"#",name:"",width:30,selectable:false,resizable:false,sortable:false,focusable:false,cssClass:"slick-header-column"},{id:"child",name:"child",field:"child",editor:Q.Editors.Text},{id:"parent",name:"parent",field:"parent",editor:Q.Editors.Text}];bd3=function(bd4){return _5b({$:3,$0:bd4});};bd5=function(bd6){return _5b({$:4,$0:bd6});};bd7=function(bd8){return _5b({$:5,$0:bd8});};bd9=c.reactContainerClass("flex flexgrow",function(){return function(bd$){var bea;bea=bi.New({$:1,$0:bd3});return bea.createGrid(bea,bd$);};});beb=c.reactContainerClass("flex flexgrow",function(){return function(bed){var bee,beh;bee=function(bef){return function(beg){return[beg,bef];};};beh=x.SimpleGrid(bd2,[],bee,{$:1,$0:bd5},bed);return p.notifyMessages(beh);};});bei=c.reactContainerClass("flex flexgrow",function(){return function(bek){return bj.createFancyTree(bek,{$:0},[],{$:1,$0:bd7});};});bel=function(bem){return function(ben){var beo,bep,bev,bew,bex,bey,bez,beB,beD,beE,beG,beH,beI,beJ,beK,beL,beM,beN,beO,beP;_4$({$:1,$0:ben});beo=bem.form.processing?true:bem.isGuestUser;bep=f.ofArray([["Update model","btn btn-default",beo?function(beq){return beq;}:bdZ],["flatten hierarchy","btn btn-default",beo?function(beq){return beq;}:bdV],["save","btn btn-default",beo?function(ber){return ber;}:bdU],["remove all","btn btn-default",beo?function(bes){return bes;}:bdP],["reload","btn btn-default",beo?function(bet){return bet;}:bdT],["TABLE","btn btn-"+(bem.showTable?"info":"default"),bdM],["TREE","btn btn-"+(bem.showTree?"info":"default"),bdN],["import hierarchy","btn btn-"+(bem.showRelations?"info":"default"),beo?function(beu){return beu;}:bdL]]);bew=$.New(g,{$:0});bex=$.New(g,{$:0});bey=bem.dialog;bez=function(beA){return ben({$:1,$0:beA});};beB=f.ofArray([["-",function(beC){return beC;}]]);beD=bem.popup;beE=function(beF){return ben({$:2,$0:beF});};beG="flex flexgrow"+(bem.showTable?"":" hidden");beH=_3.parse("{\"flex\": \"1\"}");beI="flex flexgrow"+(bem.showTree?"":" hidden");beJ=_3.parse("{\"flex\": \"1\"}");beK="panel panel-info flex flexgrow"+(bem.showRelations?"":" hidden");beL=_3.parse("{\"flex\": \"1\"}");beM=h.Button(f.ofArray([h.Class("btn btn-default"),h.Disabled(bem.form.processing),{$:1,$0:"clear"}]));beN=h.Button(f.ofArray([h.Class("btn btn-default"),h.Disabled(bem.form.processing),{$:1,$0:"apply"}]));bev=f.ofArray([O.view("title",bew,bex,bey,bez),P.view(beB,beD,beE),h.Div(f.ofArray([h.Class("flex-row flexgrow"),h.Div(f.ofArray([h.Class(beG),h.Style(beH),{$:5,$0:bd9}])),h.Div(f.ofArray([h.Class(beI),h.Style(beJ),{$:5,$0:bei}])),h.Div(f.ofArray([h.Class(beK),h.Style(beL),h.Div(f.ofArray([h.Class("panel-heading"),h.Label(f.ofArray([h.Class("panel-title text-center"),{$:1,$0:"Paste relations here (ctrl-v):   "},h.Div(f.ofArray([h.Class("btn-group pull-right"),(h.OnClick(bdO))(beM),(h.OnClick(_8x))(beN)]))]))])),{$:5,$0:beb}]))]))]);beO=bem.form;beP=function(beQ){return ben({$:0,$0:beQ});};return N.view(bep,bev,beO,beP);};};beR={$:0,$0:_8Y};beS={$:6,$0:beR};beT=bf.update(beS,_49);beU=function(beV){return function(beW){return bf.update(beV,beW);};};beX=U.app(beT,beU,bel);U.run(_48,beX);return _5t(null);},update:function(beY,beZ){var be0,be1,bf7,bf8,bf9,bf_,bf$,bga,bgb,bgd,bge,bgf,bgh,bgi,bgj,bgl,bgm,bgn,bgp,bgq,bgr,bgs,bgt,bgu,bgv,bgw,bgx,bgy,bgz,bgA,bgB,bgC,bgE,bgF,bgG,bgH,bgI,bgJ,bgK,bgL,bgM,bgN,bgO,bgP,bgR,bgS,bgT,bgU,bgV,bgW,bgX,bgY,bgZ,bg0,bg2,bg3,bg4,bg5,bg6,bg7,bg8,bg9,bg_,bg$,bha,bhb,bhc,bhd,bhe,bhf,bhg,bhh,bhi,bhj;if(beZ.form.debug){be1=function(be2){var be3,be4,be5,be6,be7,be8,be9,be_,be$,bfa,bfb,bfc,bfd,bfe,bff,bfg,bfh;be4=function(bfi){return bfi.$==16?"WhenReceiveDimGridData "+n.prettyPrint(bfi.$0):bfi.$==15?"WhenReceiveItems "+n.prettyPrint(bfi.$0):bfi.$==14?"WhenReceiveRelations "+n.prettyPrint(bfi.$0):bfi.$==13?"ToggleRelations":bfi.$==12?"ToggleTree":bfi.$==11?"ToggleTable":bfi.$==10?"ToGeneral "+bfh(bfi.$0):bfi.$==9?"ToTreeView "+bff(bfi.$0):bfi.$==8?"ToRelGrid "+bfe(bfi.$0):bfi.$==7?"ToDimGrid "+bfd(bfi.$0):bfi.$==6?"FromGeneral "+bfc(bfi.$0):bfi.$==5?"FromTreeView "+bfb(bfi.$0):bfi.$==4?"FromRelGrid "+bfa(bfi.$0):bfi.$==3?"FromDimGrid "+be8(bfi.$0):bfi.$==2?"ToPopupMsg "+be7(bfi.$0):bfi.$==1?"ToDialogMsg "+be6(bfi.$0):"ToFormMsg "+be5(bfi.$0);};be5=function(bfj){return bfj.$==3?"SetDebug "+n.prettyPrint(bfj.$0):bfj.$==2?"SetModified "+n.prettyPrint(bfj.$0):bfj.$==1?"AddValidation ("+n.prettyPrint(bfj.$0)+", "+n.prettyPrint(bfj.$1)+")":"ShowInfo ("+n.prettyPrint(bfj.$0)+", "+n.prettyPrint(bfj.$1)+")";};be6=function(bfk){return"ShowDialog "+n.prettyPrint(bfk.$0);};be7=function(bfl){return bfl.$==2?"HidePopUp":bfl.$==1?"AdjustBase ("+n.prettyPrint(bfl.$0)+", "+n.prettyPrint(bfl.$1)+")":"ShowPopUp ("+n.prettyPrint(bfl.$0)+", "+n.prettyPrint(bfl.$1)+")";};be8=function(bfm){return bfm.$==3?"SaveData ("+n.printArray(function(bfn){return be_(bfn);},bfm.$0)+", "+n.printArray(function(bfo){return n.prettyPrint(bfo);},bfm.$1)+", "+n.printArray(function(bfp){return n.prettyPrint(bfp);},bfm.$2)+", "+n.printArray(function(bfq){return n.printArray(function(bfr){return n.prettyPrint(bfr);},bfq);},bfm.$3)+", "+n.printArray(function(bfs){return n.printArray(function(bft){return n.prettyPrint(bft);},bfs);},bfm.$4)+", "+n.printArray(function(bfu){return n.printArray(function(bfv){return n.prettyPrint(bfv);},bfu);},bfm.$5)+")":bfm.$==2?"SlickChange "+be9(bfm.$0):bfm.$==1?"MessageProcessor "+n.prettyPrint(bfm.$0):"ShowInfo ("+n.prettyPrint(bfm.$0)+", "+n.prettyPrint(bfm.$1)+")";};be9=function(bfw){return bfw.$==6?"RowSelected "+be_(bfw.$0):bfw.$==5?"DataRead ("+n.printArray(function(bfx){return n.printArray(function(bfy){return n.prettyPrint(bfy);},bfx);},bfw.$0)+", "+n.printArray(function(bfz){return n.prettyPrint(bfz);},bfw.$1)+", "+n.printArray(function(bfA){return n.prettyPrint(bfA);},bfw.$2)+")":bfw.$==4?"DataSaved "+n.printArray(function(bfB){return n.printArray(function(bfC){return n.prettyPrint(bfC);},bfB);},bfw.$0):bfw.$==3?"DeleteRows "+n.printArray(function(bfD){return n.prettyPrint(bfD);},bfw.$0):bfw.$==2?"DeleteRow "+be$(bfw.$0):bfw.$==1?"ChangeRow "+be_(bfw.$0):"AddRow ("+n.prettyPrint(bfw.$0)+", "+n.printArray(function(bfE){return n.prettyPrint(bfE);},bfw.$1)+")";};be_=function(bfF){return bfF.$==1?"NewRow ("+n.prettyPrint(bfF.$0)+", "+n.printArray(function(bfG){return n.prettyPrint(bfG);},bfF.$1)+")":"ExistingRow ("+n.printArray(function(bfH){return n.prettyPrint(bfH);},bfF.$0)+", "+n.printArray(function(bfI){return n.prettyPrint(bfI);},bfF.$1)+", "+n.prettyPrint(bfF.$2)+")";};be$=function(bfJ){return bfJ.$==1?"NewKey "+n.prettyPrint(bfJ.$0):"ExistingKey "+n.printArray(function(bfK){return n.prettyPrint(bfK);},bfJ.$0);};bfa=function(bfL){return bfL.$==3?"Columns "+n.printArray(function(bfM){return n.prettyPrint(bfM);},bfL.$0):bfL.$==2?"Items "+n.printArray(function(bfN){return n.prettyPrint(bfN);},bfL.$0):bfL.$==1?"MessageProcessor "+n.prettyPrint(bfL.$0):"ShowInfo ("+n.prettyPrint(bfL.$0)+", "+n.prettyPrint(bfL.$1)+")";};bfb=function(bfO){return bfO.$==3?"NodeSelected "+n.prettyPrint(bfO.$0):bfO.$==2?"Relations "+n.printArray(function(bfP){return"("+n.prettyPrint(bfP[0])+", "+n.prettyPrint(bfP[1])+")";},bfO.$0):bfO.$==1?"MessageProcessor "+n.prettyPrint(bfO.$0):"ShowInfo ("+n.prettyPrint(bfO.$0)+", "+n.prettyPrint(bfO.$1)+")";};bfc=function(bfQ){return"MessageProcessor "+n.prettyPrint(bfQ.$0);};bfd=function(bfR){return bfR.$==4?"SelectRow "+be$(bfR.$0):bfR.$==3?"SendData":bfR.$==2?"Clear":bfR.$==1?"Saved "+n.printArray(function(bfS){return n.printArray(function(bfT){return n.prettyPrint(bfT);},bfS);},bfR.$0):"Load ("+n.printArray(function(bfU){return n.printArray(function(bfV){return n.prettyPrint(bfV);},bfU);},bfR.$0)+", "+n.printArray(function(bfW){return n.prettyPrint(bfW);},bfR.$1)+", "+n.printArray(function(bfX){return n.prettyPrint(bfX);},bfR.$2)+")";};bfe=function(bfY){return bfY.$==3?"SetItems "+n.printArray(function(bfZ){return n.prettyPrint(bfZ);},bfY.$0):bfY.$==2?"SendColumns":bfY.$==1?"SendItems":"Clear";};bff=function(bf0){return bf0.$==10?"SelectNode "+n.prettyPrint(bf0.$0):bf0.$==9?"Saved "+n.printArray(function(bf1){return"("+n.prettyPrint(bf1[0])+", "+n.prettyPrint(bf1[1])+", "+n.prettyPrint(bf1[2])+")";},bf0.$0):bf0.$==8?"DataClear":bf0.$==7?"SetTitle ("+n.prettyPrint(bf0.$0)+", "+n.prettyPrint(bf0.$1)+", "+n.prettyPrint(bf0.$2)+")":bf0.$==6?"AddNode ("+n.prettyPrint(bf0.$0)+", "+n.prettyPrint(bf0.$1)+", "+n.prettyPrint(bf0.$2)+")":bf0.$==5?"DeleteNode "+n.prettyPrint(bf0.$0):bf0.$==4?"SendSelected":bf0.$==3?"SendRelations":bf0.$==2?"LoadNodes "+n.printArray(function(bf2){return bfg(bf2);},bf0.$0):bf0.$==1?"FlattenHierarchy":"ApplyRelations "+n.printArray(function(bf3){return"("+n.prettyPrint(bf3[0])+", "+n.prettyPrint(bf3[1])+")";},bf0.$0);};bfg=function(bf4){return"{"+("key = "+n.prettyPrint(bf4.key))+"; "+("title = "+n.prettyPrint(bf4.title))+"; "+("tag = "+n.prettyPrint(bf4.tag))+"; "+("detail = "+n.prettyPrint(bf4.detail))+"; "+("folder = "+n.prettyPrint(bf4.folder))+"; "+("children = "+n.printArray(function(bf5){return bfg(bf5);},bf4.children))+"}";};bfh=function(bf6){return bf6.$==1?"TreeOut "+bfb(bf6.$0):"SlickOut "+be8(bf6.$0);};be3=be4(be2);return V?V.log(be3):undefined;};be0=be1(beY);}else{be0=null;}if(beY.$==2){bf8=beY.$0;bf9=P.update(bf8,beZ.popup);bf7={form:beZ.form,dialog:beZ.dialog,popup:bf9,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==1){bf_=beY.$0;bf$=O.update(bf_,beZ.dialog);bf7={form:beZ.form,dialog:bf$,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==7){bga=beY.$0;bgb=function(bgc){return bgc(bga);};bgd=beZ.dimGridProcessorO;B.iter(bgb,bgd);bf7=beZ;}else{if(beY.$==8){bge=beY.$0;bgf=function(bgg){return bgg(bge);};bgh=beZ.relGridProcessorO;B.iter(bgf,bgh);bf7=beZ;}else{if(beY.$==9){bgi=beY.$0;bgj=function(bgk){return bgk(bgi);};bgl=beZ.treeViewProcessorO;B.iter(bgj,bgl);bf7=beZ;}else{if(beY.$==10){bgm=beY.$0;bgn=function(bgo){return bgo(bgm);};bgp=beZ.generalProcessorO;B.iter(bgn,bgp);bf7=beZ;}else{if(beY.$==3){bgq=beY.$0;if(bgq.$==1){bgs=bgq.$0;bgt={$:1,$0:bgs};bgr={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:bgt,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(bgq.$==2){bgu={$:0,$0:bgq};bgv={$:10,$0:bgu};bgr=bf.update(bgv,beZ);}else{if(bgq.$==3){bgw=bgq.$0;bgx=bgq.$2;bgy=bgq.$3;bgz=bgq.$4;bgA=bgq.$1;bgB=bgq.$5;bgC=function(bgD){return bgD(p.succeed([bgw,bgA,bgx,bgy,bgz,bgB]));};bgE=beZ.saveDataCallback;B.iter(bgC,bgE);bgF={$:0};bgr={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:bgF};}else{bgG=bgq.$1;bgH=bgq.$0;bgI={$:0,$0:bgH,$1:bgG};bgJ={$:0,$0:bgI};bgr=bf.update(bgJ,beZ);}}}bf7=bgr;}else{if(beY.$==4){bgK=beY.$0;if(bgK.$==1){bgM=bgK.$0;bgN={$:1,$0:bgM};bgL={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:bgN,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(bgK.$==2){bgO=bgK.$0;bgP=function(bgQ){return bgQ(p.succeed(bgO));};bgR=beZ.itemsCallback;B.iter(bgP,bgR);bgS={$:0};bgL={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:bgS,saveDataCallback:beZ.saveDataCallback};}else{if(bgK.$==3){bgL=beZ;}else{bgT=bgK.$1;bgU=bgK.$0;bgV={$:0,$0:bgU,$1:bgT};bgW={$:0,$0:bgV};bgL=bf.update(bgW,beZ);}}}bf7=bgL;}else{if(beY.$==5){bgX=beY.$0;if(bgX.$==2){bgZ=bgX.$0;bg0=function(bg1){return bg1(p.succeed(bgZ));};bg2=beZ.relationsCallback;B.iter(bg0,bg2);bg3={$:0};bgY={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:bg3,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(bgX.$==1){bg4=bgX.$0;bg5={$:1,$0:bg4};bgY={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:bg5,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(bgX.$==3){bg6={$:1,$0:bgX};bg7={$:10,$0:bg6};bgY=bf.update(bg7,beZ);}else{bg8=bgX.$1;bg9=bgX.$0;bg_={$:0,$0:bg9,$1:bg8};bg$={$:0,$0:bg_};bgY=bf.update(bg$,beZ);}}}bf7=bgY;}else{if(beY.$==6){bha=beY.$0;bhb=bha.$0;bhc={$:1,$0:bhb};bf7={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:bhc,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==11){bf7=beZ.showTable?{form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:false,showTree:true,showRelations:false,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback}:{form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:true,showTree:beZ.showTree,showRelations:false,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==12){bf7=beZ.showTree?{form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:true,showTree:false,showRelations:false,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback}:{form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:true,showRelations:false,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==13){bf7=beZ.showRelations?{form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:true,showRelations:false,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback}:{form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:false,showTree:true,showRelations:true,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==14){bhd=beY.$0;bhe={$:1,$0:bhd};bf7={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:bhe,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==15){bhf=beY.$0;bhg={$:1,$0:bhf};bf7={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:bhg,saveDataCallback:beZ.saveDataCallback};}else{if(beY.$==16){bhh=beY.$0;bhi={$:1,$0:bhh};bf7={form:beZ.form,dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:bhi};}else{bhj=beY.$0;bf7={form:N.update(bhj,beZ.form),dialog:beZ.dialog,popup:beZ.popup,showTable:beZ.showTable,showTree:beZ.showTree,showRelations:beZ.showRelations,isGuestUser:beZ.isGuestUser,dimGridProcessorO:beZ.dimGridProcessorO,relGridProcessorO:beZ.relGridProcessorO,treeViewProcessorO:beZ.treeViewProcessorO,generalProcessorO:beZ.generalProcessorO,relationsCallback:beZ.relationsCallback,itemsCallback:beZ.itemsCallback,saveDataCallback:beZ.saveDataCallback};}}}}}}}}}}}}}}}}return bf7;}},FancyTree:{createFancyTree:function(bhk,bhl,bhm,bhn){var bho,bhs,bht,bhw,bhx,bhy,bhD,bhE,bhF,bhG,bhH,bhI,bhJ,bi2,bi3;bho=function(bhp){var bhq;bhq=function(bhr){return bhr(bhp);};return B.iter(bhq,bhn);};bhs={map:{doc:"fa fa-file-o",docOpen:"fa fa-file-o",checkbox:"fa fa-square-o",checkboxSelected:"fa fa-check-square-o",checkboxUnknown:"fa fa-square",dragHelper:"fa fa-arrow-right",dropMarker:"fa fa-long-arrow-right",error:"fa fa-warning",expanderClosed:"fa fa-caret-right",expanderLazy:"fa fa-angle-right",expanderOpen:"fa fa-caret-down",folder:"fa fa-folder-o",folderOpen:"fa fa-folder-open-o",loading:"fa fa-spinner fa-pulse"}};bht={focusOnClick:true,dragStart:function(){return true;},dragEnter:function(){return true;},dragDrop:function(bhu,bhv){bhv.otherNode.moveTo(bhu,bhv.hitMode);(bhu.hasChildren()?!bhu.isFolder():false)?void(bhu.folder=true):null;return bhu.setExpanded();}};bhw={};bhx=[true];bhy={extensions:["glyph","clones","dnd"],clones:{highlightClones:true},glyph:bhs,source:bhm,checkbox:false,dnd:bht,table:bhw,dblclick:function(bhz,bhA){var bhB,bhC;if(bhx[0]){bhC=bhA.node;bhB=bho({$:3,$0:bhC});}else{bhB=null;}return bhB;}};if(bhl.$==1){bhF=bhl.$0;bhG=_8.extend.apply(_8,[bhy,bhF]);bhE=bhG;}else{bhE=bhy;}bhD=bhE;bhH=bk(bhk).fancytree(bhD);bhI=bk(bhH).fancytree("getTree");bhJ=function(){return function(bhL){var bhM,bhU,bhY,bhZ,bh1,bh2,bic,bii,bij,bik,biq,bir,bis,bit,biu,biv,biw,biy,biz,biA,biB,biC,biD,biE,biF,biG,biH,biI,biJ,biY,biZ,bi0,bi1;bhM=function(bhN){var bhO;bhO=function(bhP){var bhQ,bhR,bhT;if(bhP.hasChildren()){bhR=function(bhS){return bhN(bhS)?{$:1,$0:bhS}:bhO(bhS);};bhT=bhP.children;bhQ=z.tryPick(bhR,bhT);}else{bhQ={$:0};}return bhQ;};return bhO(bhI.getRootNode());};bhU=function(bhV){var bhW;bhW=function(bhX){return{key:bhX.key,title:bhX.title,tag:bhX.tag,detail:bhX.detail,folder:bhX.folder,children:bhU(bhX.children)};};return A.map(bhW,bhV);};if(bhL.$==2){bhZ=bhL.$0;bhI.reload(bhZ);bhY=bhI.getRootNode().visit(function(bh0){bh0.setExpanded(true);});}else{if(bhL.$==0){bh1=bhL.$0;bh2=function(bh3){var bh4,bh5,bh6,bh8,bh_;bh4=bh3[0];bh5=bh3[1];bh6=bhM(function(bh7){return bh7.data.tag===bh5;});bh8=bhM(function(bh9){return bh9.data.tag===bh4;});bh_=function(bh$){var bia;bia=function(bib){return bh$.moveTo(bib,"child");};return B.iter(bia,bh6);};return B.iter(bh_,bh8);};bhY=A.iter(bh2,bh1);}else{if(bhL.$==1){bic=function(bid){var bie,bif,bih;bie=bid.children;bif=function(big){return $.New(g,{$:1,$0:{key:big.key,title:big.title,data:big.data,folder:false,children:[]},$1:big.hasChildren()?bic(big):$.New(g,{$:0})});};bih=z.collect(bif,bie);return z.toList(bih);};bii=bic(bhI.getRootNode());bij=z.toArray(bii);bhY=bhI.reload(bij);}else{if(bhL.$==3){bik=function(bil){var bim,bin,bip;if(bil.hasChildren()){bin=function(bio){return[[bio.data.tag,bil.data.tag]].concat(bik(bio));};bip=bil.children;bim=A.collect(bin,bip);}else{bim=[];}return bim;};biq=bhI.getRootNode().children;bir=A.collect(bik,biq);bhY=bho({$:2,$0:bir});}else{if(bhL.$==5){bis=bhL.$0;bit=bhI.getNodeByKey(bis);if(!(!bit)){if(bit.hasChildren()){biw=function(bix){return bix.moveTo(bit,"before");};biy=bit.children;biz=biy.slice();biv=A.iter(biw,biz);}else{biv=null;}biu=bit.remove();}else{biu=null;}bhY=biu;}else{if(bhL.$==8){bhY=bhI.clear();}else{if(bhL.$==7){biA=bhL.$1;biB=bhL.$0;biC=bhL.$2;biD=bhI.getNodeByKey(biB);biD.setTitle(biA);bhY=void(biD.data.tag=biC);}else{if(bhL.$==6){biE=bhL.$1;biF=bhL.$0;biG=bhL.$2;biH=bhI.getRootNode().addNode({key:biF,title:biE,folder:false,tag:biG});bhY=void biH;}else{if(bhL.$==9){biI=bhL.$0;biJ=function(biK){var biL,biM,biN,biO,biQ;biL=biK[0];biM=biK[1];biN=biK[2];biO=bhM(function(biP){return biP.data.tag===biN;});biQ=function(biR){var biS,biT,biU,biW,biX;biS=biR.parent.addNode({key:biL,title:biM,folder:biR.folder,tag:biN});if(biR.hasChildren()){biU=function(biV){return biV.moveTo(biS,"child");};biW=biR.children;biX=biW.slice();biT=A.iter(biU,biX);}else{biT=null;}return biR.remove();};return B.iter(biQ,biO);};bhY=A.iter(biJ,biI);}else{if(bhL.$==10){biY=bhL.$0;biZ=bhI.getNodeByKey(biY);if(!(!biZ)){bhx[0]=false;biZ.setActive(true,{noEvents:true,noFocus:true});biZ.makeVisible();bi0=void(bhx[0]=true);}else{bi0=null;}bhY=bi0;}else{bi1=bhI.getActiveNode();bhY=bho({$:3,$0:bi1});}}}}}}}}}}return bhY;};};bi2=C.processorAgent(null,bhJ);bi3=function(bi4){bi2.mailbox.AddLast(bi4);return bi2.resume();};bho({$:1,$0:bi3});return null;}},FancyTreeTestClient:{createFancyTree_:function(){var bi5,bi6,bi7,bi8,bi9,bi_,bi$,bja,bjb,bjc,bjd,bje;bi5=f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]);bi6=l.Tags().NewTag("div",bi5);bi7=f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]);bi8=l.Tags().NewTag("div",bi7);bi9=f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]);bi_=l.Tags().NewTag("div",bi9);bi$=f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]);bja=l.Tags().NewTag("div",bi$);bjd=f.ofArray([l.Tags().text("save changes")]);bje=f.ofArray([l.Tags().text("import parent child relations")]);bjc=f.ofArray([l.Tags().NewTag("button",bjd),l.Tags().NewTag("button",bje)]);bjb=f.ofArray([l.Tags().NewTag("div",bjc),u.add(bi6,f.ofArray([bi_,bja]))]);return u.add(l.Tags().NewTag("div",bjb),f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]));}},Fields:{getValidationsFor:function(bjf,bjg){var bjh,bjj;bjh=function(bji){return bji.headPathIs(bjf)?{$:1,$0:bji.reducePath()}:{$:0};};bjj=z.choose(bjh,bjg);return G.New(bjj);},inputWValidator:function(bjk,bjl,bjm,bjn,bjo,bjp,bjq){var bjr,bjs,bjt,bjv,bjC,bjD;bjr=R.getValidationsFor(bjk,bjo);bjs=z.length(bjr)===0?"":" alert-danger";bjt=function(bju){bjm(bju);return bjp({$:1,$0:bjk,$1:bjq(bju)});};bjv=function(bjw){var bjx,bjy;bjx=function(bjz){return bjz.$==1?"PathValidation ("+n.printList(function(bjA){return n.prettyPrint(bjA);},bjz.$0)+", "+bjy(bjz.$1)+")":"InputValidation "+bjy(bjz.$0);};bjy=function(bjB){return bjB.$==4?"VPatternNotMatch ("+n.prettyPrint(bjB.$0)+", "+n.prettyPrint(bjB.$1)+")":bjB.$==3?"VUnsupportedData "+n.prettyPrint(bjB.$0):bjB.$==2?"VCannotModify":bjB.$==1?"VNotLongerThan "+n.prettyPrint(bjB.$0):"VEmpty";};return bjx(bjw);};bjC=G.New1(H.OfSeq(z.map(bjv,bjr)));bjD="form-control"+bjs;return h.Div(f.ofArray([h.Class("form-group flex1"),h.Label(f.ofArray([h.Class("textInputLabel"),{$:1,$0:bjk}])),R.validationMsg(E.concat(", ",bjC)),(bjl(bjt))($.New(g,{$:1,$0:h.Class(bjD),$1:bjn}))]));},op_PlusPlus:function(bjE,bjF,bjG){return G.New1(H.OfSeq(z.append(bjE(bjG),bjF(bjG))));},selectWoValidator:function(bjH,bjI,bjJ,bjK,bjL){var bjM,bjQ,bjR;bjM=function(bjN){var bjO,bjP;bjO=bjN[0];bjP=bjN[1];return h.OptionA(f.ofArray([h.Key(bjO),h.Value(bjO),{$:1,$0:bjP}]));};bjQ=z.map(bjM,bjK);bjR=function(bjS){return function(bjT){var bjU,bjV,bjW;bjU=h.Select(f.ofArray([h.Value(S.defaultV("",bjI))]));bjV=((h.addAttributes())(bjT))(bjU);bjW=h.addChildren(bjQ,bjV);return(h.OnChange(function(bjX){return bjS(bjX.target.value);}))(bjW);};};return R.inputWValidator(bjH,function(bjY){return bjR(bjY);},bjJ,bjL,G.New($.New(g,{$:0})),function(){return null;},function(bj0){return R.validateNothing_(bj0);});},textNotEmpty:function(bj1,bj2,bj3,bj4,bj5,bj6){return R.textWValidator(bj1,bj2,bj3,bj4,bj5,bj6,function(bj7){return R.validateEmpty_(bj7);});},textWValidator:function(bj8,bj9,bj_,bj$,bka,bkb,bkc){var bkd;bkd=function(bke){return function(bkf){var bkg,bkh;bkg=h.Input(f.ofArray([h.Type("text"),h.Value(bj9)]));bkh=((h.addAttributes())(bkf))(bkg);return(h.OnChange(function(bki){return bke(bki.target.value);}))(bkh);};};return R.inputWValidator(bj8,function(bkj){return bkd(bkj);},bj_,bj$,bka,bkb,bkc);},textWoValidator:function(bkk,bkl,bkm,bkn){return R.textWValidator(bkk,bkl,bkm,bkn,G.New($.New(g,{$:0})),function(){return null;},function(bkp){return R.validateNothing_(bkp);});},validateEmail_:function(bkq){var bkr,bks,bkt,bku;bkr=new M("^(([^<>()[\\]\\\\.,;:\\s@\\\"]+(\\.[^<>()[\\]\\\\.,;:\\s@\\\"]+)*)|(\\\".+\\\"))@((\\[[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\.[0-9]{1,3}\\])|(([a-zA-Z\\-0-9]+\\.)+[a-zA-Z]{2,}))$");if(bkq===""?true:bkr.test(bkq)){bkt=$.New(g,{$:0});}else{bku={$:4,$0:"not a valid email",$1:bkq};bkt=f.ofArray([$.New(K,{$:0,$0:bku})]);}bks=bkt;return G.New(bks);},validateEmpty_:function(bkv){var bkw,bkx,bky;if(bkv!==""){bkx=$.New(g,{$:0});}else{bky={$:0};bkx=f.ofArray([$.New(K,{$:0,$0:bky})]);}bkw=bkx;return G.New(bkw);},validateNothing_:function(){return G.New($.New(g,{$:0}));},validationMsg:function(bkA){return bkA===""?{$:6}:h.Span(f.ofArray([h.Class("alert validation"),{$:1,$0:bkA}]));}},GenForm:{addValidationsFor:function(bkB,bkC,bkD){var bkE,bkJ,bkK,bkM;bkE=function(bkF){var bkG,bkH,bkI;if(bkF.$==1){if(bkF.$0.$==1){bkI=bkF.$0.$0;bkH=bkI!==bkB;}else{bkH=true;}bkG=bkH;}else{bkG=true;}return bkG;};bkJ=J.Filter(bkE,bkC);bkK=function(bkL){return bkL.addPath(bkB);};bkM=G.New1(H.OfSeq(z.map(bkK,bkD)));return G.New1(H.OfSeq(z.append(bkM,bkJ)));},getValidationsFor:function(bkN,bkO){var bkP,bkR;bkP=function(bkQ){return bkQ.headPathIs(bkN)?{$:1,$0:bkQ.reducePath()}:{$:0};};bkR=z.choose(bkP,bkO);return G.New(bkR);},init:function(bkS){return{title:bkS,processing:false,message:"",debug:false,modified:false,validations:G.New($.New(g,{$:0}))};},update:function(bkT,bkU){var bkV,bkW,bkX,bkY,bkZ,bk0,bk1,bk2,bk3;if(bkT.$==1){bkX=bkT.$1;bkY=bkT.$0;bkZ=N.addValidationsFor(bkY,bkU.validations,bkX);bkW={title:bkU.title,processing:bkU.processing,message:bkU.message,debug:bkU.debug,modified:bkU.modified,validations:bkZ};}else{if(bkT.$==2){bk0=bkT.$0;bkW={title:bkU.title,processing:bkU.processing,message:bkU.message,debug:bkU.debug,modified:bk0,validations:bkU.validations};}else{if(bkT.$==3){bk1=bkT.$0;bkW={title:bkU.title,processing:bkU.processing,message:bkU.message,debug:bk1,modified:bkU.modified,validations:bkU.validations};}else{bk2=bkT.$1;bk3=bkT.$0;bkW={title:bkU.title,processing:bk2,message:bk3,debug:bkU.debug,modified:bkU.modified,validations:bkU.validations};}}}bkV=bkW;s.onbeforeunload=bkV.modified?function(bk4){bk4.returnValue="Changes you made may not be saved.";}:function(){return null;};return bkV;},view:function(bk6,bk7,bk8,bk9){var bk_,blb,blc,bld,ble,blf;bk_=$.New(g,{$:1,$0:[".","btn-xs btn-default  pull-right",function(){var bla;bla=!bk8.debug;return bk9({$:3,$0:bla});}],$1:bk6});blb=O.rButtons(bk_);blc=bk8.message===""?{$:6}:h.Span(f.ofArray([h.Class("alert validation"),{$:1,$0:bk8.message}]));bld=(bk8.modified?"*":"")+bk8.title;ble=h.Div(f.ofArray([h.Class("btn-toolbar pull-right")]));blf=h.Div(f.ofArray([h.Class("panel-body flex flexgrow")]));return h.Div(f.ofArray([h.Class("panel panel-info flex flexgrow"),h.Div(f.ofArray([h.Class("panel-heading heading"),h.Label(f.ofArray([h.Class("panel-title text-center"),{$:1,$0:bld}])),blc,h.addChildren(blb,ble)])),h.addChildren(bk7,blf)]));}},JSEvent:$.Class({subscribe:function(){return null;}}),Layouts:{BasicContainer:function(blh,bli,blj){var blk,bll,blm;blk=h.Div(f.ofArray([h._Style(f.ofArray([h._flex("0 0 auto")]))]));bll=h.Div(f.ofArray([h._Style(f.ofArray([h._flex("1 1 auto"),h._overflow("auto")]))]));blm=h.Div(f.ofArray([h._Style(f.ofArray([h._flex("0 0 auto")]))]));return h.Div(f.ofArray([h._Style(f.ofArray([h._display("flex")])),h.addChildren(blh,blk),h.addChildren(blj,bll),h.addChildren(bli,blm)]));},Children:function(bln){var blo,blp;if(bln.$==0){blp=bln.$1;blo=blp;}else{blo=$.New(g,{$:0});}return blo;},HorizontalSplitter:function(blq,blr,bls,blt,blu){var blv,blw,blx,bly;blv=be.BasicContainer(bls,blt,blu);blw=((h.addAttribute())(h._Style(f.ofArray([h._flexFlow("row")]))))(blv);blx=be.Children(blw);bly=be.BasicContainer(blq,blr,blx);return((h.addAttribute())(h._Style(f.ofArray([h._flexFlow("column")]))))(bly);},Stretch:function(blz){return((h.addAttribute())(h._Style(f.ofArray([h._position("absolute"),h._top("0Px"),h._left("0Px"),h._bottom("0Px"),h._right("0Px")]))))(blz);},VerticalSplitter:function(blA,blB,blC,blD,blE){var blF,blG,blH,blI;blF=be.BasicContainer(blA,blB,blE);blG=((h.addAttribute())(h._Style(f.ofArray([h._flexFlow("column")]))))(blF);blH=be.Children(blG);blI=be.BasicContainer(blC,blD,blH);return((h.addAttribute())(h._Style(f.ofArray([h._flexFlow("row")]))))(blI);}},LoginForm:{LoginReactForm:function(blJ,blK){var blL,blN,bm_,bm$,bna,bnc;blL=function(){return{UserName:"",Password:"",InProgress:false,Error:blK};};blN=a.createClass({displayName:"LRF",getInitialState:blL,render:function(){var blO,blP,blS=this,blT,blU,bmn,bmS,bmV,bmY,bmZ,bm0,bm1,bm2,bm3,bm4,bm5,bm6,bm7,bm8,bm9;blO=this.setState;blP=function(blQ){var blR;blR=blO.apply(blS,[blQ]);return;};blT=blS.state;blU=function(blV){var blW,blX,blY;blV.preventDefault();blW={$:2};blP(bl.newModel(blT,blW));blY=function(blZ){return function(bl0){var bl1,bl2,bl3,bl4,bl5,bl6,bl7,bl8,bl9,bl_;if(blZ){bl3=function(bl$){return bl$.$==29?"ErrGuestUserNotActivated":bl$.$==28?"ErrAleaError ("+n.prettyPrint(bl$.$0)+", "+n.prettyPrint(bl$.$1)+")":bl$.$==27?"ErrNoRecordsProcessed":bl$.$==26?"ErrUnsuportedDataStorage":bl$.$==25?"ErrWebSharperCompiler "+n.prettyPrint(bl$.$0):bl$.$==24?"ErrFSharpCompiler "+n.prettyPrint(bl$.$0):bl$.$==23?"ErrFeatureNotImplemented "+n.prettyPrint(bl$.$0):bl$.$==22?"ErrRecordNotFound ("+n.prettyPrint(bl$.$0)+", "+n.prettyPrint(bl$.$1)+")":bl$.$==21?"ErrRecordWasNotUpdated "+n.prettyPrint(bl$.$0):bl$.$==20?"ErrDockerIsNotPresent "+bl7(bl$.$0):bl$.$==19?"ErrObjectNotFound "+bl_(bl$.$0):bl$.$==18?"ErrNoProvisionedClientAvailable":bl$.$==17?"ErrClientNotFound "+bl9(bl$.$0):bl$.$==16?"ErrUserIsNotDefined "+n.prettyPrint(bl$.$0):bl$.$==15?"ErrUserIsNotAssociatedToClient "+bl8(bl$.$0):bl$.$==14?"ErrDockerDataNotFound "+bl7(bl$.$0):bl$.$==13?"ErrUniqueIdNotDefinedForReport "+bl4(bl$.$0):bl$.$==12?"ErrDockerDefinitionNotFound "+bl7(bl$.$0):bl$.$==11?"ErrTableDefinitionNotFound "+bl5(bl$.$0):bl$.$==10?"ErrReportDefinitionNotFound "+bl4(bl$.$0):bl$.$==9?"ErrInvalidContentPageForClient "+n.prettyPrint(bl$.$0):bl$.$==8?"ErrInvalidToken "+n.prettyPrint(bl$.$0):bl$.$==7?"ErrLoginFailed "+n.prettyPrint(bl$.$0):bl$.$==6?"ErrUserIsNotLoggedIn":bl$.$==5?"ErrValueIsNull ("+n.prettyPrint(bl$.$0)+", "+n.prettyPrint(bl$.$1)+")":bl$.$==4?"ErrParameterMissing "+n.prettyPrint(bl$.$0):bl$.$==3?"ErrDuplicatedKeys ("+n.prettyPrint(bl$.$0)+", "+n.printArray(function(bma){return n.prettyPrint(bma);},bl$.$1)+")":bl$.$==2?"ErrUndefinedKeys ("+n.prettyPrint(bl$.$0)+", "+n.printArray(function(bmb){return n.prettyPrint(bmb);},bl$.$1)+")":bl$.$==1?"ErrExceptionThrown "+n.prettyPrint(bl$.$0):"WarnNotification "+n.prettyPrint(bl$.$0);};bl4=function(bmc){return"Report "+n.prettyPrint(bmc.$0);};bl5=function(bmd){return bmd.$==2?"ExternalTable ("+n.prettyPrint(bmd.$0)+", "+n.prettyPrint(bmd.$1)+")":bmd.$==1?"SystemTable "+n.prettyPrint(bmd.$0):"DimensionTable "+bl6(bmd.$0);};bl6=function(bme){return"Dimension "+n.prettyPrint(bme.$0);};bl7=function(bmf){return bmf.$==5?"DckDockSpawn":bmf.$==4?"DckPhosphor":bmf.$==3?"DckWCDocker":bmf.$==2?"DckGoldenLayout":bmf.$==1?"DckSingle":"DckEmpty";};bl8=function(bmg){return"User "+n.prettyPrint(bmg.$0);};bl9=function(bmh){return"Client "+n.prettyPrint(bmh.$0);};bl_=function(bmi){return"OWorkspace "+n.prettyPrint(bmi.$0);};bl2={$:3,$0:n.printList(function(bmj){return bl3(bmj);},bl0)};bl1=blP(bl.newModel(blT,bl2));}else{bl1=null;}return bl1;};};blX=m.callR(function(bmk){return p.messagesDo(blY,bmk);});return blX.Delay(function(){return blX.Bind(r.Async("CIPHERPrototype2:15",[blT.UserName,blT.Password]),function(bmm){d.globalToken=function(){return bmm;};s.location.href=blJ;return blX.Zero();});});};bmn=function(){var bmp,bmq,bmr;bmp={$:2};blP(bl.newModel(blT,bmp));bmr=function(bms){return function(bmt){var bmu,bmv,bmw,bmx,bmy,bmz,bmA,bmB,bmC,bmD;if(bms){bmw=function(bmE){return bmE.$==29?"ErrGuestUserNotActivated":bmE.$==28?"ErrAleaError ("+n.prettyPrint(bmE.$0)+", "+n.prettyPrint(bmE.$1)+")":bmE.$==27?"ErrNoRecordsProcessed":bmE.$==26?"ErrUnsuportedDataStorage":bmE.$==25?"ErrWebSharperCompiler "+n.prettyPrint(bmE.$0):bmE.$==24?"ErrFSharpCompiler "+n.prettyPrint(bmE.$0):bmE.$==23?"ErrFeatureNotImplemented "+n.prettyPrint(bmE.$0):bmE.$==22?"ErrRecordNotFound ("+n.prettyPrint(bmE.$0)+", "+n.prettyPrint(bmE.$1)+")":bmE.$==21?"ErrRecordWasNotUpdated "+n.prettyPrint(bmE.$0):bmE.$==20?"ErrDockerIsNotPresent "+bmA(bmE.$0):bmE.$==19?"ErrObjectNotFound "+bmD(bmE.$0):bmE.$==18?"ErrNoProvisionedClientAvailable":bmE.$==17?"ErrClientNotFound "+bmC(bmE.$0):bmE.$==16?"ErrUserIsNotDefined "+n.prettyPrint(bmE.$0):bmE.$==15?"ErrUserIsNotAssociatedToClient "+bmB(bmE.$0):bmE.$==14?"ErrDockerDataNotFound "+bmA(bmE.$0):bmE.$==13?"ErrUniqueIdNotDefinedForReport "+bmx(bmE.$0):bmE.$==12?"ErrDockerDefinitionNotFound "+bmA(bmE.$0):bmE.$==11?"ErrTableDefinitionNotFound "+bmy(bmE.$0):bmE.$==10?"ErrReportDefinitionNotFound "+bmx(bmE.$0):bmE.$==9?"ErrInvalidContentPageForClient "+n.prettyPrint(bmE.$0):bmE.$==8?"ErrInvalidToken "+n.prettyPrint(bmE.$0):bmE.$==7?"ErrLoginFailed "+n.prettyPrint(bmE.$0):bmE.$==6?"ErrUserIsNotLoggedIn":bmE.$==5?"ErrValueIsNull ("+n.prettyPrint(bmE.$0)+", "+n.prettyPrint(bmE.$1)+")":bmE.$==4?"ErrParameterMissing "+n.prettyPrint(bmE.$0):bmE.$==3?"ErrDuplicatedKeys ("+n.prettyPrint(bmE.$0)+", "+n.printArray(function(bmF){return n.prettyPrint(bmF);},bmE.$1)+")":bmE.$==2?"ErrUndefinedKeys ("+n.prettyPrint(bmE.$0)+", "+n.printArray(function(bmG){return n.prettyPrint(bmG);},bmE.$1)+")":bmE.$==1?"ErrExceptionThrown "+n.prettyPrint(bmE.$0):"WarnNotification "+n.prettyPrint(bmE.$0);};bmx=function(bmH){return"Report "+n.prettyPrint(bmH.$0);};bmy=function(bmI){return bmI.$==2?"ExternalTable ("+n.prettyPrint(bmI.$0)+", "+n.prettyPrint(bmI.$1)+")":bmI.$==1?"SystemTable "+n.prettyPrint(bmI.$0):"DimensionTable "+bmz(bmI.$0);};bmz=function(bmJ){return"Dimension "+n.prettyPrint(bmJ.$0);};bmA=function(bmK){return bmK.$==5?"DckDockSpawn":bmK.$==4?"DckPhosphor":bmK.$==3?"DckWCDocker":bmK.$==2?"DckGoldenLayout":bmK.$==1?"DckSingle":"DckEmpty";};bmB=function(bmL){return"User "+n.prettyPrint(bmL.$0);};bmC=function(bmM){return"Client "+n.prettyPrint(bmM.$0);};bmD=function(bmN){return"OWorkspace "+n.prettyPrint(bmN.$0);};bmv={$:3,$0:n.printList(function(bmO){return bmw(bmO);},bmt)};bmu=blP(bl.newModel(blT,bmv));}else{bmu=null;}return bmu;};};bmq=m.callR(function(bmP){return p.messagesDo(bmr,bmP);});return bmq.Delay(function(){return bmq.Bind(r.Async("CIPHERPrototype2:16",[]),function(bmR){d.globalToken=function(){return bmR;};s.location.href=blJ;return bmq.Zero();});});};bmS=function(bmT){var bmU;bmU={$:0,$0:bmT.target.value};return blP(bl.newModel(blT,bmU));};bmV=function(bmW){var bmX;bmX={$:1,$0:bmW.target.value};return blP(bl.newModel(blT,bmX));};bmY=blT.InProgress?" disabled":"";bmZ=blT.Error;if(bmZ.$==0){bm1=[];}else{bm2=bmZ.$0;bm1=!blT.InProgress?[a.createElement("div",{key:"_7",className:"alert alert-danger"},bm2)]:[];}bm0=bm1;bm3=blT.InProgress;bm4=bm3?[a.createElement("div",{key:"_8",className:"text-center"},a.createElement("img",{src:"/Resources/images/loader.gif"}))]:[];bm5=bm4.concat(bm0);bm6=[a.createElement("input",{key:"_1",type:"text",className:"form-control"+bmY,placeholder:"User Name",value:blT.UserName,onChange:bmS,disabled:blT.InProgress}),a.createElement("br",{key:"_2"}),a.createElement("input",{key:"_3",type:"password",className:"form-control",placeholder:"Password",value:blT.Password,onChange:bmV,disabled:blT.InProgress}),a.createElement("br",{key:"_4"}),a.createElement("button",{key:"_5",type:"submit",className:"btn btn-primary btn-block"+bmY},"Login"),a.createElement("div",{key:"_6",className:"flex-row"},a.createElement("div",{className:"flexgrow"},a.createElement("hr",{})),a.createElement("div",{className:"flexgrow-1-5 text-center"},a.createElement("h5",{},"or")),a.createElement("div",{className:"flexgrow"},a.createElement("hr",{}))),a.createElement("button",{key:"_9",type:"button",className:"btn btn-info btn-block"+bmY,onClick:bmn},"Enter as Guest"),a.createElement("br",{key:"_10"})];bm7=bm6.concat(bm5);bm8=f.ofArray([{onSubmit:blU}]);bm9=z.toList(bm7);return L.tag("form",bm8,bm9);}});bm_=$.New(g,{$:0});bm$=l.Tags().NewTag("div",bm_);bna=function(bnb){return I.render(a.createElement(blN),bnb.Dom);};u.OnAfterRender(bna,bm$);bnc=bm$;return bnc;},newModel:function(bnd,bne){var bnf,bng,bnh,bni,bnj,bnk,bnl,bnm;bnf="New Model: "+_3.stringify(bnd)+", Change: "+w(bne);V?V.log(bnf):undefined;if(bne.$==1){bnh=bne.$0;bni={$:0};bng={UserName:bnd.UserName,Password:bnh,InProgress:bnd.InProgress,Error:bni};}else{if(bne.$==2){bng={UserName:bnd.UserName,Password:bnd.Password,InProgress:true,Error:bnd.Error};}else{if(bne.$==3){bnj=bne.$0;bnk={$:1,$0:bnj};bng={UserName:bnd.UserName,Password:bnd.Password,InProgress:false,Error:bnk};}else{bnl=bne.$0;bnm={$:0};bng={UserName:bnl,Password:bnd.Password,InProgress:bnd.InProgress,Error:bnm};}}}return bng;},render:function(){var bnn,bno,bnp,bnq,bnr,bns,bnt;bno=f.ofArray([k.Attr().NewAttr("type","text")]);bnp=$.New(g,{$:0});bnq=f.ofArray([k.Attr().NewAttr("type","password")]);bnr=$.New(g,{$:0});bns=f.ofArray([k.Attr().NewAttr("type","submit")]);bnt=$.New(g,{$:0});bnn=f.ofArray([u.add(u.add(l.Tags().NewTag("input",bno),f.ofArray([k.Attr().NewAttr("class","form-control")])),f.ofArray([k.Attr().NewAttr("placeholder","User Name")])),l.Tags().NewTag("br",bnp),u.add(u.add(l.Tags().NewTag("input",bnq),f.ofArray([k.Attr().NewAttr("class","form-control")])),f.ofArray([k.Attr().NewAttr("placeholder","Password")])),l.Tags().NewTag("br",bnr),u.add(u.add(l.Tags().NewTag("button",bns),f.ofArray([k.Attr().NewAttr("class","btn btn-primary btn-block")])),f.ofArray([l.Tags().text("Login")])),l.Tags().NewTag("br",bnt)]);return l.Tags().NewTag("div",bnn);}},MenuBar:{initW_:function(bnu,bnv){var bnw;bnw=bd.wrap();return bnw.Delay(function(){return bnw.Bind(bm.loadMenuEntriesW_(bnu,bnv),function(bny){return bnw.Return({search1:bn.init(),search2:bn.init(),entries:bny});});});},loadMenuEntriesW_:function(bnz,bnA){var bnB;bnB=bd.wrap();return bnB.Delay(function(){return bnB.Bind1(r.Async("CIPHERPrototype2:22",[bnz,bnA]),function(bnD){var bnE,bnF,bnG,bnH,bnI,bnP,bnU,bnV,boB,boM,boO,boP;bnE=bnD[3];bnF=bnD[2];bnG=bnD[0];bnH=bnD[1];bnI=function(bnJ){var bnK,bnO;bnK=function(bnL){var bnM,bnN;if(bnL.name===bnJ){bnN=bnL.field;bnM={$:1,$0:bnN};}else{bnM={$:0};}return bnM;};bnO=z.choose(bnK,bnH);return bb.tryHead(bnO);};bnP=function(bnQ){var bnR;bnR=function(bnS){var bnT;bnS[0];bnT=bnS[1];bnS[2];bnS[3];bnS[4];bnS[5];return y.Equals(bnQ,bnT);};return z.tryFind(bnR,bnG);};bnU=function(bnW){var bnX,bnY;bnX=bnP(bnW);bnY=function(bnZ){var bn0,bn1,bn2,bn3,bn4,bn5,bn6,bn8,bn9,bn$,boa,bod,boe,boh,boi,bom,boo,bop,boq;bn0=bnZ[0];bn1=bnZ[1];bn2=bnZ[2];bn3=bnZ[3];bn4=bnZ[4];bn5=bnZ[5];bn6=function(bn7){return E.Trim(bn7)!=="";};bn8=B.filter(bn6,bn3);bn9=function(bn_){return E.Trim(bn_)!=="";};bn$=B.filter(bn9,bn4);boa=function(bob){var boc;boc=A.get(bn5,bob-5);return boc;};bod=bnI("TemplatePage");boe=function(bof){var bog;bog=A.get(bn5,bof-5);return bog;};boh=bnI("ContentPage");boi=function(boj){var bok,bol;bok=boj[0];bol=boj[1];return S.defaultV(bok.order,bol);};bom=function(bon){return bon[0];};boo=bnV(bnW);bop=z.sortBy(boi,boo);boq=z.map(bom,bop);return{id:bnW,name:bn2,description:S.defaultV(bn2,bn8),order:S.defaultV(bn2,bn$),template:B.map(boa,bod),content:B.map(boe,boh),children:z.toList(boq)};};return B.map(bnY,bnX);};bnV=function(bor){var bos;bos=function(bot){var bou,bov,bow,box,boy,boA;bou=bot[0];bov=bot[1];bot[2];bow=bot[3];if(y.Equals(bor,bov)){boy=function(boz){return[boz,bow];};boA=bnU(bou);box=B.map(boy,boA);}else{box={$:0};}return box;};return z.choose(bos,bnE);};boB=function(boC){var boD,boE,boF,boG,boH,boI,boL;boD=boC[0];boE=boC[1];boF=boC[2];boG=boC[3];boH=boC[4];boC[5];boI=function(boJ){var boK;boK=boJ[0];boJ[1];boJ[2];boJ[3];return y.Equals(boK,boE);};boL=z.exists(boI,bnE);return!boL?bnU(boE):{$:0};};boM=function(boN){return boN.order;};boO=z.choose(boB,bnG);boP=z.sortBy(boM,boO);return bnB.Return(z.toList(boP));});});},menu:function(boQ,boR){var boS,boU,boV,boW,boX,boY,boZ,bo1;boS=function(boT){return boT.name===boR?{$:1,$0:boT.children}:{$:0};};boU=boQ.entries;boV=z.choose(boS,boU);boW=bb.tryHead(boV);boX=$.New(g,{$:0});boY=S.defaultV(boX,boW);boZ=function(bo0){return h.Ul(f.ofArray([h._Style(f.ofArray([h._alignSelf("center")])),{$:2,$0:"dangerouslySetInnerHTML",$1:h.newAttr("__html",bo0.description)}]));};bo1=z.map(boZ,boY);return z.toList(bo1);},text:function(bo2){return f.ofArray([h.H3(f.ofArray([{$:1,$0:bo2}])),h._Style(f.ofArray([h._background(bo2)]))]);},update:function(bo3,bo4){var bo5,bo6,bo7,bo8,bo9;if(bo3.$==1){bo6=bo3.$0;bo7=bn.update(bo6,bo4.search2);bo5={search1:bo4.search1,search2:bo7,entries:bo4.entries};}else{if(bo3.$==2){bo8=bo3.$0;bo5={search1:bo4.search1,search2:bo4.search2,entries:bo8};}else{bo9=bo3.$0;bo5={search1:bn.update(bo9,bo4.search1),search2:bo4.search2,entries:bo4.entries};}}return bo5;},view:function(bo_){return be.BasicContainer(f.ofArray([h.Img(f.ofArray([h.Src("/EPFile/LOGO.png"),h._Style(f.ofArray([h._maxWidth("20rem"),h._maxHeight("6rem")]))]))]),$.New(g,{$:1,$0:h._Style(f.ofArray([h._display("flex")])),$1:bm.menu(bo_,"Second Menu")}),$.New(g,{$:1,$0:h._Style(f.ofArray([h._display("flex")])),$1:bm.menu(bo_,"Main Menu")}));}},Model:{Client:$.Class({get_clientCode:function(){var bpa;bpa=this.$0;return bpa;}}),Connection:$.Class({get_ConnectionId:function(){var bpb;bpb=this.$0;return bpb;}}),Cube:$.Class({get_cubeId:function(){var bpc;bpc=this.$0;return bpc;}}),CubeOlap:$.Class({get_cubeOlapId:function(){var bpd;bpd=this.$0;return bpd.toUpperCase();},get_name:function(){var bpe;bpe=this.$0;return bpe;}}),DimOlap:$.Class({get_dimOlapId:function(){var bpf;bpf=this.$0;return bpf.toUpperCase();},get_name:function(){var bpg;bpg=this.$0;return bpg;}}),Dimension:$.Class({get_dimensionId:function(){var bph;bph=this.$0;return bph;}}),ElemOlap:$.Class({get_elemOlapId:function(){var bpi;bpi=this.$0;return E.Replace(bpi.toLowerCase()," ","");},get_name:function(){var bpj;bpj=this.$0;return bpj;}}),ElemOlapRel:$.Class({AddChild:function(){this._children=this._children;return;},get_Elem:function(){return this.elem;},get_GetChildren:function(){return this._children;}},{New:function(bpl){var bpm;bpm=$.New(this,{});bpm.elem=bpl;bpm._children=$.New(g,{$:0});return bpm;}}),Language:$.Class({get_languageCode:function(){var bpn;bpn=this.$0;return bpn;}},{get_defaultL:function(){return $.New(bp,{$:0,$0:"en"});}}),ObjectT:$.Class({get_objectId:function(){var bpo;bpo=this.$0;return bpo;}}),Report:$.Class({get_reportId:function(){var bpp;bpp=this.$0;return bpp;}}),ServerOlap:$.Class({get_serverId:function(){var bpq;bpq=this.$0;return bpq;}}),User:$.Class({get_userCode:function(){var bpr;bpr=this.$0;return bpr;},isGuest_:function(){return y.Equals($.New(bq,{$:0,$0:"ef047959-15b4-43dc-b131-39646009a706"}),this);}}),Workspace:$.Class({get_getObject:function(){var bps;bps=this.$0;return $.New(br,{$:0,$0:bps});}}),dockerFromText:function(bpt){return bpt==="DckSingle"?{$:1}:bpt==="DckGoldenLayout"?{$:2}:bpt==="DckWCDocker"?{$:3}:bpt==="DckPhosphor"?{$:4}:bpt==="DckDockSpawn"?{$:5}:{$:0};}},Model2:{FieldDefinition:$.Class({basicValidations:function(bpu){var bpv,bpw,bpx;if(bpu.$==0){bpx=bpu.$0;bpw=this.validateString(bpx);}else{bpw=bpu.$==3?this.validateString(""):bpu.$==4?f.ofArray([{$:3,$0:""}]):$.New(g,{$:0});}bpv=bpw;return G.New(bpv);},get_label:function(){var bpy,bpz,bpA;bpy=this.labelO;bpz=E.Replace(this.fieldName,"_"," ");bpA=bg.string(bpz,{$:1,$0:0},{$:1,$0:0}).toUpperCase()+bg.string(bpz,{$:1,$0:1},{$:0});return S.defaultV(bpA,bpy);},get_placeholder:function(){var bpB,bpC;bpB=this.placeholderO;bpC="Enter "+this.get_label();return S.defaultV(bpC,bpB);},validateString:function(bpD){var bpE,bpG=this;bpE=this.trimText?E.Trim(bpD):bpD;return z.toList(z.delay(function(){return z.append((bpG.maxLen>0?bpE.length>bpG.maxLen:false)?[{$:1,$0:bpG.maxLen}]:z.empty(),z.delay(function(){return(!bpG.canBeEmpty?bpE==="":false)?[{$:0}]:z.empty();}));}));},validations:function(bpI){var bpJ,bpK,bpL;bpJ=this.validation;if(bpJ.$==1){bpL=bpJ.$0;bpK=bpL(bpI);}else{bpK=this.basicValidations(bpI);}return bpK;}}),Validation:$.Class({addPath:function(bpM){var bpN,bpO,bpP,bpQ;if(this.$==1){bpO=this.$1;bpP=this.$0;bpN=$.New(K,{$:1,$0:$.New(g,{$:1,$0:bpM,$1:bpP}),$1:bpO});}else{bpQ=this.$0;bpN=$.New(K,{$:1,$0:f.ofArray([bpM]),$1:bpQ});}return bpN;},headPathIs:function(bpR){var bpS,bpT,bpU,bpV;if(this.$==1){if(this.$0.$==1){bpU=this.$0.$0;if(bpR===bpU){this.$0.$0;bpV=true;}else{bpV=false;}bpT=bpV;}else{bpT=false;}bpS=bpT;}else{bpS=false;}return bpS;},reducePath:function(){var bpW,bpX,bpY,bpZ,bp0,bp1,bp2;if(this.$==1){if(this.$0.$==1){if(this.$0.$1.$==0){this.$0.$0;bpZ=this.$1;bpY=$.New(K,{$:0,$0:bpZ});}else{this.$0.$0;bp0=this.$0.$1;bp1=this.$1;bpY=$.New(K,{$:1,$0:bp0,$1:bp1});}bpX=bpY;}else{bp2=this.$1;bpX=$.New(K,{$:0,$0:bp2});}bpW=bpX;}else{this.$0;bpW=this;}return bpW;}}),callF:function(bp3,bp4,bp5){var bp6;bp6=$.CreateFuncWithArgs(bp3);return bp6.apply(null,[bp4,bp5]);},defField:function(bp7){var bp8,bp$,bqa;bp8=function(){return function(){return{$:0};};};bp$={$:0};bqa={$:0};return $.New(D,{fieldName:"",getter:bp7,setter:bp8,labelO:bp$,placeholderO:bqa,typeF:"string",maxLen:0,hidden:false,canBeNull:true,canBeEmpty:true,isReadOnly:false,trimText:true,blankspaces:true,validation:{$:0},preButton:"",postButton:"",inputType:"text"});},left:function(bqb,bqc){return bqc.length<=bqb?bqc:bg.string(bqc,{$:1,$0:0},{$:1,$0:bqb-1});},processorAgent:function(bqd,bqe){return bt.Start(function(bqf){var bqg;bqg=function(bqh){return X.Delay(function(){return X.Bind(bqf.Receive({$:0}),function(bqj){var bqk;bqk=(p.callTry(function(){return(bqe(bqh))(bqj);}))(null);p.notifyMessages(bqk);return bqg(p.ifError(bqh,bqk));});});};return bqg(bqd);},{$:0});},sortOrder:function(bqm,bqn){var bqo,bqp,bqq,bqr;if(bqm.$==1){bqp=bqm.$0;if(E.Trim(bqp)!==""){bqr=bqm.$0;bqq=E.Trim(bqr);}else{bqq=bqn;}bqo=bqq;}else{bqo=bqn;}return bqo;},strToKey:function(bqs){return E.Replace(bqs.toLowerCase()," ","");}},Popup:{init:$.Field(function(){return{show:false,top:-1,left:-1,baseX:0,baseY:0};}),update:function(bqt,bqu){var bqv,bqw,bqx,bqy,bqz;if(bqt.$==0){bqw=bqt.$0;bqx=bqt.$1;bqv={show:true,top:bqw,left:bqx,baseX:bqu.baseX,baseY:bqu.baseY};}else{if(bqt.$==1){bqy=bqt.$0;bqz=bqt.$1;bqv={show:bqu.show,top:bqu.top,left:bqu.left,baseX:bqz,baseY:bqy};}else{bqv={show:false,top:bqu.top,left:bqu.left,baseX:bqu.baseX,baseY:bqu.baseY};}}return bqv;},view:function(bqA,bqB,bqC){var bqD,bqL,bqM,bqN,bqO,bqP,bqQ;bqD=function(bqE){var bqF,bqG;bqF=bqE[0];bqG=bqE[1];return h.Li(z.toList(z.delay(function(){return z.append(bqF==="-"?[h.Class("divider")]:z.empty(),z.delay(function(){var bqJ;bqJ=h.A(f.ofArray([h.TabIndex("-1"),h.Href("#"),{$:1,$0:bqF}]));return[(h.OnClick(function(){bqC({$:2});return bqG(null);}))(bqJ)];}));})));};if(bqB.show){bqO=(bqB.top+bqB.baseY).toFixed(6)+"px";bqP=(bqB.left+bqB.baseX).toFixed(6)+"px";bqN=h.Menu(f.ofArray([h.Class("dropdown-menu"),h.Role("menu"),h._Style(f.ofArray([h._display("block"),h._position("fixed"),h._marginBottom("5px"),h._top(bqO),h._left(bqP)]))]));bqQ=z.map(bqD,bqA);bqM=h.Div(f.ofArray([h.Class("dropdown clearfix"),h._Style(f.ofArray([h._display("block"),h._position("fixed"),h._height("95%"),h._width("95%"),h._zIndex("100")])),h.addChildren(bqQ,bqN)]));bqL=(h.OnClick(function(){return bqC({$:2});}))(bqM);}else{bqL={$:6};}return bqL;}},R:$.Class({},{E0:function(bqS,bqT,bqU){var bqV,bqW,bqX,bq0,bq1,bq2;if(bqT.$==0){bqW={};}else{bqX=function(bqY){return function(bqZ){return bk.extend(true,{},bqY,bqZ);};};bqW=z.reduce(bqX,bqT);}bqV=bqW;bq0=$.New(g,{$:1,$0:bqS,$1:$.New(g,{$:1,$0:bqV,$1:z.toList(bqU)})});if(bq0.$==0){bq1=a.createElement(bqS,bqV);}else{bq2=A.ofSeq(bq0);bq1=a.createElement.apply(null,bq2);}return bq1;},New:function(){return $.New(this,{});},button:function(bq3,bq4,bq5){var bq6,bq7;bq6=$.New(g,{$:1,$0:{onClick:bq5},$1:bq4});bq7=f.ofArray([bq3]);return L.E0("button",bq6,bq7);},className:function(bq8){return{className:bq8};},div:function(bq9,bq_){return L.E0("div",bq9,bq_);},id:function(bq$){return{id:bq$};},input:function(bra,brb,brc){var brd,bre;brd=$.New(g,{$:1,$0:{type:bra,onChange:brb},$1:brc});bre=$.New(g,{$:0});return L.E0("input",brd,bre);},label:function(brf,brg){return L.E0("label",brf,brg);},onChange:function(brh){return{onChange:brh};},role:function(bri){return{role:bri};},span:function(brj,brk){return L.E0("span",brj,brk);},style:function(brl){return{style:brl};},tag:function(brm,brn,bro){return L.E0(brm,brn,bro);},type:function(brp){return{type:brp};}}),ReactDOM:$.Class({},{New:function(){return $.New(this,{});}}),ReactHtml:{A:function(brq){return{$:0,$0:"a",$1:brq};},AutoFocus:function(brr){return{$:2,$0:"autoFocus",$1:brr};},Br:function(brs){return{$:0,$0:"br",$1:brs};},Button:function(brt){return{$:0,$0:"button",$1:brt};},Checked:function(bru){return{$:2,$0:"checked",$1:bru};},Class:function(brv){return{$:2,$0:"className",$1:brv};},Disabled:function(brw){return{$:2,$0:"disabled",$1:brw};},Div:function(brx){return{$:0,$0:"div",$1:brx};},Draggable:function(bry){return{$:2,$0:"draggable",$1:bry};},H1:function(brz){return{$:0,$0:"h1",$1:brz};},H2:function(brA){return{$:0,$0:"h2",$1:brA};},H3:function(brB){return{$:0,$0:"h3",$1:brB};},H4:function(brC){return{$:0,$0:"h4",$1:brC};},H5:function(brD){return{$:0,$0:"h5",$1:brD};},H6:function(brE){return{$:0,$0:"h6",$1:brE};},Href:function(brF){return{$:2,$0:"href",$1:brF};},Id:function(brG){return{$:2,$0:"id",$1:brG};},Img:function(brH){return{$:0,$0:"img",$1:brH};},Input:function(brI){return{$:0,$0:"input",$1:brI};},Key:function(brJ){return{$:2,$0:"key",$1:brJ};},Label:function(brK){return{$:0,$0:"label",$1:brK};},Li:function(brL){return{$:0,$0:"li",$1:brL};},MaxLength:function(brM){return{$:2,$0:"maxLength",$1:brM};},Menu:function(brN){return{$:0,$0:"menu",$1:brN};},NewAttr:function(brO,brP){return{$:2,$0:brO,$1:brP};},OnChange:function(brQ){var brR;brR={$:2,$0:"onChange",$1:brQ};return(h.addAttribute())(brR);},OnClick:function(brS){var brT;brT={$:2,$0:"onClick",$1:brS};return(h.addAttribute())(brT);},OnDragOver:function(brU){var brV;brV={$:2,$0:"onDragOver",$1:brU};return(h.addAttribute())(brV);},OnDragStart:function(brW){var brX;brX={$:2,$0:"onDragStart",$1:brW};return(h.addAttribute())(brX);},OnDrop:function(brY){var brZ;brZ={$:2,$0:"onDrop",$1:brY};return(h.addAttribute())(brZ);},OnKeyDown:function(br0){var br1;br1={$:2,$0:"onKeyDown",$1:br0};return(h.addAttribute())(br1);},OnMouseDown:function(br2){var br3;br3={$:2,$0:"onMouseDown",$1:br2};return(h.addAttribute())(br3);},OnMouseOut:function(br4){var br5;br5={$:2,$0:"onMouseOut",$1:br4};return(h.addAttribute())(br5);},OnMouseOver:function(br6){var br7;br7={$:2,$0:"onMouseOver",$1:br6};return(h.addAttribute())(br7);},OnMouseUp:function(br8){var br9;br9={$:2,$0:"onMouseUp",$1:br8};return(h.addAttribute())(br9);},OptionA:function(br_){return{$:0,$0:"option",$1:br_};},P:function(br$){return{$:0,$0:"p",$1:br$};},Placeholder:function(bsa){return{$:2,$0:"placeholder",$1:bsa};},Role:function(bsb){return{$:2,$0:"role",$1:bsb};},Select:function(bsc){return{$:0,$0:"select",$1:bsc};},Span:function(bsd){return{$:0,$0:"span",$1:bsd};},Src:function(bse){return{$:2,$0:"src",$1:bse};},Style:function(bsf){return{$:2,$0:"style",$1:bsf};},TBody:function(bsg){return{$:0,$0:"tbody",$1:bsg};},THead:function(bsh){return{$:0,$0:"thead",$1:bsh};},TabIndex:function(bsi){return{$:2,$0:"tabIndex",$1:bsi};},Table:function(bsj){return{$:0,$0:"table",$1:bsj};},Td:function(bsk){return{$:0,$0:"td",$1:bsk};},Th:function(bsl){return{$:0,$0:"th",$1:bsl};},Tr:function(bsm){return{$:0,$0:"tr",$1:bsm};},Type:function(bsn){return{$:2,$0:"type",$1:bsn};},Ul:function(bso){return{$:0,$0:"ul",$1:bso};},Value:function(bsp){return{$:2,$0:"value",$1:bsp};},_Style:function(bsq){var bsr,bsu;bsr=function(bss){return function(bst){return _8.extend.apply(_8,[_8.extend.apply(_8,[{},bss]),bst]);};};bsu=z.reduce(bsr,bsq);return h.Style(bsu);},_alignSelf:function(bsv){return h.newAttr("alignSelf",bsv);},_background:function(bsw){return h.newAttr("background",bsw);},_border:function(bsx){return h.newAttr("border",bsx);},_borderStyle:function(bsy){return h.newAttr("borderStyle",bsy);},_borderWidth:function(bsz){return h.newAttr("borderWidth",bsz);},_bottom:function(bsA){return h.newAttr("bottom",bsA);},_cursor:function(bsB){return h.newAttr("cursor",bsB);},_display:function(bsC){return h.newAttr("display",bsC);},_flex:function(bsD){return h.newAttr("flex",bsD);},_flexBasis:function(bsE){return h.newAttr("flexBasis",bsE);},_flexFlow:function(bsF){return h.newAttr("flexFlow",bsF);},_flexGrow:function(bsG){return h.newAttr("flexGrow",bsG);},_flexShrink:function(bsH){return h.newAttr("flexShrink",bsH);},_fontFamily:function(bsI){return h.newAttr("fontFamily",bsI);},_fontSize:function(bsJ){return h.newAttr("fontSize",bsJ);},_height:function(bsK){return h.newAttr("height",bsK);},_left:function(bsL){return h.newAttr("left",bsL);},_margin:function(bsM){return h.newAttr("margin",bsM);},_marginBottom:function(bsN){return h.newAttr("marginBottom",bsN);},_maxHeight:function(bsO){return h.newAttr("maxHeight",bsO);},_maxWidth:function(bsP){return h.newAttr("maxWidth",bsP);},_minHeight:function(bsQ){return h.newAttr("minHeight",bsQ);},_minWidth:function(bsR){return h.newAttr("minWidth",bsR);},_overflow:function(bsS){return h.newAttr("overflow",bsS);},_padding:function(bsT){return h.newAttr("padding",bsT);},_paddingLeft:function(bsU){return h.newAttr("paddingLeft",bsU);},_paddingRight:function(bsV){return h.newAttr("paddingRight",bsV);},_position:function(bsW){return h.newAttr("position",bsW);},_right:function(bsX){return h.newAttr("right",bsX);},_textOverflow:function(bsY){return h.newAttr("textOverflow",bsY);},_top:function(bsZ){return h.newAttr("top",bsZ);},_whiteSpace:function(bs0){return h.newAttr("whiteSpace",bs0);},_width:function(bs1){return h.newAttr("width",bs1);},_zIndex:function(bs2){return h.newAttr("zIndex",bs2);},addAttribute:$.Field(function(){return function(bs3){return h.addChild(bs3);};}),addAttributes:$.Field(function(){return function(bs4){return function(bs5){return h.addChildren(bs4,bs5);};};}),addChild:function(bs6){var bs7;bs7=f.ofArray([bs6]);return function(bs8){return h.addChildren(bs7,bs8);};},addChildren:function(bs9,bs_){var bs$,bta,btb;if(bs_.$==1){bs_.$0;bs$={$:0,$0:"div",$1:z.append(f.ofArray([bs_]),bs9)};}else{if(bs_.$==2){bs$={$:0,$0:"div",$1:z.append(f.ofArray([bs_]),bs9)};}else{if(bs_.$==3){bs_.$0;bs$={$:0,$0:"div",$1:z.append(f.ofArray([bs_]),bs9)};}else{if(bs_.$==4){bs_.$0;bs$=bs_;}else{if(bs_.$==5){bs_.$0;bs$=bs_;}else{if(bs_.$==6){bs$={$:0,$0:"div",$1:bs9};}else{bta=bs_.$0;btb=bs_.$1;bs$={$:0,$0:bta,$1:z.append(btb,bs9)};}}}}}}return bs$;},newAttr:function(btc,btd){var bte;bte={};bte[btc]=btd;return bte;},toReact:function(btf){var btg,btm,btA;btg=function(bth){var bti,btj,btk,btl;if(bth.$==1){bth.$0;bti=$.New(g,{$:0});}else{if(bth.$==4){bth.$0;bti=$.New(g,{$:0});}else{if(bth.$==5){bth.$0;bti=$.New(g,{$:0});}else{if(bth.$==2){btj=bth.$1;btk=bth.$0;bti=f.ofArray([h.newAttr(btk,btj)]);}else{if(bth.$==3){btl=bth.$0;bti=btl;}else{if(bth.$==6){bti=$.New(g,{$:0});}else{bth.$0;bth.$1;bti=$.New(g,{$:0});}}}}}}return bti;};btm=function(btn){var bto,btp,btq,btr,bts,btt,btu,btv,btw,btx,bty,btz;if(btn.$==1){btp=btn.$0;bto={$:1,$0:btp};}else{if(btn.$==4){btq=btn.$0;bto={$:1,$0:btq};}else{if(btn.$==5){btr=btn.$0;bts=a.createElement(btr);bto={$:1,$0:bts};}else{if(btn.$==2){btn.$1;btn.$0;bto={$:0};}else{if(btn.$==3){btn.$0;bto={$:0};}else{if(btn.$==6){bto={$:1,$0:null};}else{btt=btn.$0;btu=btn.$1;btv=z.choose(btm,btu);btw=z.toList(btv);btx=z.collect(btg,btu);bty=z.toList(btx);btz=L.tag(btt,bty,btw);bto={$:1,$0:btz};}}}}}}return bto;};btA=btm(btf);return S.defaultV(null,btA);}},SearchFlickr:{Impure:{getJSON:function(btB,btC){return bk.getJSON(btC,btB);}},img:function(btD){return h.Img(f.ofArray([h.Src(btD)]));},init:$.Field(function(){return{search:"cats",images:$.New(g,{$:0}),vertical:false};}),mediaUrl:$.Field(function(){return function(btE){var btF;btF=btE.media;return btF.m;};}),showForm_:function(btG){var btH,btI,btL,btO;btH=bn.init();btI=function(btJ){return function(btK){return bn.update(btJ,btK);};};btL=function(btM){return function(btN){return bn.view(btM,btN);};};btO=U.app(btH,btI,btL);return U.run(btG,btO);},srcs:$.Field(function(){var btP;btP=bn.mediaUrl();return function(btQ){var btR,btS;btR=btQ.items;btS=A.map(btP,btR);return z.toList(btS);};}),update:function(btT,btU){var btV,btW,btX,btY;if(btT.$==1){btW=btT.$0;btV={search:btU.search,images:btW,vertical:btU.vertical};}else{if(btT.$==2){btX=!btU.vertical;btV={search:btU.search,images:btU.images,vertical:btX};}else{btY=btT.$0;btV={search:btY,images:btU.images,vertical:btU.vertical};}}return btV;},url:function(btZ){return"http://api.flickr.com/services/feeds/photos_public.gne?tags="+btZ+"&format=json&jsoncallback=?";},view:function(bt0,bt1){var bt2,bt3,bt6,bt7,bt$,bud,buf,buh,buj,buk,bul,bum;bt2=bn.srcs();bt3=function(bt4){var bt5;bt5=bt2(bt4);return bt1({$:1,$0:bt5});};bt7=h.Input(f.ofArray([h.Type("text"),h.Value(bt0.search)]));bt$=h.Input(f.ofArray([h.Type("button"),h.Value("search")]));bud=h.Input(f.ofArray([h.Type("checkbox"),h.Checked(bt0.vertical)]));buf=h.Input(f.ofArray([h.Type("checkbox"),h.Checked(!bt0.vertical)]));bt6=f.ofArray([h._Style(f.ofArray([h._minWidth("222px"),h._overflow("hidden")])),(h.OnChange(function(bt8){var bt9,bt_;bt9=bt8.target;bt_=bt9.value;return bt1({$:0,$0:bt_});}))(bt7),(h.OnClick(function(){var bub,buc;bub=bt0.search;buc=bn.url(bub);return bu.getJSON(bt3,buc);}))(bt$),h.Br($.New(g,{$:0})),(h.OnChange(function(){return bt1({$:2});}))(bud),{$:1,$0:"vertical"},h.Br($.New(g,{$:0})),(h.OnChange(function(){return bt1({$:2});}))(buf),{$:1,$0:"horizontal"},h.Br($.New(g,{$:0}))]);buh=function(bui){return bn.img(bui);};buj=bt0.images;buk=f.map(buh,buj);bul=$.New(g,{$:1,$0:h._Style(f.ofArray([h._overflow("auto")])),$1:buk});bum=bt0.vertical?function(bun){return function(buo){return function(bup){return function(buq){return function(bur){return be.VerticalSplitter(bun,buo,bup,buq,bur);};};};};}:function(bus){return function(but){return function(buu){return function(buv){return function(buw){return be.HorizontalSplitter(bus,but,buu,buv,buw);};};};};};return((((bum(f.ofArray([h.H2(f.ofArray([{$:1,$0:"Search Flickr"}]))])))(f.ofArray([h.H3(f.ofArray([{$:1,$0:"CIPHER BSC."}]))])))(bt6))(f.ofArray([h.H1(f.ofArray([{$:1,$0:"HI"}]))])))(bul);}},Server:{call:$.Field(function(){return bv.New(function(bux){return p.notifyMessages(bux);});}),callR:function(buy){return bv.New(buy);},callServerBuilder:$.Class({Bind:function(buz,buA){return m.callServerDo(buz,buA,this.handleErrors);},Bind1:function(buB,buC){return this.handleErrors.call(null,(p.liftTry(buC))(buB));},Combine:function(buD,buE){var buF,buG,buH,buI,buJ,buK,buL,buM,buN,buO,buP,buQ,buR;buF=[buD,buE];if(buF[0].$==1){if(buF[1].$==1){buI=buF[0].$0;buJ=buF[1].$0;buH={$:1,$0:f.append(buI,buJ)};}else{buK=buF[0].$0;buL=buF[1].$1;buF[1].$0;buH={$:1,$0:f.append(buK,buL)};}buG=buH;}else{if(buF[1].$==1){buN=buF[0].$1;buO=buF[1].$0;buF[0].$0;buM={$:1,$0:f.append(buN,buO)};}else{buP=buF[0].$1;buQ=buF[1].$1;buF[0].$0;buR=buF[1].$0;buM={$:0,$0:buR,$1:f.append(buP,buQ)};}buG=buM;}return buG;},Delay:function(buS){return buS(null);},Return:function(buT){return p.succeed(buT);},Zero:function(){return null;}},{New:function(buU){var buV;buV=$.New(this,{});buV.handleErrors=buU;return buV;}}),callServerDo:function(buW,buX,buY){var buZ;buZ=X.Delay(function(){return X.Bind(buW,function(bu1){var bu2;bu2=p.flow();buY(bu2.Delay(function(){return bu2.Bind(p.tryProtection(),function(){return bu2.Bind(bu1,function(bu5){buX(bu5);return bu2.Zero();});});}));return X.Return(null);});});return X.StartWithContinuations(buZ,function(){return null;},function(bu7){var bu8;bu8=p.failException(bu7);return p.notifyMessages(bu8);},function(bu9){var bu_;bu_=p.failException(bu9);return p.notifyMessages(bu_);},{$:0});}},SlickGrid:{DataView:$.Class({activeCell_:function(){var bu$;bu$=this.grid.getActiveCell();return y.Equals(bu$,null)?{$:0}:{$:1,$0:[bu$.row,bu$.cell]};},addItem:function(bva){var bvb;bvb=this.addItem0_(bva);return p.notifyMessages(bvb);},addItem0_:function(bvc){var bvd,bvg=this;bvd=p.flow();return bvd.Delay(function(){return bvd.Bind(p.tryProtection(),function(){var bvh,bvi,bvj,bvk;bvg.grid.invalidateRow(bvg.getLength_());bvh=[bvg.getNewRowId_(),bvc];bvi=bvh[0];bvj=bvh[1];bvk={$:0,$0:bvi,$1:bvj};bvg.processChange_(bvk);return bvd.Zero();});});},addItem_:function(bvl){var bvm,bvp=this;bvm=p.flow();return bvm.Delay(function(){return bvm.Bind(p.tryProtection(),function(){bvp.grid.invalidateRow(bvp.getLength_());return bvm.Bind(bvp.addItem0_(bvl),function(){bvp.grid.updateRowCount();bvp.reRender_();return bvm.Zero();});});});},calculateKey:function(bvr){var bvs,bvt,bvw=this,bvx;bvs=this.keyIndexes;bvt=function(bvu){return function(bvv){return bvu.concat([bvw.getKeyValue(bvr,bvv)]);};};bvx=[];return A.fold(bvt,bvx,bvs);},composeRow_:function(bvy){return $.New(bw,{$:0,$0:this.calculateKey(bvy),$1:bvy,$2:false});},createGrid:function(bvz,bvA){return this.createGrid_(bvz,bvA);},createGrid_:function(bvB,bvC){var bvD,bvE,bvI=this;bvD=p.flow();bvE=bvD.Delay(function(){var bvG,bvJ,bvK,bvL;bvG=function(bvH){return bvI.inMessagesProcessor(bvH);};bvJ={$:1,$0:bvG};bvI.sendMessage_(bvJ);bvI.grid=new Q.Grid(bvC,bvB,bvI.columns,x.gridOptions());bvI.grid.setSelectionModel(new Q.CellSelectionModel());bvI.grid.registerPlugin(bvI.columnSizePlugin);bvK=bvI.grid;bvI.subscribeGrid_(bvK);bvL=_8(bvC).on("resize",function(){return bvI.reRender_();});return bvD.Zero();});return p.notifyMessages(bvE);},deleteRows_:function(bvM){var bvN,bvO,bvT=this;bvN=p.flow();bvO=bvN.Delay(function(){return bvN.Bind(p.tryProtection(),function(){var bvR,bvS,bvU,bvV;if(bvM.length>0){bvS={$:3,$0:bvM};bvT.processChange_(bvS);bvU=A.min(bvM);if(A.length(bvT.grid.getSelectedRows())>0){bvT.grid.setSelectedRows([bvU]);bvV=bvN.Zero();}else{bvV=bvN.Zero();}bvR=bvN.Combine(bvV,bvN.Delay(function(){var bvX,bv0,bv1;bvX=function(bvY){var bvZ;bvY[0];bvZ=bvY[1];return bvT.grid.setActiveCell(bvU,bvZ);};bv0=bvT.activeCell_();bv1=B.map(bvX,bv0);bvT.grid.invalidateAllRows();bvT.grid.updateRowCount();bvT.reRender_();return bvN.Zero();}));}else{bvR=bvN.Zero();}return bvR;});});return p.notifyMessages(bvO);},editCell2_:function(){var bv3,bv4,bv8=this,bwb;bv3=this.activeCell_();bv4=function(bv5){var bv6,bv7,bv9,bv_,bv$,bwa;bv6=bv5[0];bv7=bv5[1];if(bv6>=bv8.getLength_()){bv_=bv8.emptyItem_();bv$=bv8.addItem_(bv_);bv9=p.notifyMessages(bv$);}else{bv9=null;}bwa=bv8.grid.getCellEditor();return y.Equals(bwa,null)?bv8.grid.editActiveCell():null;};bwb=B.map(bv4,bv3);return;},editCell_:function(){return this.grid.editActiveCell();},emptyItem_:function(){var bwc,bwe;bwc=function(bwd){return bwd.defaultV;};bwe=this.columns;return A.map(bwc,bwe);},findInAddedRows_:function(bwf,bwg){var bwh,bwi,bwk=this,bwl,bwm;bwh=this.calculateKey(bwg);bwi=function(bwj){return y.Equals(bwk.calculateKey(bwj),bwh);};bwl=A.tryFind(bwi,bwf);bwm=S.defaultV(bwg,bwl);return bwk.composeRow_(bwm);},getItem:function(bwn){return this.getItem_(bwn);},getItemMetadata:function(){return this.getItemMetadata0;},getItem_:function(bwp){return bwp>=this.activeRows.length?this.emptyItem_():A.get(this.activeRows,bwp).rowData_();},getItems:function(){var bwq,bws;bwq=function(bwr){return bwr.rowData_();};bws=this.activeRows;return A.map(bwq,bws);},getKeyValue:function(bwt,bwu){return A.get(bwt,bwu);},getKeysPerRow_:function(){var bwv,bww,bwB=this;bwv=this.activeRows;bww=function(bwx){return function(bwy){var bwz,bwA,bwC,bwD,bwE;if(bwy.$==1){bwA=bwy.$1;bwz=[bwx,bwB.calculateKey(bwA)];}else{if(bwy.$2){bwD=bwy.$1;bwC=[bwx,bwB.calculateKey(bwD)];}else{bwE=bwy.$0;bwC=[bwx,bwE];}bwz=bwC;}return bwz;};};return z.mapi(bww,bwv);},getLength:function(){return this.getLength_();},getLength_:function(){return this.activeRows.length;},getNewRowId_:function(){var bwF,bwJ,bwK,bwL,bwM,bwN;bwF=function(bwG){var bwH,bwI;if(bwG.$==1){bwI=bwG.$0;bwH={$:1,$0:bwI};}else{bwH={$:0};}return bwH;};bwJ=this.activeRows;bwK=z.choose(bwF,bwJ);bwL=z.toArray(bwK);if(bwL.length==0){bwM=1;}else{bwN=z.max(bwL);bwM=1+bwN;}return bwM;},getRowData_:function(bwO){var bwP,bwU,bwV;bwP=function(bwQ){var bwR,bwS,bwT;if(bwQ.$==1){bwS=bwQ.$0;bwR=y.Equals({$:1,$0:bwS},bwO);}else{bwT=bwQ.$0;bwR=y.Equals({$:0,$0:bwT},bwO);}return bwR;};bwU=this.activeRows;bwV=A.find(bwP,bwU);return bwV.rowData_();},getSaveData:function(){return this.getSaveData_();},getSaveData_:function(){var bwW,bwX,bwY,bwZ;bwW=this.prepareData_();bwX=bwW[0];bwY=bwW[1];bwZ=bwW[2];return[this.activeRows,this.columns,this.keyIndexes,bwX,bwY,bwZ];},inMessagesProcessor:function(bw0){var bw1,bw2,bw3,bw4,bw5,bw6,bw7,bw8,bw9,bw_,bw$,bxa,bxb,bxc;if(bw0.$==0){bw2=bw0.$2;bw3=bw0.$0;bw4=bw0.$1;bw1=this.readData_(bw3,bw4,bw2);}else{if(bw0.$==1){bw5=bw0.$0;bw1=this.savedData_(bw5);}else{if(bw0.$==3){bw6=this.getSaveData_();bw7=bw6[0];bw8=bw6[1];bw9=bw6[2];bw_=bw6[3];bw$=bw6[4];bxa=bw6[5];bxb={$:3,$0:bw7,$1:bw8,$2:bw9,$3:bw_,$4:bw$,$5:bxa};bw1=this.sendMessage_(bxb);}else{if(bw0.$==4){bxc=bw0.$0;this.doEvents=false;this.selectRow_(bxc);bw1=void(this.doEvents=true);}else{bw1=this.removeData_();}}}}return bw1;},prepareData_:function(){var bxd,bxe,bxi,bxj,bxk,bxq,bxr,bxs,bxw,bxx,bxy,bxC=this,bxD,bxE,bxF,bxG,bxL,bxM,bxN,bxQ,bxR,bxS,bxV,bxW,bx0,bx1,bx5,bx6,bx_;bxd=this.deletedRows;bxe=function(bxf){var bxg;bxg=function(bxh){return bxh;};return A.map(bxg,bxf);};bxi=z.toArray(bxd);bxj=A.map(bxe,bxi);bxk=function(bxl){var bxm,bxn,bxo,bxp;if(bxl.$==0){if(bxl.$2){bxo=bxl.$0;bxp=bxl.$1;bxn={$:1,$0:[bxo,bxp]};}else{bxn={$:0};}bxm=bxn;}else{bxm={$:0};}return bxm;};bxq=this.activeRows;bxr=A.choose(bxk,bxq);bxs=function(bxt){var bxu,bxv;if(bxt.$==1){bxv=bxt.$1;bxu={$:1,$0:bxv};}else{bxu={$:0};}return bxu;};bxw=this.activeRows;bxx=A.choose(bxs,bxw);bxy=function(bxz){var bxA,bxB;bxA=bxz[1];bxB=bxz[0];return y.Equals(bxB,bxC.calculateKey(bxA));};bxD=A.partition(bxy,bxr);bxE=bxD[1];bxF=bxD[0];bxG=function(bxH){var bxI,bxJ;bxI=bxH[0];bxJ=function(bxK){return bxK;};return A.map(bxJ,bxI);};bxL=A.map(bxG,bxE);bxM=bxj.concat(bxL);bxN=function(bxO){var bxP;bxP=bxO[1];return bxP;};bxQ=A.map(bxN,bxE);bxR=bxx.concat(bxQ);bxS=function(bxT){var bxU;bxU=bxT[1];return bxU;};bxV=A.map(bxS,bxF);bxW=function(bxX){var bxY;bxY=function(bxZ){return y.Equals(bxZ,null)?"":w(bxZ);};return A.map(bxY,bxX);};bx0=A.map(bxW,bxM);bx1=function(bx2){var bx3;bx3=function(bx4){return y.Equals(bx4,null)?"":w(bx4);};return A.map(bx3,bx2);};bx5=A.map(bx1,bxV);bx6=function(bx7){var bx8;bx8=function(bx9){return y.Equals(bx9,null)?"":w(bx9);};return A.map(bx8,bx7);};bx_=A.map(bx6,bxR);return[bx0,bx5,bx_];},processChange_:function(bx$){var bya,byb,byc,byd,bye,byg,byh,byj=this,byk,byl,byn,byo,byp,byv,byw,byx,byy,byz,byA,byB,byC,byD,byG,byN,byP,byQ,byR,byS,byT,byX,byY,byZ,by0,by1,by2,by3,by4,by5;if(bx$.$==5){byb=bx$.$1;byc=bx$.$0;byd=bx$.$2;this.keyIndexes=byd;this.columns=byb;bye=function(byf){byf.editor=Q.Editors.Text;return;};byg=this.columns;A.iter(bye,byg);byh=function(byi){return byj.composeRow_(byi);};this.activeRows=A.map(byh,byc);bya=void(byj.deletedRows=G.New($.New(g,{$:0})));}else{if(bx$.$==4){byk=bx$.$0;byj.deletedRows=G.New($.New(g,{$:0}));byl=function(bym){return byj.composeRow_(bym);};byn=A.map(byl,byk);byo=byj.activeRows;byp=function(byq){var byr,bys,byt,byu;if(byq.$==0){bys=byq.$1;byt=byq.$0;if(y.Equals(byj.calculateKey(bys),byt)){byq.$0;byq.$1;byu={$:1,$0:byq};}else{byu={$:0};}byr=byu;}else{byr={$:0};}return byr;};byv=A.choose(byp,byo);byj.activeRows=byv.concat(byn);bya=byj.grid.invalidateAllRows();}else{if(bx$.$==2){if(bx$.$0.$==0){byx=bx$.$0.$0;byy=byj.deletedRows;byw=void(byj.deletedRows=byy.Add(byx));}else{byw=null;}bya=byw;}else{if(bx$.$==3){byz=bx$.$0;byA=byj.separateRows_(byz);byB=byA[1];byC=byA[0];byD=function(byE){var byF;byE[0];byF=byE[1];return byF;};byj.activeRows=A.map(byD,byB);byG=function(byH){var byI,byJ,byK,byL,byM;if(byH[1].$==1){byJ=byH[1].$0;byH[0];byK={$:1,$0:byJ};byI={$:2,$0:byK};}else{byL=byH[1].$0;byH[0];byM={$:0,$0:byL};byI={$:2,$0:byM};}return byI;};byN=function(byO){return byj.processChange_(byO);};byP=A.map(byG,byC);bya=A.iter(byN,byP);}else{if(bx$.$==1){if(bx$.$0.$==0){byR=bx$.$0.$0;byS=bx$.$0.$1;byT=function(byU){var byV,byW;if(byU.$==0){byW=byU.$0;byV=y.Equals(byR,byW);}else{byV=false;}return byV;};byX=byj.activeRows;byY=A.findINdex(byT,byX);byZ=A.get(byj.activeRows,byY);if(byZ.$==0){by1=byZ.$0;by2=byZ.$1;by0=A.set(byj.activeRows,byY,$.New(bw,{$:0,$0:by1,$1:by2,$2:true}));}else{by0=null;}byQ=by0;}else{byQ=null;}bya=byQ;}else{if(bx$.$==0){by3=bx$.$1;by4=bx$.$0;bya=void(byj.activeRows=byj.activeRows.concat([$.New(bw,{$:1,$0:by4,$1:by3})]));}else{bya=null;}}}}}}by5={$:2,$0:bx$};return byj.sendMessage_(by5);},push:function(){var by6;by6=this.emptyItem_();return this.addItem0_(by6);},reRender:function(){return this.reRender_();},reRender_:function(){var by7,by8;if(this.grid.getContainerNode().clientWidth>0){if(y.Equals(this.haveAutoColumnSized,false)){this.haveAutoColumnSized=true;by8=this.columnSizePlugin.resizeAllColumns();}else{by8=null;}by7=by8;}else{by7=null;}return this.grid.render();},readData:function(by9,by_,by$){return this.readData_(by9,by_,by$);},readData_:function(bza,bzb,bzc){var bzd,bzg=this;bzd=m.call();return bzd.Delay(function(){var bzf;bzf={$:5,$0:bza,$1:bzb,$2:bzc};bzg.processChange_(bzf);bzg.grid.setColumns(bzg.columns);bzg.grid.updateRowCount();bzg.haveAutoColumnSized=false;bzg.reRender_();bzg.showInfo_(false,"");return bzd.Zero();});},removeData:function(){return this.removeData_();},removeData_:function(){var bzh,bzi;bzi=this.activeRows;bzh=z.toArray(bx.range(0,bzi.length-1));return this.deleteRows_(bzh);},savedData:function(bzj){return this.savedData_(bzj);},savedData_:function(bzk){var bzl;bzl={$:4,$0:bzk};this.processChange_(bzl);return this.reRender_();},selectRow_:function(bzm){var bzn,bzq,bzr,bzs,bzt,bzv,bzx=this,bzy,bzz;bzn=function(bzo){var bzp;bzo[0];bzp=bzo[1];return bzp;};bzq=this.activeCell_();bzr=B.map(bzn,bzq);bzs=S.defaultV(0,bzr);bzt=function(bzu){return y.Equals(bzu.rowId_(),bzm);};bzv=function(bzw){return bzx.grid.setActiveCell(bzw,bzs);};bzy=bzx.activeRows;bzz=z.tryFindIndex(bzt,bzy);return B.iter(bzv,bzz);},sendMessage_:function(bzA){var bzB,bzD,bzE;bzB=function(bzC){return bzC(bzA);};bzD=this.processMessage_O;bzE=B.map(bzB,bzD);return;},separateRows_:function(bzF){var bzG,bzJ,bzO,bzP,bzQ;bzG=function(bzH){return function(bzI){return[bzH,bzI];};};bzJ=function(bzK){var bzL,bzM;bzL=bzK[0];bzK[1];bzM=function(bzN){return bzL===bzN;};return z.exists(bzM,bzF);};bzO=this.activeRows;bzP=z.mapi(bzG,bzO);bzQ=z.toArray(bzP);return A.partition(bzJ,bzQ);},showInfo_:function(bzR,bzS){var bzT,bzU,bzV,bzW;bzT=[bzS,bzR];bzU=bzT[0];bzV=bzT[1];bzW={$:0,$0:bzU,$1:bzV};return this.sendMessage_(bzW);},subscribeGrid_:function(bzX){var bz5=this,bz6,bAg,bAT,bAV,bA5,bA6,bBd,bBu,bBF,bBI,bBN,bBS;bzX.onAddNewRow.subscribe(function(bzY,bzZ){var bz0,bz1;bz0=p.flow();bz1=bz0.Delay(function(){return bz0.Bind(p.tryProtection(),function(){var bz4;bz4=bzZ.item;return bz0.Return(bz5.addItem_(bz4));});});return p.notifyMessages(bz1);});bz6=function(bz7){var bz8;bz8=p.flow();return bz8.Delay(function(){return bz8.Bind(p.tryProtection(),function(){var bz$,bAa,bAb,bAc;if(bz5.doEvents){bzX.invalidateRow(bz7);bAa=bz5.activeRows;bAb=A.get(bAa,bz7);bAc={$:1,$0:bAb};bz5.processChange_(bAc);bz$=bz8.Zero();}else{bz$=bz8.Zero();}return bz$;});});};bzX.onCellChange.subscribe(function(bAd,bAe){var bAf;bAf=bz6(bAe.row);p.notifyMessages(bAf);return bz5.reRender_();});bAg=function(bAh){return function(bAi){var bAj;bAj=function(bAk){var bAl,bAm,bAo,bAp,bAq,bAr,bAs,bAu,bAv,bAw,bAx,bAy,bAz,bAA,bAB,bAC,bAD,bAE,bAF,bAG;bAl=E.SplitStrings(bAi,["\n\r","\n","\r"],0);bAm=function(bAn){return E.SplitStrings(bAn,["\u0009"],0);};bAo=(A.length(bAl)>1?A.get(bAl,A.length(bAl)-1)==="":false)?bg.array(bAl,{$:1,$0:0},{$:1,$0:A.length(bAl)-2}):bAl;bAp=z.map(bAm,bAo);bAq=bzX.getColumns();bAr=z.length(bAp);bAs=function(bAt){return bAt.length;};bAu=z.map(bAs,bAp);bAv=z.max(bAu);bAw=bx.step(bAk.fromRow,bAr,bAk.toRow);bAx=by.Get(bAw);try{while(bAx.MoveNext()){bAz=bAx.get_Current();bAA=bAk.fromRow===bAk.toRow?0:bAk.toRow-bAz+1;bAB=bx.step(bAk.fromCell,bAv,bAk.toCell);bAC=by.Get(bAB);try{while(bAC.MoveNext()){bAE=bAC.get_Current();bAF=bAk.fromCell===bAk.toCell?0:bAk.toCell-bAE+1;bAG=function(bAH){return function(bAI){var bAJ,bAK,bAL,bAM,bAS;if(bAA===0?true:bAH<bAA){bAK=bAz+bAH;bAL=bAK<A.length(bz5.activeRows)?A.get(bz5.activeRows,bAK).rowData_():bz5.emptyItem_();bAM=function(bAN){return function(bAO){var bAP,bAQ,bAR;if(bAF===0?true:bAN<bAF){bAQ=bAE+bAN;if(bAQ<A.length(bAq)?!(!A.get(bAq,bAQ).field):false){bAL[A.get(bAq,bAQ).field]=bAO;bAR=bAO;}else{bAR=null;}bAP=bAR;}else{bAP=null;}return bAP;};};z.iteri(bAM,bAI);bAS=bAK<A.length(bz5.activeRows)?bz6(bAK):bz5.addItem0_(bAL);bAJ=p.notifyMessages(bAS);}else{bAJ=null;}return bAJ;};};z.iteri(bAG,bAp);}}finally{bAC.Dispose!=undefined?bAC.Dispose():null;}}}finally{bAx.Dispose!=undefined?bAx.Dispose():null;}bzX.updateRowCount();return bz5.reRender_();};return B.iter(bAj,bAh);};};bAT=function(){return(v.getElementsByTagName("body"))[0];};bAV=function(bAW){return function(bAX){var bAY,bAZ,bA0,bA4;bAY=v.createElement("textarea");bAY.style.position="absolute";bAY.style.left="-2000px";bAY.style.top=bAT(null).top;bAY.value=bAW;bAZ=bAT(null).appendChild(bAY);bAY.select();bAY.focus();bA0=function(){var bA2,bA3;bA2=bAY.value;bA3=bAT(null).removeChild(bAY);return bAX(bA2);};bA4=bz(bA0,100);return;};};bA5=new Q.CellSelectionModel();bA6=function(){var bA8,bA9,bA_,bBc;bA8=bA5.getSelectedRanges();if(y.Equals(bA8,[])){bA_=function(bA$){var bBa,bBb;bBa=bA$[0];bBb=bA$[1];return{fromRow:bBa,fromCell:bBb,toRow:bBa,toCell:bBb};};bBc=bz5.activeCell_();bA9=B.map(bA_,bBc);}else{bA9={$:1,$0:A.get(bA8,0)};}return bA9;};bBd=function(){var bBf,bBg,bBt;bBf=bA6(null);bBg=function(bBh){var bBi,bBj;bBi=bzX.getColumns();bBj=z.toList(z.delay(function(){return z.collect(function(bBl){var bBm,bBn,bBo;if(bBl<A.length(bz5.activeRows)){bBn=A.get(bz5.activeRows,bBl).rowData_();bBo=z.toList(z.delay(function(){return z.collect(function(bBq){var bBr,bBs;if(bBq<A.length(bBi)?!(!A.get(bBi,bBq).field):false){bBs=A.get(bBi,bBq).field;bBr=[bBn[bBs]];}else{bBr=z.empty();}return bBr;},bx.range(bBh.fromCell,bBh.toCell));}));bBm=[E.concat("\u0009",bBo)];}else{bBm=z.empty();}return bBm;},bx.range(bBh.fromRow,bBh.toRow));}));return E.concat("\n",bBj);};bBt=B.map(bBg,bBf);return S.defaultV("",bBt);};bBu=function(bBv){var bBw;bBw=function(bBx){var bBy,bBz,bBA,bBB,bBC,bBD,bBE;bBy=bzX.getColumns();for(bBz=bBx.fromRow;bBz<=bBx.toRow;bBz++){if(bBz<A.length(bz5.activeRows)){bBB=A.get(bz5.activeRows,bBz).rowData_();for(bBC=bBx.fromCell;bBC<=bBx.toCell;bBC++){if(bBC<A.length(bBy)?!(!A.get(bBy,bBC).field):false){bBB[A.get(bBy,bBC).field]="";bBD="";}else{bBD=null;}}bBE=bz6(bBz);bBA=p.notifyMessages(bBE);}else{bBA=null;}}return bz5.reRender_();};return B.iter(bBw,bBv);};bBF=function(){var bBH;bBH=bzX.getCellEditor();return bBH;};bBI=function(){var bBK,bBL,bBM;bBK=bBF(null);if(y.Equals(bBK,null)?true:bBK.getValue()===""){bBM=bAg(bA6(null));bBL=(bAV(""))(bBM);}else{bBL=null;}return bBL;};bBN=function(bBO){var bBP,bBQ,bBR;bBP=bBF(null);if(y.Equals(bBP,null)){bBR=bBd(null);bBQ=(bAV(bBR))(bBO);}else{bBQ=null;}return bBQ;};bBS=function(){var bBU,bBV,bBW,bBX,bBY,bBZ,bB0,bB1,bB2,bB3;bBU=bBF(null);if(y.Equals(bBU,null)){bBW=bA6(null);if(bBW.$==1){bBY=bBW.$0;if(bBY.fromCell===0?bBY.toCell===A.length(bz5.columns)-1:false){bB0=bBW.$0;bB1=z.toArray(bx.range(bB0.fromRow,bB0.toRow));bBZ=bz5.deleteRows_(bB1);}else{if(bBW.$==1){bBW.$0;bB2=bBu(bBW);}else{bB2=null;}bBZ=bB2;}bBX=bBZ;}else{if(bBW.$==1){bBW.$0;bB3=bBu(bBW);}else{bB3=null;}bBX=bB3;}bBV=bBX;}else{bBV=null;}return bBV;};bzX.onKeyDown.subscribe(function(bB4){var bB5,bB6,bB7,bB9,bB_,bB$,bCa,bCb,bCc,bCd,bCe,bCf,bCg,bCh,bCi,bCj,bCk,bCl,bCm,bCn,bCo,bCq,bCr,bCs,bCt,bCu,bCv,bCx,bCy,bCz,bCA,bCB,bCD,bCE,bCG,bCH,bCI,bCJ,bCK,bCL,bCN,bCO,bCP,bCQ,bCR,bCS,bCT,bCU,bCV,bCW;bB5=[bB4.key,bB4.ctrlKey,bB4.altKey];if(bB5[0]==="Insert"){if(bB5[1]){bB7=bB5[2]?null:bBN(function(){return null;});}else{if(bB5[2]){bB9=bBI(null);}else{bB_=bB5[0];if(bB_.length===1){bCa=bB5[0];bB$=bz5.editCell2_(bCa);}else{bB$=null;}bB9=bB$;}bB7=bB9;}bB6=bB7;}else{if(bB5[0]==="V"){if(bB5[1]){bCc=bB5[2]?null:bBI(null);}else{if(bB5[2]){bCd=null;}else{bCe=bB5[0];if(bCe.length===1){bCg=bB5[0];bCf=bz5.editCell2_(bCg);}else{bCf=null;}bCd=bCf;}bCc=bCd;}bCb=bCc;}else{if(bB5[0]==="v"){if(bB5[1]){bCi=bB5[2]?null:bBI(null);}else{if(bB5[2]){bCj=null;}else{bCk=bB5[0];if(bCk.length===1){bCm=bB5[0];bCl=bz5.editCell2_(bCm);}else{bCl=null;}bCj=bCl;}bCi=bCj;}bCh=bCi;}else{if(bB5[0]==="C"){if(bB5[1]){bCo=bB5[2]?null:bBN(function(){return null;});}else{if(bB5[2]){bCq=null;}else{bCr=bB5[0];if(bCr.length===1){bCt=bB5[0];bCs=bz5.editCell2_(bCt);}else{bCs=null;}bCq=bCs;}bCo=bCq;}bCn=bCo;}else{if(bB5[0]==="c"){if(bB5[1]){bCv=bB5[2]?null:bBN(function(){return null;});}else{if(bB5[2]){bCx=null;}else{bCy=bB5[0];if(bCy.length===1){bCA=bB5[0];bCz=bz5.editCell2_(bCA);}else{bCz=null;}bCx=bCz;}bCv=bCx;}bCu=bCv;}else{if(bB5[0]==="Delete"){bCB=bB5[1]?null:bB5[2]?bBN(function(){return bBS(null);}):bBS(null);}else{if(bB5[0]==="X"){if(bB5[1]){bCE=bB5[2]?null:bBN(function(){return bBS(null);});}else{if(bB5[2]){bCG=null;}else{bCH=bB5[0];if(bCH.length===1){bCJ=bB5[0];bCI=bz5.editCell2_(bCJ);}else{bCI=null;}bCG=bCI;}bCE=bCG;}bCD=bCE;}else{if(bB5[0]==="x"){if(bB5[1]){bCL=bB5[2]?null:bBN(function(){return bBS(null);});}else{if(bB5[2]){bCN=null;}else{bCO=bB5[0];if(bCO.length===1){bCQ=bB5[0];bCP=bz5.editCell2_(bCQ);}else{bCP=null;}bCN=bCP;}bCL=bCN;}bCK=bCL;}else{if(bB5[0]==="F2"){bCR=bB5[1]?null:bB5[2]?null:bz5.editCell_();}else{if(bB5[1]){bCS=null;}else{if(bB5[2]){bCT=null;}else{bCU=bB5[0];if(bCU.length===1){bCW=bB5[0];bCV=bz5.editCell2_(bCW);}else{bCV=null;}bCT=bCV;}bCS=bCT;}bCR=bCS;}bCK=bCR;}bCD=bCK;}bCB=bCD;}bCu=bCB;}bCn=bCu;}bCh=bCn;}bCb=bCh;}bB6=bCb;}return bB6;});bzX.setSelectionModel(bA5);bzX.onDblClick.subscribe(function(bCX,bCY){var bCZ,bC0,bC1,bC2;bCZ=bCY.row;if(bCZ<bz5.activeRows.length){bC1=A.get(bz5.activeRows,bCZ);bC2={$:6,$0:bC1};bC0=bz5.processChange_(bC2);}else{bC0=null;}return bC0;});return bzX.onHeaderClick.subscribe(function(bC3,bC4){var bC5;bC5="Event: "+$$.String(bC3)+", Args: "+$$.String(bC4);return V?V.log(bC5):undefined;});}},{New:function(bC6){var bC7;bC7=$.New(this,{});bC7.processMessage_O=bC6;bC7.activeRows=[];bC7.deletedRows=G.New($.New(g,{$:0}));bC7.columns=[];bC7.grid=null;bC7.keyIndexes=[];bC7.doEvents=true;bC7.columnSizePlugin=new Q.AutoColumnSize(500);bC7.haveAutoColumnSized=false;bC7.getItemMetadata0={};return bC7;}}),GridSync:function(bC8,bC9){var bC_,bC$,bDh,bDj,bDk,bDl,bDm,bDn,bDo,bDp,bDs,bDt,bDu;bC_=bi.New({$:0});bC$=function(){var bDb;bDb=m.call();return bDb.Delay(function(){return bDb.Bind(r.Async("CIPHERPrototype2:13",[bC8,bC9]),function(bDd){var bDe,bDf,bDg;bDe=bDd[2];bDf=bDd[0];bDg=bDd[1];bC_.readData(bDf,bDg,bDe);return bDb.Zero();});});};bDh=function(bDi){bC_.createGrid(bC_,bDi);return bC$(null);};bDj=f.ofArray([k.Attr().NewAttr("class","flex flexgrow")]);bDk=l.Tags().NewTag("div",bDj);bDn=f.ofArray([l.Tags().text("reload")]);bDo=l.Tags().NewTag("button",bDn);bDp=function(){return function(){return bC$(null);};};t.Events().OnClick(bDp,bDo);bDs=f.ofArray([l.Tags().text("save")]);bDt=l.Tags().NewTag("button",bDs);bDu=function(){return function(){return null;};};t.Events().OnClick(bDu,bDt);bDm=f.ofArray([bDo,bDt]);bDl=f.ofArray([l.Tags().NewTag("div",bDm),bDk]);return[bDl,bDk,function(bDx){return bDh(bDx);}];},RowT:$.Class({rowData_:function(){var bDy,bDz,bDA;if(this.$==1){bDz=this.$1;bDy=bDz;}else{bDA=this.$1;bDy=bDA;}return bDy;},rowId_:function(){var bDB,bDC,bDD;if(this.$==1){bDC=this.$0;bDB={$:1,$0:bDC};}else{bDD=this.$0;bDB={$:0,$0:bDD};}return bDB;}}),SimpleGrid:function(bDE,bDF,bDG,bDH,bDI){var bDJ,bDP;bDJ=function(bDK){return function(bDL){var bDM,bDN,bDO;bDM=(bDG(bDK))(bDL);bDN=bDM[1];bDO=bDM[0];bDN.id=bDO;return bDN;};};bDP=p.flow();return bDP.Delay(function(){var bDR,bDV,bDW,bDX,bDY,bD1,bD3,bEa,bEj,bEX,bE7,bE8,bFf,bFw,bFG,bFJ,bFO,bFT,bG3,bG4,bG9;bDR=function(bDS){var bDT;bDT=function(bDU){return bDU(bDS);};return B.iter(bDT,bDH);};bDV=new Q.Data.DataView({inlineFilters:false});bDW=new Q.Grid(bDI,bDV,bDE,x.gridOptions());bDX=[false];bDY=function(){var bD0;bD0=bDW.getActiveCell();return y.Equals(bD0,null)?{$:0}:{$:1,$0:[bD0.row,bD0.cell]};};bD1=function(){return bDW.editActiveCell();};bD3=function(){var bD5,bD6;bD5=bDY(null);bD6=function(bD7){var bD8,bD9,bD_,bD$;bD8=bD7[0];bD7[1];if(bD8>=bDV.getLength()){bD_=[];bD9=bDV.addItem((bDJ(bD_))(bDV.getLength()));}else{bD9=null;}bD$=bDW.getCellEditor();return y.Equals(bD$,null)?bDW.editActiveCell():null;};return B.iter(bD6,bD5);};bEa=function(){bDW.getContainerNode().clientWidth>0?(y.Equals(bDX[0],false)?bDV.getLength()>1:false)?void(bDX[0]=true):null:null;return bDW.render();};bDV.onRowCountChanged.subscribe(function(){bDW.updateRowCount();return bDW.render();});bDV.onRowsChanged.subscribe(function(bEc,bEd){bDW.invalidateRows(bEd.rows);return bDW.render();});bDV.push=function(bEe){return bDV.addItem((bDJ(bEe))(bDV.getLength()));};bDW.onAddNewRow.subscribe(function(bEf,bEg){bDW.invalidateRow(bDV.getLength());bDV.addItem((bDJ(bEg.item))(bDV.getLength()));bDW.updateRowCount();return bEa(null);});bDW.onCellChange.subscribe(function(bEh,bEi){bDW.invalidateRow(bEi.row);bDV.getItems();return bEa(null);});bEj=function(bEk){return function(bEl){var bEm;bEm=function(bEn){var bEo,bEp,bEr,bEs,bEt,bEu,bEv,bEx,bEy,bEz,bEA,bEB,bEC,bED,bEE,bEF,bEG,bEH,bEI,bEJ;bEo=E.SplitStrings(bEl,["\n\r","\n","\r"],0);bEp=function(bEq){return E.SplitStrings(bEq,["\u0009"],0);};bEr=(A.length(bEo)>1?A.get(bEo,A.length(bEo)-1)==="":false)?bg.array(bEo,{$:1,$0:0},{$:1,$0:A.length(bEo)-2}):bEo;bEs=z.map(bEp,bEr);bDV.beginUpdate();bEt=bDW.getColumns();bEu=z.length(bEs);bEv=function(bEw){return bEw.length;};bEx=z.map(bEv,bEs);bEy=z.max(bEx);bEz=bx.step(bEn.fromRow,bEu,bEn.toRow);bEA=by.Get(bEz);try{while(bEA.MoveNext()){bEC=bEA.get_Current();bED=bEn.fromRow===bEn.toRow?0:bEn.toRow-bEC+1;bEE=bx.step(bEn.fromCell,bEy,bEn.toCell);bEF=by.Get(bEE);try{while(bEF.MoveNext()){bEH=bEF.get_Current();bEI=bEn.fromCell===bEn.toCell?0:bEn.toCell-bEH+1;bEJ=function(bEK){return function(bEL){var bEM,bEN,bEO,bEP,bEQ,bER;if(bED===0?true:bEK<bED){bEN=bEC+bEK;if(bEN<bDV.getLength()){bEP=bDV.getItem(bEN);}else{bEQ=[];bEP=(bDJ(bEQ))(bEN);}bEO=bEP;bER=function(bES){return function(bET){var bEU,bEV,bEW;if(bEI===0?true:bES<bEI){bEV=bEH+bES;if(bEV<A.length(bEt)?!(!A.get(bEt,bEV).field):false){bEO[A.get(bEt,bEV).field]=bET;bEW=bET;}else{bEW=null;}bEU=bEW;}else{bEU=null;}return bEU;};};z.iteri(bER,bEL);bEM=bEN<bDV.getLength()?bDV.updateItem(bEO.id,bEO):bDV.addItem(bEO);}else{bEM=null;}return bEM;};};z.iteri(bEJ,bEs);}}finally{bEF.Dispose!=undefined?bEF.Dispose():null;}}}finally{bEA.Dispose!=undefined?bEA.Dispose():null;}return bDV.endUpdate();};return B.iter(bEm,bEk);};};bEX=function(bEY){return function(bEZ){var bE0,bE1,bE2,bE6;bE0=v.createElement("textarea");bE0.style.position="absolute";bE0.style.left="-2000px";bE0.style.top=bDI.top;bE0.value=bEY;bE1=bDI.appendChild(bE0);bE0.select();bE0.focus();bE2=function(){var bE4,bE5;bE4=bE0.value;bE5=bDI.removeChild(bE0);return bEZ(bE4);};bE6=bz(bE2,100);return;};};bE7=new Q.CellSelectionModel();bE8=function(){var bE_,bE$,bFa,bFe;bE_=bE7.getSelectedRanges();if(y.Equals(bE_,[])){bFa=function(bFb){var bFc,bFd;bFc=bFb[0];bFd=bFb[1];return{fromRow:bFc,fromCell:bFd,toRow:bFc,toCell:bFd};};bFe=bDY(null);bE$=B.map(bFa,bFe);}else{bE$={$:1,$0:A.get(bE_,0)};}return bE$;};bFf=function(){var bFh,bFi,bFv;bFh=bE8(null);bFi=function(bFj){var bFk,bFl;bFk=bDW.getColumns();bFl=z.toList(z.delay(function(){return z.collect(function(bFn){var bFo,bFp,bFq;if(bFn<bDV.getLength()){bFp=bDV.getItem(bFn);bFq=z.toList(z.delay(function(){return z.collect(function(bFs){var bFt,bFu;if(bFs<A.length(bFk)?!(!A.get(bFk,bFs).field):false){bFu=A.get(bFk,bFs).field;bFt=[bFp[bFu]];}else{bFt=z.empty();}return bFt;},bx.range(bFj.fromCell,bFj.toCell));}));bFo=[E.concat("\u0009",bFq)];}else{bFo=z.empty();}return bFo;},bx.range(bFj.fromRow,bFj.toRow));}));return E.concat("\n",bFl);};bFv=B.map(bFi,bFh);return S.defaultV("",bFv);};bFw=function(bFx){var bFy;bFy=function(bFz){var bFA,bFB,bFC,bFD,bFE,bFF;bDV.beginUpdate();bFA=bDW.getColumns();for(bFB=bFz.fromRow;bFB<=bFz.toRow;bFB++){if(bFB<bDV.getLength()){bFD=bDV.getItem(bFB);for(bFE=bFz.fromCell;bFE<=bFz.toCell;bFE++){if(bFE<A.length(bFA)?!(!A.get(bFA,bFE).field):false){bFD[A.get(bFA,bFE).field]="";bFF="";}else{bFF=null;}}bFC=bDV.updateItem(bFD.id,bFD);}else{bFC=null;}}return bDV.endUpdate();};return B.iter(bFy,bFx);};bFG=function(){var bFI;bFI=bDW.getCellEditor();return bFI;};bFJ=function(){var bFL,bFM,bFN;bFL=bFG(null);if(y.Equals(bFL,null)?true:bFL.getValue()===""){bFN=bEj(bE8(null));bFM=(bEX(""))(bFN);}else{bFM=null;}return bFM;};bFO=function(bFP){var bFQ,bFR,bFS;bFQ=bFG(null);if(y.Equals(bFQ,null)){bFS=bFf(null);bFR=(bEX(bFS))(bFP);}else{bFR=null;}return bFR;};bFT=function(){var bFV,bFW,bFX,bFY,bFZ,bF0,bF1,bF2,bF4,bF6,bF7,bF8,bF9;bFV=bFG(null);if(y.Equals(bFV,null)){bFX=bE8(null);if(bFX.$==1){bFZ=bFX.$0;if(bFZ.fromCell===0?bFZ.toCell===A.length(bDE)-1:false){bF1=bFX.$0;bF2=function(bF3){return bDV.getItem(bF3).id;};bF4=function(bF5){return bDV.deleteItem(bF5);};bF6=z.toList(bx.range(bF1.fromRow,bF1.toRow));bF7=z.map(bF2,bF6);bF0=z.iter(bF4,bF7);}else{if(bFX.$==1){bFX.$0;bF8=bFw(bFX);}else{bF8=null;}bF0=bF8;}bFY=bF0;}else{if(bFX.$==1){bFX.$0;bF9=bFw(bFX);}else{bF9=null;}bFY=bF9;}bFW=bFY;}else{bFW=null;}return bFW;};bDW.onKeyDown.subscribe(function(bF_){var bF$,bGa,bGb,bGd,bGe,bGf,bGg,bGh,bGi,bGj,bGk,bGl,bGm,bGn,bGo,bGp,bGq,bGr,bGs,bGt,bGu,bGw,bGx,bGy,bGz,bGA,bGB,bGD,bGE,bGF,bGG,bGH,bGJ,bGK,bGM,bGN,bGO,bGP,bGQ,bGR,bGT,bGU,bGV,bGW,bGX,bGY,bGZ,bG0,bG1,bG2;bF$=[bF_.key,bF_.ctrlKey,bF_.altKey];if(bF$[0]==="Insert"){if(bF$[1]){bGb=bF$[2]?null:bFO(function(){return null;});}else{if(bF$[2]){bGd=bFJ(null);}else{bGe=bF$[0];if(bGe.length===1){bGg=bF$[0];bGf=bD3(bGg);}else{bGf=null;}bGd=bGf;}bGb=bGd;}bGa=bGb;}else{if(bF$[0]==="V"){if(bF$[1]){bGi=bF$[2]?null:bFJ(null);}else{if(bF$[2]){bGj=null;}else{bGk=bF$[0];if(bGk.length===1){bGm=bF$[0];bGl=bD3(bGm);}else{bGl=null;}bGj=bGl;}bGi=bGj;}bGh=bGi;}else{if(bF$[0]==="v"){if(bF$[1]){bGo=bF$[2]?null:bFJ(null);}else{if(bF$[2]){bGp=null;}else{bGq=bF$[0];if(bGq.length===1){bGs=bF$[0];bGr=bD3(bGs);}else{bGr=null;}bGp=bGr;}bGo=bGp;}bGn=bGo;}else{if(bF$[0]==="C"){if(bF$[1]){bGu=bF$[2]?null:bFO(function(){return null;});}else{if(bF$[2]){bGw=null;}else{bGx=bF$[0];if(bGx.length===1){bGz=bF$[0];bGy=bD3(bGz);}else{bGy=null;}bGw=bGy;}bGu=bGw;}bGt=bGu;}else{if(bF$[0]==="c"){if(bF$[1]){bGB=bF$[2]?null:bFO(function(){return null;});}else{if(bF$[2]){bGD=null;}else{bGE=bF$[0];if(bGE.length===1){bGG=bF$[0];bGF=bD3(bGG);}else{bGF=null;}bGD=bGF;}bGB=bGD;}bGA=bGB;}else{if(bF$[0]==="Delete"){bGH=bF$[1]?null:bF$[2]?bFO(function(){return bFT(null);}):bFT(null);}else{if(bF$[0]==="X"){if(bF$[1]){bGK=bF$[2]?null:bFO(function(){return bFT(null);});}else{if(bF$[2]){bGM=null;}else{bGN=bF$[0];if(bGN.length===1){bGP=bF$[0];bGO=bD3(bGP);}else{bGO=null;}bGM=bGO;}bGK=bGM;}bGJ=bGK;}else{if(bF$[0]==="x"){if(bF$[1]){bGR=bF$[2]?null:bFO(function(){return bFT(null);});}else{if(bF$[2]){bGT=null;}else{bGU=bF$[0];if(bGU.length===1){bGW=bF$[0];bGV=bD3(bGW);}else{bGV=null;}bGT=bGV;}bGR=bGT;}bGQ=bGR;}else{if(bF$[0]==="F2"){bGX=bF$[1]?null:bF$[2]?null:bD1(null);}else{if(bF$[1]){bGY=null;}else{if(bF$[2]){bGZ=null;}else{bG0=bF$[0];if(bG0.length===1){bG2=bF$[0];bG1=bD3(bG2);}else{bG1=null;}bGZ=bG1;}bGY=bGZ;}bGX=bGY;}bGQ=bGX;}bGJ=bGQ;}bGH=bGJ;}bGA=bGH;}bGt=bGA;}bGn=bGt;}bGh=bGn;}bGa=bGh;}return bGa;});bDW.setSelectionModel(bE7);bG3=_8(bDI).bind("resize",function(){bEa(null);return bDW.autosizeColumns();});bG4=function(bG5){var bG6;bG6=function(bG7){return function(bG8){bG8.id=bG7;};};A.iteri(bG6,bG5);return bDV.setItems(bG5);};bG4(bDF);bDW.autosizeColumns();bG9=function(bG_){var bG$,bHa,bHb,bHc;if(bG_.$==0){bDV.setItems([]);bG$=bDW.autosizeColumns();}else{if(bG_.$==3){bHa=bG_.$0;bG4(bHa);bDW.invalidateAllRows();bEa(null);bG$=bDW.autosizeColumns();}else{if(bG_.$==2){bHb=bDW.getColumns();bG$=bDR({$:3,$0:bHb});}else{bHc=bDV.getItems();bG$=bDR({$:2,$0:bHc});}}}return bG$;};bDR({$:1,$0:bG9});return bDP.Zero();});},gridOptions:$.Field(function(){return{enableColumnReorder:true,enableCellNavigation:true,editable:true,enableAddRow:true,autoEdit:false,syncColumnCellResize:true,headerRowHeight:45};})},TestFS:{getData:function(bHd){var bHe;bHe=bHd.dataTransfer.getData.apply(bHd.dataTransfer,["text"]);return bHe;},getDimByNameR_:function(bHf,bHg){var bHh,bHl,bHm,bHn;bHh=function(bHi){var bHj,bHk;bHj=bHi[0];bHi[1];bHk=bHi[2];bHi[3];return bHk===bHg?{$:1,$0:bHj}:{$:0};};bHl=z.choose(bHh,bHf);bHm=bb.tryHead(bHl);bHn={$:22,$0:"dimension",$1:bHg};return p.fromOption(bHn,bHm);},initW_:function(bHo,bHp,bHq){var bHr;bHr=bd.wrap();return bHr.Delay(function(){return bHr.Bind(bm.initW_(bHp,bHq),function(bHt){return bHr.Return({search1:bn.init(),search2:bn.init(),menuBar:bHt,dimModel:ba.init(),token:bHp,dimensions:bHo,selected:{$:0},hover:{$:0}});});});},preventDefault:function(bHu){var bHv;bHv=bHu.preventDefault.apply(bHu,null);return;},setData:function(bHw,bHx){var bHy;bHy=bHw.dataTransfer.setData.apply(bHw.dataTransfer,["text",bHx]);return;},showForm_:function(bHz){var bHA;bHA=bd.wrap();return bd.call(bHA.Delay(function(){return bHA.Bind2(p.tryProtection(),function(){return bHA.Bind1(r.Async("CIPHERPrototype2:17",[]),function(bHD){return bHA.Bind1(r.Async("CIPHERPrototype2:12",[]),function(bHE){return bHA.Bind2(bA.getDimByNameR_(bHE,"_Navigation"),function(bHF){return bHA.Bind(bA.initW_(bHE,bHD,bHF),function(bHG){U.run(bHz,U.app(bHG,function(bHH){return function(bHI){return bA.update(bHH,bHI);};},function(bHJ){return function(bHK){return bA.view(bHJ,bHK);};}));return bHA.Zero();});});});});});}));},text:function(bHL){return f.ofArray([h.H3(f.ofArray([{$:1,$0:bHL}])),h._Style(f.ofArray([h._background(bHL)]))]);},update:function(bHM,bHN){var bHO,bHP,bHQ,bHR,bHS,bHT,bHU,bHV,bHW,bHX;if(bHM.$==1){bHP=bHM.$0;bHQ=bn.update(bHP,bHN.search2);bHO={search1:bHN.search1,search2:bHQ,menuBar:bHN.menuBar,dimModel:bHN.dimModel,token:bHN.token,dimensions:bHN.dimensions,selected:bHN.selected,hover:bHN.hover};}else{if(bHM.$==2){bHR=bHM.$0;bHS=bm.update(bHR,bHN.menuBar);bHO={search1:bHN.search1,search2:bHN.search2,menuBar:bHS,dimModel:bHN.dimModel,token:bHN.token,dimensions:bHN.dimensions,selected:bHN.selected,hover:bHN.hover};}else{if(bHM.$==3){bHT=bHM.$0;bHU=ba.update(bHT,bHN.dimModel);bHO={search1:bHN.search1,search2:bHN.search2,menuBar:bHN.menuBar,dimModel:bHU,token:bHN.token,dimensions:bHN.dimensions,selected:bHN.selected,hover:bHN.hover};}else{if(bHM.$==5){bHV=bHM.$0;bHO={search1:bHN.search1,search2:bHN.search2,menuBar:bHN.menuBar,dimModel:bHN.dimModel,token:bHN.token,dimensions:bHN.dimensions,selected:bHV,hover:bHN.hover};}else{if(bHM.$==4){bHW=bHM.$0;bHO={search1:bHN.search1,search2:bHN.search2,menuBar:bHN.menuBar,dimModel:bHN.dimModel,token:bHN.token,dimensions:bHN.dimensions,selected:bHN.selected,hover:bHW};}else{bHX=bHM.$0;bHO={search1:bn.update(bHX,bHN.search1),search2:bHN.search2,menuBar:bHN.menuBar,dimModel:bHN.dimModel,token:bHN.token,dimensions:bHN.dimensions,selected:bHN.selected,hover:bHN.hover};}}}}}return bHO;},view:function(bHY,bHZ){var bH0,bH2,bH4,bH5,bIc,bIg,bIh,bIN,bIO,bIP,bIQ,bIR,bIS,bIT,bIU,bIV,bIW,bIX,bIZ,bI0,bI1,bI2,bI3,bI4,bI5;bH0=bm.view(bHY.menuBar,function(bH1){return bHZ({$:2,$0:bH1});});bH2=ba.view(bHY.dimModel,function(bH3){return bHZ({$:3,$0:bH3});});bH4=be.Children(bH2);bH5=function(bH6){var bH7,bH8,bIb;bH7=bHY.dimensions;bH8=function(bH9){var bH_,bH$,bIa;bH_=bH9[0];bH$=bH9[1];bH9[2];bH9[3];bIa=[];bIa[1]=bH_;bIa[0]=1;while(bIa[0]){bIa[0]=0;bIa[1]="Dimension "+n.prettyPrint(bIa[1].$0);}return bH6===bIa[1]?{$:1,$0:bH_}:{$:0};};bIb=z.choose(bH8,bH7);return z.head(bIb);};bIc=function(bId){var bIe;bIe={$:1,$0:bId};bHZ({$:5,$0:bIe});return ba.selectDimension_(bHY.token,function(bIf){return bHZ({$:3,$0:bIf});},bId);};bIg=bHY.dimensions;bIh=function(bIi){var bIj,bIk,bIl,bIm,bIn,bIo,bIp,bIq,bIr,bIs,bIu,bIy,bIE,bIJ;bIj=bIi[0];bIk=bIi[1];bIl=bIi[2];bIm=bIi[3];bIn=y.Equals(bHY.hover,{$:1,$0:bIj.get_dimensionId()});bIo=y.Equals({$:1,$0:bIj},bHY.selected)?["groove","lightblue"]:["none",bIn?"#e6e6e6":"transparent"];bIp=bIo[1];bIq=bIo[0];bIr=h.Div(f.ofArray([h._Style(f.ofArray([h._padding("4px"),h._borderStyle(bIq),h._borderWidth("1px"),h._background(bIp),h._cursor("pointer")])),h.Draggable(true),h.H4(f.ofArray([{$:1,$0:"\ue032 "},h._Style(f.ofArray([h._display("inline"),h._fontFamily("Glyphicons Halflings")]))])),h.H4(f.ofArray([{$:1,$0:bIl},h._Style(f.ofArray([h._display("inline")]))]))]));bIs=(h.OnDrop(function(bIt){bA.preventDefault(bIt);return bIc(bH5(bA.getData(bIt)));}))(bIr);bIu=(h.OnDragStart(function(bIv){var bIw,bIx;bIw=[];bIw[1]=bIj;bIw[0]=1;while(bIw[0]){bIw[0]=0;bIw[1]="Dimension "+n.prettyPrint(bIw[1].$0);}bIx=bIw[1];return bA.setData(bIv,bIx);}))(bIs);bIy=(h.OnDragOver(function(bIz){var bIA,bIB,bIC,bID;if(E.StartsWith(bA.getData(bIz),"Dimension")){bA.preventDefault(bIz);if(!y.Equals(bHY.hover,{$:1,$0:bIj.get_dimensionId()})){bIC=bIj.get_dimensionId();bID={$:1,$0:bIC};bIB=bHZ({$:4,$0:bID});}else{bIB=null;}bIA=bIB;}else{bIA=null;}return bIA;}))(bIu);bIE=(h.OnMouseOver(function(){var bIG,bIH,bII;if(!y.Equals(bHY.hover,{$:1,$0:bIj.get_dimensionId()})){bIH=bIj.get_dimensionId();bII={$:1,$0:bIH};bIG=bHZ({$:4,$0:bII});}else{bIG=null;}return bIG;}))(bIy);bIJ=(h.OnMouseOut(function(){var bIL;bIL={$:0};return bHZ({$:4,$0:bIL});}))(bIE);return(h.OnClick(function(){return bIc(bIj);}))(bIJ);};bIN=z.map(bIh,bIg);bIO=h.Span(f.ofArray([{$:1,$0:"Dimensions"},h._Style(f.ofArray([h._margin("5px"),h.newAttr("fontSize","30px")]))]));bIP=be.BasicContainer(f.ofArray([bIO]),$.New(g,{$:0}),bIN);bIQ=f.ofArray([h._Style(f.ofArray([h._flexFlow("column")]))]);bIR=((h.addAttributes())(bIQ))(bIP);bIS=be.Children(bIR);bIT=be.BasicContainer(bIS,$.New(g,{$:0}),bH4);bIU=f.ofArray([h._Style(f.ofArray([h._flexFlow("row"),h._flex("1 0")]))]);bIV=((h.addAttributes())(bIU))(bIT);bIX=bn.view(bHY.search2,function(bIY){return bHZ({$:1,$0:bIY});});bIZ=f.ofArray([h._Style(f.ofArray([h._flex("1 0"),h._background("lightsalmon")]))]);bIW=f.ofArray([bIV,h.addChildren(bIZ,bIX)]);bI0=$.New(g,{$:1,$0:h._Style(f.ofArray([h._display("flex")])),$1:bIW});bI1=f.ofArray([bH0]);bI2=bA.text("green");bI3=bA.text("blue");bI4=bA.text("yellow");bI5=be.HorizontalSplitter(bI1,bI2,bI3,bI4,bI0);return be.Stretch(bI5);}},UploadForm:{createNodes:function(bI6){var bI7,bJa,bJl;bI7=function(bI8){var bI9,bI$;bI9=function(bI_){return y.Equals(bI_.parentCode,bI8);};bI$=bI6.folders;return z.filter(bI9,bI$);};bJa=function(bJb){var bJc,bJe,bJf,bJg;bJc=function(bJd){return y.Equals(bJd.parentCode,bJb);};bJe=bI6.files;bJf=z.filter(bJc,bJe);bJg=function(bJh){var bJi,bJj;bJi=bI6.sortBy;bJj=function(bJk){return bJk.$==1?bJh.modified:bJk.$==2?bJh.tags.toLowerCase():bJk.$==3?bJh.contentType.toLowerCase():bJk.$==4?bJh.size:bJh.name.toLowerCase();};return f.map(bJj,bJi);};return z.sortBy(bJg,bJf);};bJl=function(bJm){var bJn,bJp,bJq,bJs,bJt,bJu,bJz,bJA,bJB,bJD,bJE,bJF,bJH,bJI,bJJ,bJL,bJM,bJN;bJn=function(bJo){return bJo.id;};bJp=B.map(bJn,bJm);bJq=function(bJr){return bJl({$:1,$0:bJr});};bJs=bI7(bJp);bJt=z.map(bJq,bJs);bJu=function(bJv){var bJw,bJx,bJy;bJw=w(bJv.id);bJx=bJv.name;bJy=[];return{key:bJw,title:bJx,tag:"",detail:bJv,folder:false,children:bJy};};bJz=bJa(bJp);bJA=z.map(bJu,bJz);bJB=function(bJC){return w(bJC.id);};bJD=B.map(bJB,bJm);bJE=S.defaultV("/",bJD);bJF=function(bJG){return bJG.name;};bJH=B.map(bJF,bJm);bJI=S.defaultV("/",bJH);bJJ=function(bJK){return bJK;};bJL=B.map(bJJ,bJm);bJM=S.defaultV(null,bJL);bJN=z.append(bJt,bJA);return{key:bJE,title:bJI,tag:"",detail:bJM,folder:true,children:z.toArray(bJN)};};return bJl({$:0}).children;},getFileName_:function(){var bJO,bJP;bJO=p.flow();bJP=bJO.Delay(function(){return bJO.Bind(bB.getUploadFileRO_(),function(bJR){var bJS,bJU;bJS=function(bJT){return bJT.name;};bJU=B.map(bJS,bJR);return bJO.Return(S.defaultV("",bJU));});});return p.ifError("",bJP);},getUploadFileRO_:function(){var bJV;bJV=p.flow();return bJV.Delay(function(){return bJV.Bind(p.tryProtection(),function(){var bJY;bJY=v.getElementById("filesel").files;return bJV.Return(A.tryHead(bJY));});});},init:function(bJZ,bJ0,bJ1,bJ2,bJ3){var bJ4,bJ5,bJ6,bJ7;bJ4=N.init(bJZ);bJ5={$:0};bJ6={$:0};bJ7=f.ofArray([{$:0},{$:2},{$:1},{$:3},{$:4}]);return{form:bJ4,dialog:O.init(),popup:P.init(),treeViewProcessorO:bJ5,relationsCallback:bJ6,folders:bJ0,files:bJ1,sortBy:bJ7,uploadName:"",uploadFolder:{$:0},themeTags:bJ2,showDialog:{$:6},client:bJ3,lastUpload:{$:0}};},runApp_:function(bJ8,bJ9,bJ_){var bJ$,bKa,bKc,bKi,bKo,bKu,bKB,bKL,bKQ,bKT,bKY,bK2,bK6,bK_,bLk,bLs,bLw,bLA,bLF,bLK,bL8,bL_,bMC,bN0,bN3;bJ$=[{$:0}];bKa=function(bKb){return bJ$[0].$==0?void(bJ$[0]=bKb):null;};bKc=function(bKd){var bKe,bKg,bKh;bKe=function(bKf){return bKf(bKd);};bKg=bJ$[0];bKh=B.map(bKe,bKg);return;};bKi=function(bKj){var bKk,bKl,bKm,bKn;bKk=[bKj,true];bKl=bKk[0];bKm=bKk[1];bKn={$:0,$0:bKl,$1:bKm};return bKc({$:6,$0:bKn});};bKo=function(bKp){var bKq,bKr,bKs,bKt;bKq=[bKp,false];bKr=bKq[0];bKs=bKq[1];bKt={$:0,$0:bKr,$1:bKs};return bKc({$:6,$0:bKt});};bKu=function(){var bKw;bKw=function(bKx){var bKy,bKz,bKA;bKy=bB.createNodes(bKx);bKz={$:2,$0:bKy};bKA={$:9,$0:bKz};return bB.update(bKA,bKx);};return bKc({$:12,$0:bKw});};bKB=function(bKC){var bKD;bKD=m.call();return bKD.Delay(function(){return bKD.Bind(r.Async("CIPHERPrototype2:4",[bJ8]),function(bKF){var bKG,bKH,bKI,bKJ,bKK;bKG=bKF[0];bKH=bKF[1];bKI=[bKG,bKH];bKJ=bKI[0];bKK=bKI[1];bKc({$:0,$0:bKJ,$1:bKK});bKu(null);bKo(bKC);return bKD.Zero();});});};bKL=function(bKM){var bKN;bKN=m.call();return bKN.Delay(function(){return bKN.Bind(bKM,function(bKP){bKB(bKP);return bKN.Zero();});});};bKQ=function(bKR){return function(){return bKL(r.Async("CIPHERPrototype2:5",[bJ8,bKR.key,bKR.isFolder()]));};};bKT=function(bKU){return function(bKV){return function(bKW){return function(){return bKL(r.Async("CIPHERPrototype2:7",[bJ8,bKU,bKV,bKW]));};};};};bKY=function(bKZ){return function(bK0){return function(){return bKL(r.Async("CIPHERPrototype2:6",[bJ8,bKZ.key,bKZ.isFolder(),bK0]));};};};bK2=function(bK3){return function(bK4){return function(){return bKL(r.Async("CIPHERPrototype2:8",[bJ8,bK3,bK4]));};};};bK6=function(bK7){return function(bK8){return function(){return bKL(r.Async("CIPHERPrototype2:9",[bJ8,bK7,bK8]));};};};bK_=function(bK$){return function(bLa){var bLb,bLc,bLd,bLe,bLf;bLb=bLa.$0;bLc=bLa.$1;bLd=bLa.$2;bLe=bLa.$3;bLf=m.call();return bLf.Delay(function(){return bLf.Bind1(p.tryProtection(),function(){var bLi;bKi("Uploading file "+n.toSafe(bK$.name)+" ...");bLi=new Y();bLi.onloadend=function(){return bKL(r.Async("CIPHERPrototype2:10",[bJ8,bLb,bLc,bLi.result,bK$.type,bK$.size,bLd,bLe]));};bLi.readAsDataURL(bK$);return bLf.Zero();});});};};bLk=function(bLl){return function(){var bLn;bLn=m.call();return bLn.Delay(function(){return bLn.Bind1(bB.getUploadFileRO_(),function(bLp){var bLq;bLq=function(bLr){bKc({$:4,$0:bLl});return(bK_(bLr))(bLl);};B.iter(bLq,bLp);return bLn.Zero();});});};};bLs=function(bLt){var bLu,bLv;bLu=bLt.isFolder()?{$:1,$0:bLt.data.detail.id}:bLt.data.detail.parentCode;bLv=S.defaultV("",bLu);return bKc({$:3,$0:bLv});};bLw=function(bLx){var bLy,bLz;bLy=bLx.data.detail.parentCode;bLz=S.defaultV("",bLy);return bKc({$:3,$0:bLz});};bLA=function(){return X.FromContinuations(function(bLC){var bLD,bLE;bLD=bLC[0];bLC[1];bLC[2];bKc({$:11,$0:bLD});bLE={$:4};return bKc({$:9,$0:bLE});});};bLF=function(bLG){var bLH;bLH=m.call();return bLH.Delay(function(){return bLH.Bind(bLA(null),function(bLJ){bLG(bLJ);return bLH.Zero();});});};bLK=f.ofArray([["Upload file",function(){return bLF(function(bLM){var bLN,bLO;bLs(bLM);bLN=bB.getFileName_();bKc({$:2,$0:bLN});bLO={$:0};return bKc({$:5,$0:bLO});});}],["New folder",function(){return bLF(function(bLQ){var bLR;bLs(bLQ);bLR={$:1};return bKc({$:5,$0:bLR});});}],["Move",function(){return bLF(function(bLT){var bLU;bLw(bLT);bLU={$:2,$0:bLT};return bKc({$:5,$0:bLU});});}],["Rename",function(){return bLF(function(bLW){var bLX,bLY,bL0,bL2,bL3;if(bLW.isFolder()){bLY=function(bLZ){return{$:4,$0:bLZ};};}else{bL0=bLW.data.detail.tags;bKc({$:1,$0:bL0});bLY=function(bL1){return{$:3,$0:bL1};};}bLX=bLY;bL2=bLW.title;bKc({$:2,$0:bL2});bL3=bLX(bLW);return bKc({$:5,$0:bL3});});}],["-",function(){return null;}],["Delete",function(){return bLF(function(bL6){var bL7;bL7={$:5,$0:bL6};return bKc({$:5,$0:bL7});});}]]);bL8=function(bL9){return bKc({$:10,$0:bL9});};bL_=c.reactContainerClass("flex flexgrow",function(){return function(bMa){var bMb,bMc,bMA,bMB;bMb=_8(bMa).html("<table class=\"table table-hover\"><thead>\r\n                           <tr> <th>Name</th><th>Theme</th><th></th><th>Content</th> <th>Size</th> <th>Modified</th> </tr>\r\n                                                    </thead><tbody></tbody></table>");bMc={extensions:["glyph","clones","table","dnd"],dnd:{focusOnClick:true,dragStart:function(){return true;},dragEnter:function(bMd){return bMd.isFolder();},dragDrop:function(bMe,bMf){var bMg,bMh,bMi;bMg=bMe.data.detail.id;bKc({$:3,$0:bMg});bMh=bMf.otherNode;bMi={$:2,$0:bMh};return bKc({$:5,$0:bMi});}},renderColumns:function(bMj,bMk){var bMl,bMm,bMn,bMo,bMp,bMu,bMv,bMw,bMx,bMy,bMz;bMl=bMk.node;bMm=bMl.data.detail;bMo=bMl.tr;bMn=_8(bMo).find(">td");bMp=bMn.eq(2).html("<a href=\"#\"><span class=\"fancytree-title\">:::</span></a>").on("click",function(){var bMq,bMr,bMs,bMt;bMq=[this.getBoundingClientRect().top,this.getBoundingClientRect().left];bMr=bMq[0];bMs=bMq[1];bMt={$:0,$0:bMr,$1:bMs};return bKc({$:8,$0:bMt});});bMu=bMl.isFolder();if(!bMu){bMw=bMn.eq(1).text(bMm.tags);bMx=bMn.eq(3).text(bMm.contentType);bMy=bMn.eq(4).text(bMm.size.toLocaleString());bMz=bMn.eq(5).text(bMm.modified);bMv=void bMz;}else{bMv=null;}return bMv;}};bMA={$:1,$0:bMc};bMB=bB.createNodes(bJ_);return bj.createFancyTree(bMa.firstChild,bMA,bMB,{$:1,$0:bL8});};});bMC=function(bMD){return function(bME){var bMF,bMG,bMR,bM2,bM3,bM4,bM7,bNa,bNi,bNk,bNl,bNr,bNs,bNt,bNu,bNv,bNw,bNx,bNy,bNz,bNA,bNB,bNC,bND,bNH,bNN,bNO,bNP,bNR,bNS,bNU,bNX,bNY;bKa({$:1,$0:bME});bMG=function(bMH){var bMI,bMJ,bMK,bML,bMM,bMO,bMP,bMQ;bMI=bMH.parentCode;if(bMI.$==1){bML=bMI.$0;bMM=function(bMN){return y.Equals(bMN.id,bML);};bMO=bMD.folders;bMP=A.tryFind(bMM,bMO);bMQ=B.map(bMG,bMP);bMK=S.defaultV("",bMQ);}else{bMK="";}bMJ=bMK;return bMJ+"/"+bMH.name;};bMR=function(){var bMT,bMV,bMW,bMX,bMY,bMZ;bMT=function(bMU){return[w(bMU.id),bMG(bMU)];};bMV=bMD.folders;bMW=A.map(bMT,bMV);bMX=[["","/"]];bMY=bMX.concat(bMW);bMZ=function(bM0){var bM1;bM0[0];bM1=bM0[1];return bM1;};return A.sortBy(bMZ,bMY);};bM2=bMD.showDialog;if(bM2.$==2){bM4=bM2.$0;bM3=["Move to",f.ofArray([["Ok","btn",(bKY(bM4))(bMD.uploadFolder)],["Cancel","btn",function(bM5){return bM5;}]]),f.ofArray([R.selectWoValidator("Folder",bMD.uploadFolder,function(bM6){return bME({$:3,$0:bM6});},bMR(null),$.New(g,{$:0}))])];}else{if(bM2.$==3){bM7=bM2.$0;bM3=["Rename File",f.ofArray([["Ok","btn",((bKT(bM7.key))(bMD.uploadName))(bMD.themeTags)],["Cancel","btn",function(bM8){return bM8;}]]),f.ofArray([R.textNotEmpty("File Name",bMD.uploadName,function(bM9){return bME({$:2,$0:bM9});},f.ofArray([h.Placeholder("enter file name"),h.MaxLength(100)]),bMD.form.validations,function(bM_){return bME({$:6,$0:bM_});}),R.textWoValidator("Theme tags",bMD.themeTags,function(bM$){return bME({$:1,$0:bM$});},f.ofArray([h.Placeholder("enter tags"),h.MaxLength(200)]))])];}else{if(bM2.$==4){bNa=bM2.$0;bM3=["Rename Folder",f.ofArray([["Ok","btn",(bK2(bNa.key))(bMD.uploadName)],["Cancel","btn",function(bNb){return bNb;}]]),f.ofArray([R.textNotEmpty("File Name",bMD.uploadName,function(bNc){return bME({$:2,$0:bNc});},f.ofArray([h.Placeholder("enter file name"),h.MaxLength(100)]),bMD.form.validations,function(bNd){return bME({$:6,$0:bNd});})])];}else{if(bM2.$==1){bM3=["Create Folder",f.ofArray([["Ok","btn",(bK6(bMD.uploadName))(bMD.uploadFolder)],["Cancel","btn",function(bNe){return bNe;}]]),f.ofArray([R.selectWoValidator("Parent Folder",bMD.uploadFolder,function(bNf){return bME({$:3,$0:bNf});},bMR(null),$.New(g,{$:0})),R.textNotEmpty("Folder Name",bMD.uploadName,function(bNg){return bME({$:2,$0:bNg});},f.ofArray([h.Placeholder("enter folder name"),h.MaxLength(100)]),bMD.form.validations,function(bNh){return bME({$:6,$0:bNh});})])];}else{if(bM2.$==5){bNi=bM2.$0;bNk=bNi.title;bNl="Delete "+n.toSafe(bNi.isFolder()?"folder":"file")+" "+n.toSafe(bNk)+"?";bM3=["Confirm Delete ",f.ofArray([["DELETE","btn",bKQ(bNi)],["Cancel","btn",function(bNj){return bNj;}]]),f.ofArray([{$:1,$0:bNl}])];}else{bM3=bM2.$==6?["",$.New(g,{$:0}),$.New(g,{$:0})]:["Upload File",f.ofArray([["Upload","btn",bLk({$:0,$0:bMD.uploadName,$1:bMD.uploadFolder,$2:bMD.themeTags,$3:bMD.client})],["Cancel","btn",function(bNm){return bNm;}]]),f.ofArray([R.textNotEmpty("File Name",bMD.uploadName,function(bNn){return bME({$:2,$0:bNn});},f.ofArray([h.Placeholder("enter file name"),h.MaxLength(100)]),bMD.form.validations,function(bNo){return bME({$:6,$0:bNo});}),R.selectWoValidator("Folder",bMD.uploadFolder,function(bNp){return bME({$:3,$0:bNp});},bMR(null),$.New(g,{$:0})),R.textWoValidator("Theme tags",bMD.themeTags,function(bNq){return bME({$:1,$0:bNq});},f.ofArray([h.Placeholder("enter tags"),h.MaxLength(200)]))])];}}}}}bMF=bM3;bNr=bMF[0];bNs=bMF[2];bNt=bMF[1];bNu=bMD.lastUpload;if(bNu.$==1){bNu.$0;if(bB.getFileName_()!==""){bNy=bNu.$0;bNB=function(bNE){return"Upload ("+n.prettyPrint(bNE.$0)+", "+bNC(bNE.$1)+", "+n.prettyPrint(bNE.$2)+", "+bND(bNE.$3)+")";};bNC=function(bNF){return bNF.$==1?"Some "+n.prettyPrint(bNF.$0):"None";};bND=function(bNG){return"Client "+n.prettyPrint(bNG.$0);};bNA="Re"+bNB(bNy);bNz=h.Input(f.ofArray([h.Type("button"),h.Value(bNA),h._Style(f.ofArray([h._flex("0 0"),h.newAttr("alignSelf","flex-start")]))]));bNx=(h.OnClick(bLk(bNy)))(bNz);}else{bNx={$:6};}bNw=bNx;}else{bNw={$:6};}bNv=bNw;bNH=f.ofArray([["New Folder","btn    btn-default  pull-right",function(){var bNJ;bNJ={$:1};return bME({$:5,$0:bNJ});}],["Upload File","btn    btn-default  pull-right",function(){var bNL,bNM;bNL=bB.getFileName_();bME({$:2,$0:bNL});bNM={$:0};return bME({$:5,$0:bNM});}]]);bNO=bMD.dialog;bNP=function(bNQ){return bME({$:7,$0:bNQ});};bNR=bMD.popup;bNS=function(bNT){return bME({$:8,$0:bNT});};bNU=h.Input(f.ofArray([h.Type("file"),h.Id("filesel")]));bNN=f.ofArray([O.view(bNr,bNt,bNs,bNO,bNP),P.view(bLK,bNR,bNS),(h.OnChange(function(){var bNW;bNW=bB.getFileName_();return bME({$:2,$0:bNW});}))(bNU),bNv,{$:5,$0:bL_}]);bNX=bMD.form;bNY=function(bNZ){return bME({$:6,$0:bNZ});};return N.view(bNH,bNN,bNX,bNY);};};bN0=function(bN1){return function(bN2){return bB.update(bN1,bN2);};};bN3=U.app(bJ_,bN0,bMC);return U.run(bJ9,bN3);},showForm_:function(bN4,bN5,bN6){return d.withContainerDo("flex flexgrow",function(bN7){var bN8;bN8=m.call();return bN8.Delay(function(){return bN8.Bind(r.Async("CIPHERPrototype2:17",[]),function(bN_){return bN8.Bind(r.Async("CIPHERPrototype2:4",[bN_]),function(bN$){var bOa,bOb,bOc,bOd;bOa=bN$[0];bOb=bN$[1];bOc=bN7.Dom;bOd=bB.init(bN4,bOa,bOb,bN5,bN6);bB.runApp_(bN_,bOc,bOd);return bN8.Zero();});});});});},update:function(bOe,bOf){var bOg,bOh,bOT,bOU,bOV,bOW,bOX,bOY,bOZ,bO0,bO1,bO2,bO3,bO4,bO5,bO6,bO7,bO8,bO9,bO_,bO$,bPa,bPb,bPc,bPd,bPe,bPf,bPh,bPi,bPj,bPk,bPl,bPm,bPn,bPo,bPp,bPq,bPr,bPt,bPu,bPv,bPw,bPx;if(bOf.form.debug){bOh=function(bOi){var bOj,bOk,bOl,bOm,bOn,bOo,bOp,bOq,bOr,bOs,bOt,bOu,bOv,bOw,bOx;bOk=function(bOy){return bOy.$==12?"DoAction "+n.prettyPrint(bOy.$0):bOy.$==11?"WhenReceiveSelected "+n.prettyPrint(bOy.$0):bOy.$==10?"FromTreeView "+bOx(bOy.$0):bOy.$==9?"ToTreeView "+bOv(bOy.$0):bOy.$==8?"ToPopupMsg "+bOu(bOy.$0):bOy.$==7?"ToDialogMsg "+bOt(bOy.$0):bOy.$==6?"ToFormMsg "+bOs(bOy.$0):bOy.$==5?"ShowDialog "+bOr(bOy.$0):bOy.$==4?"SetLastUpload "+bOo(bOy.$0):bOy.$==3?"SetUploadFolder "+n.prettyPrint(bOy.$0):bOy.$==2?"SetUploadName "+n.prettyPrint(bOy.$0):bOy.$==1?"SetThemeTags "+n.prettyPrint(bOy.$0):"SetFiles ("+n.printArray(function(bOz){return bOl(bOz);},bOy.$0)+", "+n.printArray(function(bOA){return bOn(bOA);},bOy.$1)+")";};bOl=function(bOB){return"{"+("id = "+n.prettyPrint(bOB.id))+"; "+("name = "+n.prettyPrint(bOB.name))+"; "+("parentCode = "+bOm(bOB.parentCode))+"}";};bOm=function(bOC){return bOC.$==1?"Some "+n.prettyPrint(bOC.$0):"None";};bOn=function(bOD){return"{"+("id = "+n.prettyPrint(bOD.id))+"; "+("name = "+n.prettyPrint(bOD.name))+"; "+("folderName = "+n.prettyPrint(bOD.folderName))+"; "+("parentCode = "+bOm(bOD.parentCode))+"; "+("contentType = "+n.prettyPrint(bOD.contentType))+"; "+("size = "+n.prettyPrint(bOD.size))+"; "+("tags = "+n.prettyPrint(bOD.tags))+"; "+("modified = "+n.prettyPrint(bOD.modified))+"}";};bOo=function(bOE){return"Upload ("+n.prettyPrint(bOE.$0)+", "+bOp(bOE.$1)+", "+n.prettyPrint(bOE.$2)+", "+bOq(bOE.$3)+")";};bOp=function(bOF){return bOF.$==1?"Some "+n.prettyPrint(bOF.$0):"None";};bOq=function(bOG){return"Client "+n.prettyPrint(bOG.$0);};bOr=function(bOH){return bOH.$==6?"NoDialog":bOH.$==5?"ConfirmDelete "+n.prettyPrint(bOH.$0):bOH.$==4?"RenameFolder "+n.prettyPrint(bOH.$0):bOH.$==3?"RenameFile "+n.prettyPrint(bOH.$0):bOH.$==2?"Move "+n.prettyPrint(bOH.$0):bOH.$==1?"CreateFolder":"UploadFile";};bOs=function(bOI){return bOI.$==3?"SetDebug "+n.prettyPrint(bOI.$0):bOI.$==2?"SetModified "+n.prettyPrint(bOI.$0):bOI.$==1?"AddValidation ("+n.prettyPrint(bOI.$0)+", "+n.prettyPrint(bOI.$1)+")":"ShowInfo ("+n.prettyPrint(bOI.$0)+", "+n.prettyPrint(bOI.$1)+")";};bOt=function(bOJ){return"ShowDialog "+n.prettyPrint(bOJ.$0);};bOu=function(bOK){return bOK.$==2?"HidePopUp":bOK.$==1?"AdjustBase ("+n.prettyPrint(bOK.$0)+", "+n.prettyPrint(bOK.$1)+")":"ShowPopUp ("+n.prettyPrint(bOK.$0)+", "+n.prettyPrint(bOK.$1)+")";};bOv=function(bOL){return bOL.$==10?"SelectNode "+n.prettyPrint(bOL.$0):bOL.$==9?"Saved "+n.printArray(function(bOM){return"("+n.prettyPrint(bOM[0])+", "+n.prettyPrint(bOM[1])+", "+n.prettyPrint(bOM[2])+")";},bOL.$0):bOL.$==8?"DataClear":bOL.$==7?"SetTitle ("+n.prettyPrint(bOL.$0)+", "+n.prettyPrint(bOL.$1)+", "+n.prettyPrint(bOL.$2)+")":bOL.$==6?"AddNode ("+n.prettyPrint(bOL.$0)+", "+n.prettyPrint(bOL.$1)+", "+n.prettyPrint(bOL.$2)+")":bOL.$==5?"DeleteNode "+n.prettyPrint(bOL.$0):bOL.$==4?"SendSelected":bOL.$==3?"SendRelations":bOL.$==2?"LoadNodes "+n.printArray(function(bON){return bOw(bON);},bOL.$0):bOL.$==1?"FlattenHierarchy":"ApplyRelations "+n.printArray(function(bOO){return"("+n.prettyPrint(bOO[0])+", "+n.prettyPrint(bOO[1])+")";},bOL.$0);};bOw=function(bOP){return"{"+("key = "+n.prettyPrint(bOP.key))+"; "+("title = "+n.prettyPrint(bOP.title))+"; "+("tag = "+n.prettyPrint(bOP.tag))+"; "+("detail = "+n.prettyPrint(bOP.detail))+"; "+("folder = "+n.prettyPrint(bOP.folder))+"; "+("children = "+n.printArray(function(bOQ){return bOw(bOQ);},bOP.children))+"}";};bOx=function(bOR){return bOR.$==3?"NodeSelected "+n.prettyPrint(bOR.$0):bOR.$==2?"Relations "+n.printArray(function(bOS){return"("+n.prettyPrint(bOS[0])+", "+n.prettyPrint(bOS[1])+")";},bOR.$0):bOR.$==1?"MessageProcessor "+n.prettyPrint(bOR.$0):"ShowInfo ("+n.prettyPrint(bOR.$0)+", "+n.prettyPrint(bOR.$1)+")";};bOj=bOk(bOi);return V?V.log(bOj):undefined;};bOg=bOh(bOe);}else{bOg=null;}if(bOe.$==6){bOU=bOe.$0;bOT={form:N.update(bOU,bOf.form),dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bOe.$==8){bOV=bOe.$0;bOW=P.update(bOV,bOf.popup);bOT={form:bOf.form,dialog:bOf.dialog,popup:bOW,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bOe.$==7){bOX=bOe.$0;bOY=O.update(bOX,bOf.dialog);bOZ={form:bOf.form,dialog:bOY,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};if(bOX.$0){bO0=bOZ;}else{bO1={$:5,$0:{$:6}};bO0=bB.update(bO1,bOZ);}bOT=bO0;}else{if(bOe.$==0){bO2=bOe.$0;bO3=bOe.$1;bOT={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bO2,files:bO3,sortBy:bOf.sortBy,uploadName:"",uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bOe.$==2){bO4=bOe.$0;bOT={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bO4,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bOe.$==3){bO5=bOe.$0;bO6=bO5===""?{$:0}:{$:1,$0:bO5};bOT={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bO6,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bOe.$==4){bO7=bOe.$0;bO8={$:1,$0:bO7};bOT={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bO8};}else{if(bOe.$==1){bO9=bOe.$0;bOT={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bO9,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bOe.$==5){bO_=bOe.$0;if(!y.Equals(bOf.showDialog,bO_)){bPa={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bO_,client:bOf.client,lastUpload:bOf.lastUpload};bPb=!y.Equals(bO_,{$:6});bPc={$:0,$0:bPb};bPd={$:7,$0:bPc};bO$=bB.update(bPd,bPa);}else{bO$=bOf;}bOT=bO$;}else{if(bOe.$==9){bPe=bOe.$0;bPf=function(bPg){return bPg(bPe);};bPh=bOf.treeViewProcessorO;B.iter(bPf,bPh);bOT=bOf;}else{if(bOe.$==10){bPi=bOe.$0;if(bPi.$==0){bPk=bPi.$1;bPl=bPi.$0;bPm={$:0,$0:bPl,$1:bPk};bPn={$:6,$0:bPm};bPj=bB.update(bPn,bOf);}else{if(bPi.$==1){bPo=bPi.$0;bPp={$:1,$0:bPo};bPj={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bPp,relationsCallback:bOf.relationsCallback,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{if(bPi.$==3){bPq=bPi.$0;bPr=function(bPs){return bPs(p.succeed(bPq));};bPt=bOf.relationsCallback;B.iter(bPr,bPt);bPu={$:0};bPj={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bPu,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{bPi.$0;bPj=bOf;}}}bOT=bPj;}else{if(bOe.$==11){bPv=bOe.$0;bPw={$:1,$0:bPv};bOT={form:bOf.form,dialog:bOf.dialog,popup:bOf.popup,treeViewProcessorO:bOf.treeViewProcessorO,relationsCallback:bPw,folders:bOf.folders,files:bOf.files,sortBy:bOf.sortBy,uploadName:bOf.uploadName,uploadFolder:bOf.uploadFolder,themeTags:bOf.themeTags,showDialog:bOf.showDialog,client:bOf.client,lastUpload:bOf.lastUpload};}else{bPx=bOe.$0;bOT=bPx(bOf);}}}}}}}}}}}}return bOT;}},UserFormClient:{init:function(bPy,bPz,bPA,bPB){return{form:N.init(bPy),dialog:O.init(),popup:P.init(),user:bPz,clients:bPA,languages:bPB};},runApp_:function(bPC,bPD,bPE){var bPF,bPG,bPI,bPO,bPU,bP0,bQi,bQO,bQR;bPF=[{$:0}];bPG=function(bPH){return bPF[0].$==0?void(bPF[0]=bPH):null;};bPI=function(bPJ){var bPK,bPM,bPN;bPK=function(bPL){return bPL(bPJ);};bPM=bPF[0];bPN=B.map(bPK,bPM);return;};bPO=function(bPP){var bPQ,bPR,bPS,bPT;bPQ=[bPP,true];bPR=bPQ[0];bPS=bPQ[1];bPT={$:0,$0:bPR,$1:bPS};return bPI({$:0,$0:bPT});};bPU=function(bPV){var bPW,bPX,bPY,bPZ;bPW=[bPV,false];bPX=bPW[0];bPY=bPW[1];bPZ={$:0,$0:bPX,$1:bPY};return bPI({$:0,$0:bPZ});};bP0=function(bP1){return function(){var bP3,bP4,bP5,bQa,bQb,bQc,bQd;bP3=bP1.form.validations;if(bP3.get_Count()===0){bP5=m.call();bP4=bP5.Delay(function(){bPO("saving...");return bP5.Bind(r.Async("CIPHERPrototype2:3",[bPC,bP1.user]),function(bP7){var bP8,bP9,bP_,bP$;bP8=bP7[1];bP9=bP7[0];bPU(bP8);bP_={$:2,$0:false};bPI({$:0,$0:bP_});if(bP9){s.location.reload();bP$=bP5.Zero();}else{bP$=bP5.Zero();}return bP$;});});}else{bQa=bP1.form.validations;bQb=z.toArray(bQa);bQc=function(bQe){return bQe.$==1?"PathValidation ("+n.printList(function(bQf){return n.prettyPrint(bQf);},bQe.$0)+", "+bQd(bQe.$1)+")":"InputValidation "+bQd(bQe.$0);};bQd=function(bQg){return bQg.$==4?"VPatternNotMatch ("+n.prettyPrint(bQg.$0)+", "+n.prettyPrint(bQg.$1)+")":bQg.$==3?"VUnsupportedData "+n.prettyPrint(bQg.$0):bQg.$==2?"VCannotModify":bQg.$==1?"VNotLongerThan "+n.prettyPrint(bQg.$0):"VEmpty";};bP4=bPU("cannot save: "+n.printArray(function(bQh){return bQc(bQh);},bQb));}return bP4;};};bQi=function(bQj){return function(bQk){var bQl,bQm,bQn,bQo,bQp,bQq,bQs,bQu,bQv,bQx,bQF,bQG,bQH,bQL,bQM;bPG({$:1,$0:bQk});bQl=f.ofArray([["Save","btn    btn-default  pull-right",bP0(bQj)]]);bQn=$.New(g,{$:0});bQo=$.New(g,{$:0});bQp=bQj.dialog;bQq=function(bQr){return bQk({$:1,$0:bQr});};bQs=f.ofArray([["-",function(bQt){return bQt;}]]);bQu=bQj.popup;bQv=function(bQw){return bQk({$:2,$0:bQw});};bQx=bQj.user.name;bQF=bQj.clients;if(bQF.length>1){bQH=w(bQj.user.currentClient);bQG=R.selectWoValidator("Current client",{$:1,$0:bQH},function(bQI){return bQk({$:7,$0:bQI});},bQj.clients,$.New(g,{$:0}));}else{bQG={$:6};}bQm=f.ofArray([O.view("title",bQn,bQo,bQp,bQq),P.view(bQs,bQu,bQv),R.textNotEmpty("Name",S.defaultV("",bQx),function(bQy){return bQk({$:4,$0:bQy});},f.ofArray([h.Placeholder("enter name"),h.MaxLength(150)]),bQj.form.validations,function(bQz){return bQk({$:0,$0:bQz});}),R.textWValidator("Email",bQj.user.email,function(bQA){return bQk({$:5,$0:bQA});},f.ofArray([h.Placeholder("enter email"),h.MaxLength(200),h.Type("email")]),bQj.form.validations,function(bQB){return bQk({$:0,$0:bQB});},function(bQC){return R.op_PlusPlus(function(bQD){return R.validateEmail_(bQD);},function(bQE){return R.validateEmpty_(bQE);},bQC);}),bQG,h.Div(f.ofArray([h.Class("flex-row flexgrow"),R.textWoValidator("Theme",bQj.user.themeTags,function(bQJ){return bQk({$:6,$0:bQJ});},f.ofArray([h.Placeholder("enter tags"),h.MaxLength(150)])),R.selectWoValidator("Language",bQj.user.language,function(bQK){return bQk({$:8,$0:bQK});},bQj.languages,$.New(g,{$:0}))]))]);bQL=bQj.form;bQM=function(bQN){return bQk({$:0,$0:bQN});};return N.view(bQl,bQm,bQL,bQM);};};bQO=function(bQP){return function(bQQ){return bC.update(bQP,bQQ);};};bQR=U.app(bPE,bQO,bQi);return U.run(bPD,bQR);},showForm_:function(bQS){return d.withContainerDo("flex flexgrow",function(bQT){var bQU;bQU=m.call();return bQU.Delay(function(){return bQU.Bind(r.Async("CIPHERPrototype2:17",[]),function(bQW){return bQU.Bind(r.Async("CIPHERPrototype2:2",[bQW]),function(bQX){var bQY,bQZ,bQ0,bQ1,bQ2;bQY=bQX[0];bQZ=bQX[2];bQ0=bQX[1];bQ1=bQT.Dom;bQ2=bC.init(bQS,bQY,bQ0,bQZ);bC.runApp_(bQW,bQ1,bQ2);return bQU.Zero();});});});});},update:function(bQ3,bQ4){var bQ5,bQ6,bRf,bRg,bRh,bRi,bRj,bRk,bRl,bRm,bRn,bRo,bRp,bRq,bRr,bRs,bRt,bRu,bRv,bRw,bRx,bRy,bRz,bRA,bRB;if(bQ4.form.debug){bQ6=function(bQ7){var bQ8,bQ9,bQ_,bQ$,bRa;bQ9=function(bRb){return bRb.$==8?"LanguageChange "+n.prettyPrint(bRb.$0):bRb.$==7?"ClientChange "+n.prettyPrint(bRb.$0):bRb.$==6?"ThemeChange "+n.prettyPrint(bRb.$0):bRb.$==5?"EMailChange "+n.prettyPrint(bRb.$0):bRb.$==4?"NameChange "+n.prettyPrint(bRb.$0):bRb.$==3?"DoAction "+n.prettyPrint(bRb.$0):bRb.$==2?"ToPopupMsg "+bRa(bRb.$0):bRb.$==1?"ToDialogMsg "+bQ$(bRb.$0):"ToFormMsg "+bQ_(bRb.$0);};bQ_=function(bRc){return bRc.$==3?"SetDebug "+n.prettyPrint(bRc.$0):bRc.$==2?"SetModified "+n.prettyPrint(bRc.$0):bRc.$==1?"AddValidation ("+n.prettyPrint(bRc.$0)+", "+n.prettyPrint(bRc.$1)+")":"ShowInfo ("+n.prettyPrint(bRc.$0)+", "+n.prettyPrint(bRc.$1)+")";};bQ$=function(bRd){return"ShowDialog "+n.prettyPrint(bRd.$0);};bRa=function(bRe){return bRe.$==2?"HidePopUp":bRe.$==1?"AdjustBase ("+n.prettyPrint(bRe.$0)+", "+n.prettyPrint(bRe.$1)+")":"ShowPopUp ("+n.prettyPrint(bRe.$0)+", "+n.prettyPrint(bRe.$1)+")";};bQ8=bQ9(bQ7);return V?V.log(bQ8):undefined;};bQ5=bQ6(bQ3);}else{bQ5=null;}if(bQ3.$==2){bRg=bQ3.$0;bRh=P.update(bRg,bQ4.popup);bRf={form:bQ4.form,dialog:bQ4.dialog,popup:bRh,user:bQ4.user,clients:bQ4.clients,languages:bQ4.languages};}else{if(bQ3.$==1){bRi=bQ3.$0;bRj=O.update(bRi,bQ4.dialog);bRf={form:bQ4.form,dialog:bRj,popup:bQ4.popup,user:bQ4.user,clients:bQ4.clients,languages:bQ4.languages};}else{if(bQ3.$==3){bRk=bQ3.$0;bRf=bRk(bQ4);}else{if(bQ3.$==4){bRl=bQ3.$0;bRm=bQ4.user;bRn={name:{$:1,$0:bRl},email:bRm.email,language:bRm.language,currentClient:bRm.currentClient,themeTags:bRm.themeTags};bRf={form:N.update({$:2,$0:true},bQ4.form),dialog:bQ4.dialog,popup:bQ4.popup,user:bRn,clients:bQ4.clients,languages:bQ4.languages};}else{if(bQ3.$==5){bRo=bQ3.$0;bRp=bQ4.user;bRq={name:bRp.name,email:bRo,language:bRp.language,currentClient:bRp.currentClient,themeTags:bRp.themeTags};bRf={form:N.update({$:2,$0:true},bQ4.form),dialog:bQ4.dialog,popup:bQ4.popup,user:bRq,clients:bQ4.clients,languages:bQ4.languages};}else{if(bQ3.$==6){bRr=bQ3.$0;bRs=bQ4.user;bRt={name:bRs.name,email:bRs.email,language:bRs.language,currentClient:bRs.currentClient,themeTags:bRr};bRf={form:N.update({$:2,$0:true},bQ4.form),dialog:bQ4.dialog,popup:bQ4.popup,user:bRt,clients:bQ4.clients,languages:bQ4.languages};}else{if(bQ3.$==7){bRu=bQ3.$0;bRv=bQ4.user;bRw={name:bRv.name,email:bRv.email,language:bRv.language,currentClient:bRu,themeTags:bRv.themeTags};bRf={form:N.update({$:2,$0:true},bQ4.form),dialog:bQ4.dialog,popup:bQ4.popup,user:bRw,clients:bQ4.clients,languages:bQ4.languages};}else{if(bQ3.$==8){bRx=bQ3.$0;bRy=bQ4.user;bRz={$:1,$0:bRx};bRA={name:bRy.name,email:bRy.email,language:bRz,currentClient:bRy.currentClient,themeTags:bRy.themeTags};bRf={form:N.update({$:2,$0:true},bQ4.form),dialog:bQ4.dialog,popup:bQ4.popup,user:bRA,clients:bQ4.clients,languages:bQ4.languages};}else{bRB=bQ3.$0;bRf={form:N.update(bRB,bQ4.form),dialog:bQ4.dialog,popup:bQ4.popup,user:bQ4.user,clients:bQ4.clients,languages:bQ4.languages};}}}}}}}}return bRf;}}},Rop:{ARop:{Builder:$.Class({Bind:function(bRC,bRD){return bd.bind(bRD,bRC);},Bind1:function(bRE,bRF){var bRG;bRG={$:2,$0:bRE};return bd.bind(bRF,bRG);},Bind2:function(bRH,bRI){var bRJ;bRJ={$:0,$0:bRH};return bd.bind(bRI,bRJ);},Delay:function(bRK){return bRK(null);},Return:function(bRL){return{$:3,$0:bRL};},Zero:function(){return{$:3,$0:null};}},{New:function(){return $.New(this,{});}}),bind:function(bRM,bRN){var bRO,bRP,bRQ,bRR,bRS,bRT,bRU,bRV,bRW,bRX,bRY,bRZ,bR0,bR1,bR2,bR3,bR4,bR5,bR6,bR7,bR8,bR$,bSa,bSd,bSe,bSf,bSg,bSl,bSm,bSw;if(bRN.$==0){if(bRN.$0.$==1){bRQ=bRN.$0.$0;bRR={$:1,$0:bRQ};bRP={$:0,$0:bRR};}else{if(bRN.$0.$1.$==0){bRT=bRN.$0.$0;bRS=bRM(bRT);}else{bRU=bRN.$0.$0;bRV=bRN.$0.$1;bRW=bRM(bRU);if(bRW.$==0){if(bRW.$0.$==1){bRZ=bRW.$0.$0;bR0={$:1,$0:f.append(bRV,bRZ)};bRY={$:0,$0:bR0};}else{if(bRW.$0.$1.$==0){bR2=bRW.$0.$0;bR3={$:0,$0:bR2,$1:bRV};bR1={$:0,$0:bR3};}else{bR4=bRW.$0.$0;bR5=bRW.$0.$1;bR6={$:0,$0:bR4,$1:f.append(bRV,bR5)};bR1={$:0,$0:bR6};}bRY=bR1;}bRX=bRY;}else{if(bRW.$==1){bR7=bRW.$0;bR8=X.Delay(function(){return X.Bind(bR7,function(bR_){return X.Return({$:0,$0:bR_,$1:bRV});});});bRX={$:2,$0:bR8};}else{if(bRW.$==2){bR$=bRW.$0;bSa=X.Delay(function(){return X.Bind(bR$,function(bSc){return X.Return(p.mergeMessages(bRV,bSc));});});bRX={$:2,$0:bSa};}else{bSd=bRW.$0;bSe={$:0,$0:bSd,$1:bRV};bRX={$:0,$0:bSe};}}}bRS=bRX;}bRP=bRS;}bRO=bRP;}else{if(bRN.$==1){bSf=bRN.$0;bSg=X.Delay(function(){return X.Bind(bSf,function(bSi){var bSj,bSk;bSj=bRM(bSi);bSk=$.New(g,{$:0});return bd.wb2arb(bSk,bSj);});});bRO={$:2,$0:bSg};}else{if(bRN.$==2){bSl=bRN.$0;bSm=X.Delay(function(){return X.Bind(bSl,function(bSo){var bSp,bSq,bSr,bSt,bSu,bSv;if(bSo.$==1){bSr=bSo.$0;bSq=X.Delay(function(){return X.Return({$:1,$0:bSr});});}else{bSt=bSo.$1;bSu=bSo.$0;bSv=bRM(bSu);bSq=bd.wb2arb(bSt,bSv);}bSp=bSq;return bSp;});});bRO={$:2,$0:bSm};}else{bSw=bRN.$0;bRO=bRM(bSw);}}}return bRO;},call:function(bSx){var bSy,bSz,bSA,bSG;if(bSx.$==0){bSz=bSx.$0;bSy=p.notifyMessages(bSz);}else{if(bSx.$==1){bSA=bSx.$0;bSy=X.StartWithContinuations(bSA,function(){return null;},function(bSC){var bSD;bSD=p.failException(bSC);return p.notifyMessages(bSD);},function(bSE){var bSF;bSF=p.failException(bSE);return p.notifyMessages(bSF);},{$:0});}else{if(bSx.$==2){bSG=bSx.$0;bSy=X.StartWithContinuations(bSG,function(bSH){return p.notifyMessages(bSH);},function(bSI){var bSJ;bSJ=p.failException(bSI);return p.notifyMessages(bSJ);},function(bSK){var bSL;bSL=p.failException(bSK);return p.notifyMessages(bSL);},{$:0});}else{bSy=null;}}}return bSy;},wb2arb:function(bSM,bSN){var bSO,bSP,bSR,bSU,bSW;if(bSN.$==3){bSP=bSN.$0;bSO=X.Delay(function(){return X.Return({$:0,$0:bSP,$1:bSM});});}else{if(bSN.$==2){bSR=bSN.$0;bSO=X.Delay(function(){return X.Bind(bSR,function(bST){return X.Return(p.mergeMessages(bSM,bST));});});}else{if(bSN.$==0){bSU=bSN.$0;bSO=X.Delay(function(){return X.Return(p.mergeMessages(bSM,bSU));});}else{bSW=bSN.$0;bSO=X.Delay(function(){return X.Bind(bSW,function(bSY){return X.Return({$:0,$0:bSY,$1:bSM});});});}}}return bSO;},wrap:$.Field(function(){return bD.New();})},Option:{defaultV:function(bSZ,bS0){var bS1,bS2;if(bS0.$==1){bS2=bS0.$0;bS1=bS2;}else{bS1=bSZ;}return bS1;}},Rop:{applyR:function(bS3,bS4){var bS5,bS6,bS7,bS8,bS9,bS_,bS$,bTa,bTb,bTc,bTd,bTe,bTf,bTg,bTh,bTi,bTj,bTk,bTl,bTm;bS5=[bS3,bS4];if(bS5[0].$==1){if(bS5[1].$==1){bS8=bS5[0].$0;bS9=bS5[1].$0;bS_=f.append(bS8,bS9);bS7={$:1,$0:bS_};}else{bS$=bS5[0].$0;bTa=bS5[1].$1;bTb=f.append(bS$,bTa);bS7={$:1,$0:bTb};}bS6=bS7;}else{if(bS5[1].$==1){bTd=bS5[1].$0;bTe=bS5[0].$1;bTf=f.append(bTd,bTe);bTc={$:1,$0:bTf};}else{bTg=bS5[0].$0;bTh=bS5[0].$1;bTi=bS5[1].$1;bTj=bS5[1].$0;bTk=[bTg(bTj),f.append(bTh,bTi)];bTl=bTk[0];bTm=bTk[1];bTc={$:0,$0:bTl,$1:bTm};}bS6=bTc;}return bS6;},assertR:function(bTn,bTo){return bTn?p.succeed(null):p.fail(bTo);},bindR:function(bTp,bTq){return p.either(function(bTr){var bTs,bTt;bTs=bTr[0];bTt=bTr[1];return p.fSuccess1(bTp,bTs,bTt);},function(bTu){return{$:1,$0:bTu};},bTq);},bindTry:function(bTv){var bTw;bTw=function(bTx){return p.doTry(bTv,bTx);};return function(bTy){return p.bindR(bTw,bTy);};},callTry:function(bTz){var bTA;bTA=function(bTB){var bTC;bTC=bTz(bTB);return p.succeed(bTC);};return function(bTD){return p.doTry(bTA,bTD);};},doTry:function(bTE,bTF){var bTG,bTH;try{bTG=bTE(bTF);}catch(bTH){bTG=p.failException(bTH);}return bTG;},either:function(bTI,bTJ,bTK){var bTL,bTM,bTN,bTO;if(bTK.$==1){bTM=bTK.$0;bTL=bTJ(bTM);}else{bTN=bTK.$0;bTO=bTK.$1;bTL=bTI([bTN,bTO]);}return bTL;},fFailure1:function(bTP,bTQ){return{$:1,$0:f.append(bTQ,bTP)};},fFailure2:function(bTR,bTS){bTR(bTS);return{$:1,$0:bTS};},fSuccess0:function(bTT,bTU,bTV){return{$:0,$0:bTU,$1:f.append(bTT,bTV)};},fSuccess1:function(bTW,bTX,bTY){var bTZ;bTZ=bTW(bTX);return p.mergeMessages(bTY,bTZ);},fail:function(bT0){return{$:1,$0:f.ofArray([bT0])};},failException:function(bT1){var bT2;bT2={$:1,$0:bT1};return p.fail(bT2);},failIfNone:function(bT3,bT4){var bT5,bT6;if(bT4.$==0){bT5=p.fail(bT3);}else{bT6=bT4.$0;bT5=p.succeed(bT6);}return bT5;},failIfNoneR:function(bT7,bT8){var bT9,bT_;if(bT8.$==0){bT9=p.fail(bT7);}else{bT_=bT8.$0;bT9=bT_;}return bT9;},failureTee:function(bT$,bUa){return p.either(function(bUb){var bUc,bUd;bUc=bUb[0];bUd=bUb[1];return{$:0,$0:bUc,$1:bUd};},function(bUe){return p.fFailure2(bT$,bUe);},bUa);},flow:$.Field(function(){return bE.New();}),fromChoice:function(bUf,bUg){var bUh,bUi,bUj,bUk;if(bUg.$==1){bUi=bUg.$0;bUj={$:1,$0:bUi};bUh=p.fail(bUj);}else{bUk=bUg.$0;bUh=p.succeed(bUk);}return bUh;},fromOption:function(bUl,bUm){var bUn,bUo;if(bUm.$==1){bUo=bUm.$0;bUn=p.succeed(bUo);}else{bUn=p.fail(bUl);}return bUn;},ifError:function(bUp,bUq){var bUr,bUs;if(bUq.$==0){bUs=bUq.$0;bUq.$1;bUr=bUs;}else{bUr=bUp;}return bUr;},lift2R:function(bUt,bUu,bUv){var bUw;bUw=p.liftR(bUt,bUu);return p.applyR(bUw,bUv);},lift3R:function(bUx,bUy,bUz,bUA){var bUB;bUB=p.lift2R(bUx,bUy,bUz);return p.applyR(bUB,bUA);},lift4R:function(bUC,bUD,bUE,bUF,bUG){var bUH;bUH=p.lift3R(bUC,bUD,bUE,bUF);return p.applyR(bUH,bUG);},liftR:function(bUI,bUJ){var bUK;bUK=p.succeed(bUI);return p.applyR(bUK,bUJ);},liftTry:function(bUL){var bUM;bUM=p.callTry(bUL);return function(bUN){return p.bindR(bUM,bUN);};},mapMessagesR:function(bUO,bUP){var bUQ,bUR,bUS,bUT,bUU,bUV;if(bUP.$==1){bUR=bUP.$0;bUS=f.map(bUO,bUR);bUQ={$:1,$0:bUS};}else{bUT=bUP.$0;bUU=bUP.$1;bUV=f.map(bUO,bUU);bUQ={$:0,$0:bUT,$1:bUV};}return bUQ;},mapR:function(bUW){return function(bUX){return p.liftR(bUW,bUX);};},mergeMessages:function(bUY,bUZ){return p.either(function(bU0){var bU1,bU2;bU1=bU0[0];bU2=bU0[1];return p.fSuccess0(bUY,bU1,bU2);},function(bU3){return p.fFailure1(bUY,bU3);},bUZ);},messagesDo:function(bU4,bU5){var bU6,bU7,bU8;if(bU5.$==1){bU7=bU5.$0;bU6=(bU4(true))(bU7);}else{bU8=bU5.$1;bU6=(bU4(false))(bU8);}return bU6;},notifyMessages:function(bU9){var bU_,bU$,bVa;if(bU9.$==1){bU$=bU9.$0;bU_=p.processMessages("E",bU$);}else{bVa=bU9.$1;bU_=p.processMessages("N",bVa);}return bU_;},op_LessBangGreater:function(bVb){return function(bVc){return p.liftR(bVb,bVc);};},op_LessMultiplyGreater:function(bVd){return function(bVe){return p.applyR(bVd,bVe);};},processMessages:function(bVf,bVg){var bVh;bVh=function(bVi){var bVj,bVk,bVl,bVm,bVn,bVo,bVp,bVq,bVr;bVk=function(bVs){return bVs.$==29?"ErrGuestUserNotActivated":bVs.$==28?"ErrAleaError ("+n.prettyPrint(bVs.$0)+", "+n.prettyPrint(bVs.$1)+")":bVs.$==27?"ErrNoRecordsProcessed":bVs.$==26?"ErrUnsuportedDataStorage":bVs.$==25?"ErrWebSharperCompiler "+n.prettyPrint(bVs.$0):bVs.$==24?"ErrFSharpCompiler "+n.prettyPrint(bVs.$0):bVs.$==23?"ErrFeatureNotImplemented "+n.prettyPrint(bVs.$0):bVs.$==22?"ErrRecordNotFound ("+n.prettyPrint(bVs.$0)+", "+n.prettyPrint(bVs.$1)+")":bVs.$==21?"ErrRecordWasNotUpdated "+n.prettyPrint(bVs.$0):bVs.$==20?"ErrDockerIsNotPresent "+bVo(bVs.$0):bVs.$==19?"ErrObjectNotFound "+bVr(bVs.$0):bVs.$==18?"ErrNoProvisionedClientAvailable":bVs.$==17?"ErrClientNotFound "+bVq(bVs.$0):bVs.$==16?"ErrUserIsNotDefined "+n.prettyPrint(bVs.$0):bVs.$==15?"ErrUserIsNotAssociatedToClient "+bVp(bVs.$0):bVs.$==14?"ErrDockerDataNotFound "+bVo(bVs.$0):bVs.$==13?"ErrUniqueIdNotDefinedForReport "+bVl(bVs.$0):bVs.$==12?"ErrDockerDefinitionNotFound "+bVo(bVs.$0):bVs.$==11?"ErrTableDefinitionNotFound "+bVm(bVs.$0):bVs.$==10?"ErrReportDefinitionNotFound "+bVl(bVs.$0):bVs.$==9?"ErrInvalidContentPageForClient "+n.prettyPrint(bVs.$0):bVs.$==8?"ErrInvalidToken "+n.prettyPrint(bVs.$0):bVs.$==7?"ErrLoginFailed "+n.prettyPrint(bVs.$0):bVs.$==6?"ErrUserIsNotLoggedIn":bVs.$==5?"ErrValueIsNull ("+n.prettyPrint(bVs.$0)+", "+n.prettyPrint(bVs.$1)+")":bVs.$==4?"ErrParameterMissing "+n.prettyPrint(bVs.$0):bVs.$==3?"ErrDuplicatedKeys ("+n.prettyPrint(bVs.$0)+", "+n.printArray(function(bVt){return n.prettyPrint(bVt);},bVs.$1)+")":bVs.$==2?"ErrUndefinedKeys ("+n.prettyPrint(bVs.$0)+", "+n.printArray(function(bVu){return n.prettyPrint(bVu);},bVs.$1)+")":bVs.$==1?"ErrExceptionThrown "+n.prettyPrint(bVs.$0):"WarnNotification "+n.prettyPrint(bVs.$0);};bVl=function(bVv){return"Report "+n.prettyPrint(bVv.$0);};bVm=function(bVw){return bVw.$==2?"ExternalTable ("+n.prettyPrint(bVw.$0)+", "+n.prettyPrint(bVw.$1)+")":bVw.$==1?"SystemTable "+n.prettyPrint(bVw.$0):"DimensionTable "+bVn(bVw.$0);};bVn=function(bVx){return"Dimension "+n.prettyPrint(bVx.$0);};bVo=function(bVy){return bVy.$==5?"DckDockSpawn":bVy.$==4?"DckPhosphor":bVy.$==3?"DckWCDocker":bVy.$==2?"DckGoldenLayout":bVy.$==1?"DckSingle":"DckEmpty";};bVp=function(bVz){return"User "+n.prettyPrint(bVz.$0);};bVq=function(bVA){return"Client "+n.prettyPrint(bVA.$0);};bVr=function(bVB){return"OWorkspace "+n.prettyPrint(bVB.$0);};bVj=bVf+": "+bVk(bVi);bF(bVj);return V?V.log(bVi):undefined;};return z.iter(bVh,bVg);},ropBuilder:$.Class({Bind:function(bVC,bVD){return(p.bindTry(bVD))(bVC);},Combine:function(bVE,bVF){var bVG,bVH,bVI,bVJ,bVK,bVL,bVM,bVN,bVO,bVP,bVQ,bVR,bVS;bVG=[bVE,bVF];if(bVG[0].$==1){if(bVG[1].$==1){bVJ=bVG[0].$0;bVK=bVG[1].$0;bVI={$:1,$0:f.append(bVJ,bVK)};}else{bVL=bVG[0].$0;bVM=bVG[1].$1;bVG[1].$0;bVI={$:1,$0:f.append(bVL,bVM)};}bVH=bVI;}else{if(bVG[1].$==1){bVO=bVG[0].$1;bVP=bVG[1].$0;bVG[0].$0;bVN={$:1,$0:f.append(bVO,bVP)};}else{bVQ=bVG[0].$1;bVR=bVG[1].$1;bVG[0].$0;bVS=bVG[1].$0;bVN={$:0,$0:bVS,$1:f.append(bVQ,bVR)};}bVH=bVN;}return bVH;},Delay:function(bVT){return bVT(null);},For:function(bVU,bVV){var bVX=this;return this.Using(by.Get(bVU),function(bVW){return bVX.While(function(){return bVW.MoveNext();},bVX.Delay(function(){return bVV(bVW.get_Current());}));});},Return:function(bV0){return p.succeed(bV0);},ReturnFrom:function(bV1){return bV1;},Using:function(bV2,bV3){return bx.Using(bV2,bV3);},While:function(bV4,bV5){var bV7=this;return!bV4(null)?this.Zero():this.Bind(bV5(null),function(){return bV7.While(bV4,bV5);});},Zero:function(){return p.succeed(null);}},{New:function(){return $.New(this,{});}}),seqCheck:function(bV8){var bV9,bV$,bWa,bWb,bWf,bWg,bWk;bV9=function(bV_){return bV_.$==1?true:false;};bV$=z.exists(bV9,bV8);if(bV$){bWb=function(bWc){var bWd,bWe;if(bWc.$==1){bWe=bWc.$0;bWd={$:1,$0:bWe};}else{bWd={$:0};}return bWd;};bWf=z.pick(bWb,bV8);bWa={$:1,$0:bWf};}else{bWg=function(bWh){var bWi,bWj;if(bWh.$==0){bWj=bWh.$0;bWi=bWj;}else{bWi=bx.Raise(bG.New("D:\\Abe\\CIPHERWorkspace\\CipherSpace\\CIPHERPrototype2\\Rop.fs",194,69));}return bWi;};bWk=z.map(bWg,bV8);bWa=p.succeed(bWk);}return bWa;},succeed:function(bWl){return{$:0,$0:bWl,$1:$.New(g,{$:0})};},succeedWithMsg:function(bWm,bWn){return{$:0,$0:bWm,$1:f.ofArray([bWn])};},successTee:function(bWo,bWp){var bWq;bWq=function(bWr){var bWs,bWt;bWs=bWr[0];bWt=bWr[1];bWo([bWs,bWt]);return{$:0,$0:bWs,$1:bWt};};return p.either(bWq,function(bWu){return{$:1,$0:bWu};},bWp);},toOption:function(bWv){var bWw,bWx;if(bWv.$==0){bWx=bWv.$0;bWw={$:1,$0:bWx};}else{bWw={$:0};}return bWw;},tryProtection:function(){return p.succeed(null);},valueOrDefault:function(bWy,bWz){var bWA,bWB,bWC;if(bWz.$==1){bWB=bWz.$0;bWA=bWy(bWB);}else{bWC=bWz.$0;bWA=bWC;}return bWA;}}}});$.OnInit(function(){a=$.Safe($$.React);b=$.Safe($$.CIPHERPrototype1);c=$.Safe(b.ClientForm);d=$.Safe(b.Browser);e=$.Safe(b.AboutForm);f=$.Safe($$.WebSharper.List);g=$.Safe(f.T);h=$.Safe(b.ReactHtml);i=$.Safe($$.WebSharper.Html);j=$.Safe(i.Client);k=$.Safe(j.Attr);l=$.Safe(j.Tags);m=$.Safe(b.Server);n=$.Safe($$.WebSharper.PrintfHelpers);o=$.Safe($$.Rop);p=$.Safe(o.Rop);q=$.Safe($$.WebSharper.Remoting);r=$.Safe(q.AjaxRemotingProvider);s=$.Safe($$.window);t=$.Safe(j.EventsPervasives);u=$.Safe(j.Operators);v=$.Safe($$.document);w=$.Safe($$.String);x=$.Safe(b.SlickGrid);y=$.Safe($$.WebSharper.Unchecked);z=$.Safe($$.WebSharper.Seq);A=$.Safe($$.WebSharper.Arrays);B=$.Safe($$.WebSharper.Option);C=$.Safe(b.Model2);D=$.Safe(C.FieldDefinition);E=$.Safe($$.WebSharper.Strings);F=$.Safe($$.WebSharper.Collections);G=$.Safe(F.FSharpSet);H=$.Safe(F.BalancedTree);I=$.Safe($$.ReactDOM);J=$.Safe(F.SetModule);K=$.Safe(C.Validation);L=$.Safe(b.R);M=$.Safe($$.RegExp);N=$.Safe(b.GenForm);O=$.Safe(b.Dialog);P=$.Safe(b.Popup);Q=$.Safe($$.Slick);R=$.Safe(b.Fields);S=$.Safe(o.Option);T=$.Safe(b.ClientFormClient);U=$.Safe(b.App);V=$.Safe($$.console);W=$.Safe(b.CubeOlapForm);X=$.Safe($$.WebSharper.Concurrency);Y=$.Safe($$.FileReader);Z=$.Safe(b.DckDockSpawn);_0=$.Safe($$.dockspawn);_1=$.Safe(b.DckGoldenLayout);_2=$.Safe($$.GoldenLayout);_3=$.Safe($$.JSON);_4=$.Safe(b.DckPhosphor);_5=$.Safe($$.phosphorDockPanel);_6=$.Safe($$.phosphorWidget);_7=$.Safe(b.DckSingle);_8=$.Safe($$.jQuery);_9=$.Safe(b.DckWCDocker);_=$.Safe($$.wcDocker);ba=$.Safe(b.DimModel);bb=$.Safe($$.Seq);bc=$.Safe($$.WebSharper.Lazy);bd=$.Safe(o.ARop);be=$.Safe(b.Layouts);bf=$.Safe(b.DimensionForm);bg=$.Safe($$.WebSharper.Slice);bh=$.Safe($$.parseInt);bi=$.Safe(x.DataView);bj=$.Safe(b.FancyTree);bk=$.Safe($$.$);bl=$.Safe(b.LoginForm);bm=$.Safe(b.MenuBar);bn=$.Safe(b.SearchFlickr);bo=$.Safe(b.Model);bp=$.Safe(bo.Language);bq=$.Safe(bo.User);br=$.Safe(bo.ObjectT);bs=$.Safe($$.WebSharper.Control);bt=$.Safe(bs.MailboxProcessor);bu=$.Safe(bn.Impure);bv=$.Safe(m.callServerBuilder);bw=$.Safe(x.RowT);bx=$.Safe($$.WebSharper.Operators);by=$.Safe($$.WebSharper.Enumerator);bz=$.Safe($$.setTimeout);bA=$.Safe(b.TestFS);bB=$.Safe(b.UploadForm);bC=$.Safe(b.UserFormClient);bD=$.Safe(bd.Builder);bE=$.Safe(p.ropBuilder);bF=$.Safe($$.alert);return bG=$.Safe($$.WebSharper.MatchFailureException);});$.OnLoad(function(){p.flow();bd.wrap();x.gridOptions();m.call();bn.srcs();bn.mediaUrl();bn.init();h.addAttributes();h.addAttribute();P.init();ba.init();O.init();_9.savedLayout();_9.globalDocker();_7.globalPanels();_7.globalDocker();_4.globalPanels();_4.globalDocker();_1.savedLayout();_1.globalDocker();Z.globalPanels();Z.globalDocker();d.registerMouseEvents();d.mouseStatus();d.instance();d.globalToken();return;});}());
